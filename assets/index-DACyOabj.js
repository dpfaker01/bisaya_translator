(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();var Sl={exports:{}},Yo={},Cl={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc;function Am(){if(Qc)return ce;Qc=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function E(A){return A===null||typeof A!="object"?null:(A=T&&A[T]||A["@@iterator"],typeof A=="function"?A:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,k={};function P(A,L,ue){this.props=A,this.context=L,this.refs=k,this.updater=ue||C}P.prototype.isReactComponent={},P.prototype.setState=function(A,L){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,L,"setState")},P.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function F(){}F.prototype=P.prototype;function q(A,L,ue){this.props=A,this.context=L,this.refs=k,this.updater=ue||C}var H=q.prototype=new F;H.constructor=q,x(H,P.prototype),H.isPureReactComponent=!0;var J=Array.isArray,Z=Object.prototype.hasOwnProperty,ee={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function fe(A,L,ue){var de,ge={},ve=null,Ce=null;if(L!=null)for(de in L.ref!==void 0&&(Ce=L.ref),L.key!==void 0&&(ve=""+L.key),L)Z.call(L,de)&&!b.hasOwnProperty(de)&&(ge[de]=L[de]);var _e=arguments.length-2;if(_e===1)ge.children=ue;else if(1<_e){for(var Re=Array(_e),st=0;st<_e;st++)Re[st]=arguments[st+2];ge.children=Re}if(A&&A.defaultProps)for(de in _e=A.defaultProps,_e)ge[de]===void 0&&(ge[de]=_e[de]);return{$$typeof:n,type:A,key:ve,ref:Ce,props:ge,_owner:ee.current}}function Y(A,L){return{$$typeof:n,type:A.type,key:L,ref:A.ref,props:A.props,_owner:A._owner}}function le(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function Te(A){var L={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ue){return L[ue]})}var j=/\/+/g;function oe(A,L){return typeof A=="object"&&A!==null&&A.key!=null?Te(""+A.key):L.toString(36)}function pe(A,L,ue,de,ge){var ve=typeof A;(ve==="undefined"||ve==="boolean")&&(A=null);var Ce=!1;if(A===null)Ce=!0;else switch(ve){case"string":case"number":Ce=!0;break;case"object":switch(A.$$typeof){case n:case e:Ce=!0}}if(Ce)return Ce=A,ge=ge(Ce),A=de===""?"."+oe(Ce,0):de,J(ge)?(ue="",A!=null&&(ue=A.replace(j,"$&/")+"/"),pe(ge,L,ue,"",function(st){return st})):ge!=null&&(le(ge)&&(ge=Y(ge,ue+(!ge.key||Ce&&Ce.key===ge.key?"":(""+ge.key).replace(j,"$&/")+"/")+A)),L.push(ge)),1;if(Ce=0,de=de===""?".":de+":",J(A))for(var _e=0;_e<A.length;_e++){ve=A[_e];var Re=de+oe(ve,_e);Ce+=pe(ve,L,ue,Re,ge)}else if(Re=E(A),typeof Re=="function")for(A=Re.call(A),_e=0;!(ve=A.next()).done;)ve=ve.value,Re=de+oe(ve,_e++),Ce+=pe(ve,L,ue,Re,ge);else if(ve==="object")throw L=String(A),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return Ce}function xe(A,L,ue){if(A==null)return A;var de=[],ge=0;return pe(A,de,"","",function(ve){return L.call(ue,ve,ge++)}),de}function Ue(A){if(A._status===-1){var L=A._result;L=L(),L.then(function(ue){(A._status===0||A._status===-1)&&(A._status=1,A._result=ue)},function(ue){(A._status===0||A._status===-1)&&(A._status=2,A._result=ue)}),A._status===-1&&(A._status=0,A._result=L)}if(A._status===1)return A._result.default;throw A._result}var he={current:null},B={transition:null},ie={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:B,ReactCurrentOwner:ee};function W(){throw Error("act(...) is not supported in production builds of React.")}return ce.Children={map:xe,forEach:function(A,L,ue){xe(A,function(){L.apply(this,arguments)},ue)},count:function(A){var L=0;return xe(A,function(){L++}),L},toArray:function(A){return xe(A,function(L){return L})||[]},only:function(A){if(!le(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ce.Component=P,ce.Fragment=i,ce.Profiler=a,ce.PureComponent=q,ce.StrictMode=r,ce.Suspense=g,ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,ce.act=W,ce.cloneElement=function(A,L,ue){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var de=x({},A.props),ge=A.key,ve=A.ref,Ce=A._owner;if(L!=null){if(L.ref!==void 0&&(ve=L.ref,Ce=ee.current),L.key!==void 0&&(ge=""+L.key),A.type&&A.type.defaultProps)var _e=A.type.defaultProps;for(Re in L)Z.call(L,Re)&&!b.hasOwnProperty(Re)&&(de[Re]=L[Re]===void 0&&_e!==void 0?_e[Re]:L[Re])}var Re=arguments.length-2;if(Re===1)de.children=ue;else if(1<Re){_e=Array(Re);for(var st=0;st<Re;st++)_e[st]=arguments[st+2];de.children=_e}return{$$typeof:n,type:A.type,key:ge,ref:ve,props:de,_owner:Ce}},ce.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},ce.createElement=fe,ce.createFactory=function(A){var L=fe.bind(null,A);return L.type=A,L},ce.createRef=function(){return{current:null}},ce.forwardRef=function(A){return{$$typeof:h,render:A}},ce.isValidElement=le,ce.lazy=function(A){return{$$typeof:y,_payload:{_status:-1,_result:A},_init:Ue}},ce.memo=function(A,L){return{$$typeof:m,type:A,compare:L===void 0?null:L}},ce.startTransition=function(A){var L=B.transition;B.transition={};try{A()}finally{B.transition=L}},ce.unstable_act=W,ce.useCallback=function(A,L){return he.current.useCallback(A,L)},ce.useContext=function(A){return he.current.useContext(A)},ce.useDebugValue=function(){},ce.useDeferredValue=function(A){return he.current.useDeferredValue(A)},ce.useEffect=function(A,L){return he.current.useEffect(A,L)},ce.useId=function(){return he.current.useId()},ce.useImperativeHandle=function(A,L,ue){return he.current.useImperativeHandle(A,L,ue)},ce.useInsertionEffect=function(A,L){return he.current.useInsertionEffect(A,L)},ce.useLayoutEffect=function(A,L){return he.current.useLayoutEffect(A,L)},ce.useMemo=function(A,L){return he.current.useMemo(A,L)},ce.useReducer=function(A,L,ue){return he.current.useReducer(A,L,ue)},ce.useRef=function(A){return he.current.useRef(A)},ce.useState=function(A){return he.current.useState(A)},ce.useSyncExternalStore=function(A,L,ue){return he.current.useSyncExternalStore(A,L,ue)},ce.useTransition=function(){return he.current.useTransition()},ce.version="18.3.1",ce}var Xc;function $l(){return Xc||(Xc=1,Cl.exports=Am()),Cl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc;function Rm(){if(Zc)return Yo;Zc=1;var n=$l(),e=Symbol.for("react.element"),i=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(h,g,m){var y,T={},E=null,C=null;m!==void 0&&(E=""+m),g.key!==void 0&&(E=""+g.key),g.ref!==void 0&&(C=g.ref);for(y in g)r.call(g,y)&&!c.hasOwnProperty(y)&&(T[y]=g[y]);if(h&&h.defaultProps)for(y in g=h.defaultProps,g)T[y]===void 0&&(T[y]=g[y]);return{$$typeof:e,type:h,key:E,ref:C,props:T,_owner:a.current}}return Yo.Fragment=i,Yo.jsx=f,Yo.jsxs=f,Yo}var bc;function Pm(){return bc||(bc=1,Sl.exports=Rm()),Sl.exports}var ae=Pm(),vt=$l(),ur={},Il={exports:{}},rt={},wl={exports:{}},Al={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jc;function Nm(){return jc||(jc=1,(function(n){function e(B,ie){var W=B.length;B.push(ie);e:for(;0<W;){var A=W-1>>>1,L=B[A];if(0<a(L,ie))B[A]=ie,B[W]=L,W=A;else break e}}function i(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ie=B[0],W=B.pop();if(W!==ie){B[0]=W;e:for(var A=0,L=B.length,ue=L>>>1;A<ue;){var de=2*(A+1)-1,ge=B[de],ve=de+1,Ce=B[ve];if(0>a(ge,W))ve<L&&0>a(Ce,ge)?(B[A]=Ce,B[ve]=W,A=ve):(B[A]=ge,B[de]=W,A=de);else if(ve<L&&0>a(Ce,W))B[A]=Ce,B[ve]=W,A=ve;else break e}}return ie}function a(B,ie){var W=B.sortIndex-ie.sortIndex;return W!==0?W:B.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var g=[],m=[],y=1,T=null,E=3,C=!1,x=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(B){for(var ie=i(m);ie!==null;){if(ie.callback===null)r(m);else if(ie.startTime<=B)r(m),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=i(m)}}function J(B){if(k=!1,H(B),!x)if(i(g)!==null)x=!0,Ue(Z);else{var ie=i(m);ie!==null&&he(J,ie.startTime-B)}}function Z(B,ie){x=!1,k&&(k=!1,F(fe),fe=-1),C=!0;var W=E;try{for(H(ie),T=i(g);T!==null&&(!(T.expirationTime>ie)||B&&!Te());){var A=T.callback;if(typeof A=="function"){T.callback=null,E=T.priorityLevel;var L=A(T.expirationTime<=ie);ie=n.unstable_now(),typeof L=="function"?T.callback=L:T===i(g)&&r(g),H(ie)}else r(g);T=i(g)}if(T!==null)var ue=!0;else{var de=i(m);de!==null&&he(J,de.startTime-ie),ue=!1}return ue}finally{T=null,E=W,C=!1}}var ee=!1,b=null,fe=-1,Y=5,le=-1;function Te(){return!(n.unstable_now()-le<Y)}function j(){if(b!==null){var B=n.unstable_now();le=B;var ie=!0;try{ie=b(!0,B)}finally{ie?oe():(ee=!1,b=null)}}else ee=!1}var oe;if(typeof q=="function")oe=function(){q(j)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,xe=pe.port2;pe.port1.onmessage=j,oe=function(){xe.postMessage(null)}}else oe=function(){P(j,0)};function Ue(B){b=B,ee||(ee=!0,oe())}function he(B,ie){fe=P(function(){B(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){x||C||(x=!0,Ue(Z))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return i(g)},n.unstable_next=function(B){switch(E){case 1:case 2:case 3:var ie=3;break;default:ie=E}var W=E;E=ie;try{return B()}finally{E=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,ie){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=E;E=B;try{return ie()}finally{E=W}},n.unstable_scheduleCallback=function(B,ie,W){var A=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?A+W:A):W=A,B){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=W+L,B={id:y++,callback:ie,priorityLevel:B,startTime:W,expirationTime:L,sortIndex:-1},W>A?(B.sortIndex=W,e(m,B),i(g)===null&&B===i(m)&&(k?(F(fe),fe=-1):k=!0,he(J,W-A))):(B.sortIndex=L,e(g,B),x||C||(x=!0,Ue(Z))),B},n.unstable_shouldYield=Te,n.unstable_wrapCallback=function(B){var ie=E;return function(){var W=E;E=ie;try{return B.apply(this,arguments)}finally{E=W}}}})(Al)),Al}var ed;function Mm(){return ed||(ed=1,wl.exports=Nm()),wl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td;function xm(){if(td)return rt;td=1;var n=$l(),e=Mm();function i(t){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function c(t,o){f(t,o),f(t+"Capture",o)}function f(t,o){for(a[t]=o,t=0;t<o.length;t++)r.add(o[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},T={};function E(t){return g.call(T,t)?!0:g.call(y,t)?!1:m.test(t)?T[t]=!0:(y[t]=!0,!1)}function C(t,o,s,d){if(s!==null&&s.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x(t,o,s,d){if(o===null||typeof o>"u"||C(t,o,s,d))return!0;if(d)return!1;if(s!==null)switch(s.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(t,o,s,d,p,v,_){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=s,this.propertyName=t,this.type=o,this.sanitizeURL=v,this.removeEmptyString=_}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){P[t]=new k(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var o=t[0];P[o]=new k(o,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){P[t]=new k(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){P[t]=new k(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){P[t]=new k(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){P[t]=new k(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){P[t]=new k(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){P[t]=new k(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){P[t]=new k(t,5,!1,t.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function q(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var o=t.replace(F,q);P[o]=new k(o,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var o=t.replace(F,q);P[o]=new k(o,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var o=t.replace(F,q);P[o]=new k(o,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){P[t]=new k(t,1,!1,t.toLowerCase(),null,!1,!1)}),P.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){P[t]=new k(t,1,!1,t.toLowerCase(),null,!0,!0)});function H(t,o,s,d){var p=P.hasOwnProperty(o)?P[o]:null;(p!==null?p.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(x(o,s,p,d)&&(s=null),d||p===null?E(o)&&(s===null?t.removeAttribute(o):t.setAttribute(o,""+s)):p.mustUseProperty?t[p.propertyName]=s===null?p.type===3?!1:"":s:(o=p.attributeName,d=p.attributeNamespace,s===null?t.removeAttribute(o):(p=p.type,s=p===3||p===4&&s===!0?"":""+s,d?t.setAttributeNS(d,o,s):t.setAttribute(o,s))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),ee=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),Te=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),B=Symbol.iterator;function ie(t){return t===null||typeof t!="object"?null:(t=B&&t[B]||t["@@iterator"],typeof t=="function"?t:null)}var W=Object.assign,A;function L(t){if(A===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);A=o&&o[1]||""}return`
`+A+t}var ue=!1;function de(t,o){if(!t||ue)return"";ue=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(M){var d=M}Reflect.construct(t,[],o)}else{try{o.call()}catch(M){d=M}t.call(o.prototype)}else{try{throw Error()}catch(M){d=M}t()}}catch(M){if(M&&d&&typeof M.stack=="string"){for(var p=M.stack.split(`
`),v=d.stack.split(`
`),_=p.length-1,S=v.length-1;1<=_&&0<=S&&p[_]!==v[S];)S--;for(;1<=_&&0<=S;_--,S--)if(p[_]!==v[S]){if(_!==1||S!==1)do if(_--,S--,0>S||p[_]!==v[S]){var I=`
`+p[_].replace(" at new "," at ");return t.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",t.displayName)),I}while(1<=_&&0<=S);break}}}finally{ue=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?L(t):""}function ge(t){switch(t.tag){case 5:return L(t.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return t=de(t.type,!1),t;case 11:return t=de(t.type.render,!1),t;case 1:return t=de(t.type,!0),t;default:return""}}function ve(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case b:return"Fragment";case ee:return"Portal";case Y:return"Profiler";case fe:return"StrictMode";case oe:return"Suspense";case pe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Te:return(t.displayName||"Context")+".Consumer";case le:return(t._context.displayName||"Context")+".Provider";case j:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xe:return o=t.displayName||null,o!==null?o:ve(t.type)||"Memo";case Ue:o=t._payload,t=t._init;try{return ve(t(o))}catch{}}return null}function Ce(t){var o=t.type;switch(t.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=o.render,t=t.displayName||t.name||"",o.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(o);case 8:return o===fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function _e(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Re(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function st(t){var o=Re(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,o),d=""+t[o];if(!t.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,v=s.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return p.call(this)},set:function(_){d=""+_,v.call(this,_)}}),Object.defineProperty(t,o,{enumerable:s.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function jo(t){t._valueTracker||(t._valueTracker=st(t))}function ta(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var s=o.getValue(),d="";return t&&(d=Re(t)?t.checked?"true":"false":t.value),t=d,t!==s?(o.setValue(t),!0):!1}function ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nr(t,o){var s=o.checked;return W({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function na(t,o){var s=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;s=_e(o.value!=null?o.value:s),t._wrapperState={initialChecked:d,initialValue:s,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function oa(t,o){o=o.checked,o!=null&&H(t,"checked",o,!1)}function Mr(t,o){oa(t,o);var s=_e(o.value),d=o.type;if(s!=null)d==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(d==="submit"||d==="reset"){t.removeAttribute("value");return}o.hasOwnProperty("value")?xr(t,o.type,s):o.hasOwnProperty("defaultValue")&&xr(t,o.type,_e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(t.defaultChecked=!!o.defaultChecked)}function ia(t,o,s){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+t._wrapperState.initialValue,s||o===t.value||(t.value=o),t.defaultValue=o}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function xr(t,o,s){(o!=="number"||ei(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var ao=Array.isArray;function Nn(t,o,s,d){if(t=t.options,o){o={};for(var p=0;p<s.length;p++)o["$"+s[p]]=!0;for(s=0;s<t.length;s++)p=o.hasOwnProperty("$"+t[s].value),t[s].selected!==p&&(t[s].selected=p),p&&d&&(t[s].defaultSelected=!0)}else{for(s=""+_e(s),o=null,p=0;p<t.length;p++){if(t[p].value===s){t[p].selected=!0,d&&(t[p].defaultSelected=!0);return}o!==null||t[p].disabled||(o=t[p])}o!==null&&(o.selected=!0)}}function kr(t,o){if(o.dangerouslySetInnerHTML!=null)throw Error(i(91));return W({},o,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ra(t,o){var s=o.value;if(s==null){if(s=o.children,o=o.defaultValue,s!=null){if(o!=null)throw Error(i(92));if(ao(s)){if(1<s.length)throw Error(i(93));s=s[0]}o=s}o==null&&(o=""),s=o}t._wrapperState={initialValue:_e(s)}}function sa(t,o){var s=_e(o.value),d=_e(o.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),o.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),d!=null&&(t.defaultValue=""+d)}function la(t){var o=t.textContent;o===t._wrapperState.initialValue&&o!==""&&o!==null&&(t.value=o)}function aa(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dr(t,o){return t==null||t==="http://www.w3.org/1999/xhtml"?aa(o):t==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ti,ua=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,s,d,p){MSApp.execUnsafeLocalFunction(function(){return t(o,s,d,p)})}:t})(function(t,o){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=o;else{for(ti=ti||document.createElement("div"),ti.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ti.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;o.firstChild;)t.appendChild(o.firstChild)}});function uo(t,o){if(o){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=o;return}}t.textContent=o}var co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mp=["Webkit","ms","Moz","O"];Object.keys(co).forEach(function(t){Mp.forEach(function(o){o=o+t.charAt(0).toUpperCase()+t.substring(1),co[o]=co[t]})});function ca(t,o,s){return o==null||typeof o=="boolean"||o===""?"":s||typeof o!="number"||o===0||co.hasOwnProperty(t)&&co[t]?(""+o).trim():o+"px"}function da(t,o){t=t.style;for(var s in o)if(o.hasOwnProperty(s)){var d=s.indexOf("--")===0,p=ca(s,o[s],d);s==="float"&&(s="cssFloat"),d?t.setProperty(s,p):t[s]=p}}var xp=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lr(t,o){if(o){if(xp[t]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(i(137,t));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(i(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(i(61))}if(o.style!=null&&typeof o.style!="object")throw Error(i(62))}}function Ur(t,o){if(t.indexOf("-")===-1)return typeof o.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fr=null;function Vr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gr=null,Mn=null,xn=null;function fa(t){if(t=Do(t)){if(typeof Gr!="function")throw Error(i(280));var o=t.stateNode;o&&(o=Ii(o),Gr(t.stateNode,t.type,o))}}function pa(t){Mn?xn?xn.push(t):xn=[t]:Mn=t}function ha(){if(Mn){var t=Mn,o=xn;if(xn=Mn=null,fa(t),o)for(t=0;t<o.length;t++)fa(o[t])}}function ma(t,o){return t(o)}function ga(){}var Hr=!1;function va(t,o,s){if(Hr)return t(o,s);Hr=!0;try{return ma(t,o,s)}finally{Hr=!1,(Mn!==null||xn!==null)&&(ga(),ha())}}function fo(t,o){var s=t.stateNode;if(s===null)return null;var d=Ii(s);if(d===null)return null;s=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(t=t.type,d=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!d;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,o,typeof s));return s}var Br=!1;if(h)try{var po={};Object.defineProperty(po,"passive",{get:function(){Br=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{Br=!1}function kp(t,o,s,d,p,v,_,S,I){var M=Array.prototype.slice.call(arguments,3);try{o.apply(s,M)}catch(U){this.onError(U)}}var ho=!1,ni=null,oi=!1,qr=null,Dp={onError:function(t){ho=!0,ni=t}};function Lp(t,o,s,d,p,v,_,S,I){ho=!1,ni=null,kp.apply(Dp,arguments)}function Up(t,o,s,d,p,v,_,S,I){if(Lp.apply(this,arguments),ho){if(ho){var M=ni;ho=!1,ni=null}else throw Error(i(198));oi||(oi=!0,qr=M)}}function hn(t){var o=t,s=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,(o.flags&4098)!==0&&(s=o.return),t=o.return;while(t)}return o.tag===3?s:null}function ya(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function Ea(t){if(hn(t)!==t)throw Error(i(188))}function Fp(t){var o=t.alternate;if(!o){if(o=hn(t),o===null)throw Error(i(188));return o!==t?null:t}for(var s=t,d=o;;){var p=s.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){s=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===s)return Ea(p),t;if(v===d)return Ea(p),o;v=v.sibling}throw Error(i(188))}if(s.return!==d.return)s=p,d=v;else{for(var _=!1,S=p.child;S;){if(S===s){_=!0,s=p,d=v;break}if(S===d){_=!0,d=p,s=v;break}S=S.sibling}if(!_){for(S=v.child;S;){if(S===s){_=!0,s=v,d=p;break}if(S===d){_=!0,d=v,s=p;break}S=S.sibling}if(!_)throw Error(i(189))}}if(s.alternate!==d)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:o}function Ta(t){return t=Fp(t),t!==null?_a(t):null}function _a(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var o=_a(t);if(o!==null)return o;t=t.sibling}return null}var Sa=e.unstable_scheduleCallback,Ca=e.unstable_cancelCallback,Vp=e.unstable_shouldYield,Gp=e.unstable_requestPaint,De=e.unstable_now,Hp=e.unstable_getCurrentPriorityLevel,zr=e.unstable_ImmediatePriority,Ia=e.unstable_UserBlockingPriority,ii=e.unstable_NormalPriority,Bp=e.unstable_LowPriority,wa=e.unstable_IdlePriority,ri=null,xt=null;function qp(t){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(ri,t,void 0,(t.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:$p,zp=Math.log,Jp=Math.LN2;function $p(t){return t>>>=0,t===0?32:31-(zp(t)/Jp|0)|0}var si=64,li=4194304;function mo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ai(t,o){var s=t.pendingLanes;if(s===0)return 0;var d=0,p=t.suspendedLanes,v=t.pingedLanes,_=s&268435455;if(_!==0){var S=_&~p;S!==0?d=mo(S):(v&=_,v!==0&&(d=mo(v)))}else _=s&~p,_!==0?d=mo(_):v!==0&&(d=mo(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&p)===0&&(p=d&-d,v=o&-o,p>=v||p===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=s&16),o=t.entangledLanes,o!==0)for(t=t.entanglements,o&=d;0<o;)s=31-_t(o),p=1<<s,d|=t[s],o&=~p;return d}function Op(t,o){switch(t){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wp(t,o){for(var s=t.suspendedLanes,d=t.pingedLanes,p=t.expirationTimes,v=t.pendingLanes;0<v;){var _=31-_t(v),S=1<<_,I=p[_];I===-1?((S&s)===0||(S&d)!==0)&&(p[_]=Op(S,o)):I<=o&&(t.expiredLanes|=S),v&=~S}}function Jr(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Aa(){var t=si;return si<<=1,(si&4194240)===0&&(si=64),t}function $r(t){for(var o=[],s=0;31>s;s++)o.push(t);return o}function go(t,o,s){t.pendingLanes|=o,o!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,o=31-_t(o),t[o]=s}function Kp(t,o){var s=t.pendingLanes&~o;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=o,t.mutableReadLanes&=o,t.entangledLanes&=o,o=t.entanglements;var d=t.eventTimes;for(t=t.expirationTimes;0<s;){var p=31-_t(s),v=1<<p;o[p]=0,d[p]=-1,t[p]=-1,s&=~v}}function Or(t,o){var s=t.entangledLanes|=o;for(t=t.entanglements;s;){var d=31-_t(s),p=1<<d;p&o|t[d]&o&&(t[d]|=o),s&=~p}}var Se=0;function Ra(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Pa,Wr,Na,Ma,xa,Kr=!1,ui=[],Kt=null,Yt=null,Qt=null,vo=new Map,yo=new Map,Xt=[],Yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ka(t,o){switch(t){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":vo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(o.pointerId)}}function Eo(t,o,s,d,p,v){return t===null||t.nativeEvent!==v?(t={blockedOn:o,domEventName:s,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},o!==null&&(o=Do(o),o!==null&&Wr(o)),t):(t.eventSystemFlags|=d,o=t.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),t)}function Qp(t,o,s,d,p){switch(o){case"focusin":return Kt=Eo(Kt,t,o,s,d,p),!0;case"dragenter":return Yt=Eo(Yt,t,o,s,d,p),!0;case"mouseover":return Qt=Eo(Qt,t,o,s,d,p),!0;case"pointerover":var v=p.pointerId;return vo.set(v,Eo(vo.get(v)||null,t,o,s,d,p)),!0;case"gotpointercapture":return v=p.pointerId,yo.set(v,Eo(yo.get(v)||null,t,o,s,d,p)),!0}return!1}function Da(t){var o=mn(t.target);if(o!==null){var s=hn(o);if(s!==null){if(o=s.tag,o===13){if(o=ya(s),o!==null){t.blockedOn=o,xa(t.priority,function(){Na(s)});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ci(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var s=Qr(t.domEventName,t.eventSystemFlags,o[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var d=new s.constructor(s.type,s);Fr=d,s.target.dispatchEvent(d),Fr=null}else return o=Do(s),o!==null&&Wr(o),t.blockedOn=s,!1;o.shift()}return!0}function La(t,o,s){ci(t)&&s.delete(o)}function Xp(){Kr=!1,Kt!==null&&ci(Kt)&&(Kt=null),Yt!==null&&ci(Yt)&&(Yt=null),Qt!==null&&ci(Qt)&&(Qt=null),vo.forEach(La),yo.forEach(La)}function To(t,o){t.blockedOn===o&&(t.blockedOn=null,Kr||(Kr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xp)))}function _o(t){function o(p){return To(p,t)}if(0<ui.length){To(ui[0],t);for(var s=1;s<ui.length;s++){var d=ui[s];d.blockedOn===t&&(d.blockedOn=null)}}for(Kt!==null&&To(Kt,t),Yt!==null&&To(Yt,t),Qt!==null&&To(Qt,t),vo.forEach(o),yo.forEach(o),s=0;s<Xt.length;s++)d=Xt[s],d.blockedOn===t&&(d.blockedOn=null);for(;0<Xt.length&&(s=Xt[0],s.blockedOn===null);)Da(s),s.blockedOn===null&&Xt.shift()}var kn=J.ReactCurrentBatchConfig,di=!0;function Zp(t,o,s,d){var p=Se,v=kn.transition;kn.transition=null;try{Se=1,Yr(t,o,s,d)}finally{Se=p,kn.transition=v}}function bp(t,o,s,d){var p=Se,v=kn.transition;kn.transition=null;try{Se=4,Yr(t,o,s,d)}finally{Se=p,kn.transition=v}}function Yr(t,o,s,d){if(di){var p=Qr(t,o,s,d);if(p===null)fs(t,o,d,fi,s),ka(t,d);else if(Qp(p,t,o,s,d))d.stopPropagation();else if(ka(t,d),o&4&&-1<Yp.indexOf(t)){for(;p!==null;){var v=Do(p);if(v!==null&&Pa(v),v=Qr(t,o,s,d),v===null&&fs(t,o,d,fi,s),v===p)break;p=v}p!==null&&d.stopPropagation()}else fs(t,o,d,null,s)}}var fi=null;function Qr(t,o,s,d){if(fi=null,t=Vr(d),t=mn(t),t!==null)if(o=hn(t),o===null)t=null;else if(s=o.tag,s===13){if(t=ya(o),t!==null)return t;t=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null);return fi=t,null}function Ua(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hp()){case zr:return 1;case Ia:return 4;case ii:case Bp:return 16;case wa:return 536870912;default:return 16}default:return 16}}var Zt=null,Xr=null,pi=null;function Fa(){if(pi)return pi;var t,o=Xr,s=o.length,d,p="value"in Zt?Zt.value:Zt.textContent,v=p.length;for(t=0;t<s&&o[t]===p[t];t++);var _=s-t;for(d=1;d<=_&&o[s-d]===p[v-d];d++);return pi=p.slice(t,1<d?1-d:void 0)}function hi(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function mi(){return!0}function Va(){return!1}function lt(t){function o(s,d,p,v,_){this._reactName=s,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(v):v[S]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?mi:Va,this.isPropagationStopped=Va,this}return W(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),o}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zr=lt(Dn),So=W({},Dn,{view:0,detail:0}),jp=lt(So),br,jr,Co,gi=W({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Co&&(Co&&t.type==="mousemove"?(br=t.screenX-Co.screenX,jr=t.screenY-Co.screenY):jr=br=0,Co=t),br)},movementY:function(t){return"movementY"in t?t.movementY:jr}}),Ga=lt(gi),eh=W({},gi,{dataTransfer:0}),th=lt(eh),nh=W({},So,{relatedTarget:0}),es=lt(nh),oh=W({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),ih=lt(oh),rh=W({},Dn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sh=lt(rh),lh=W({},Dn,{data:0}),Ha=lt(lh),ah={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=ch[t])?!!o[t]:!1}function ts(){return dh}var fh=W({},So,{key:function(t){if(t.key){var o=ah[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=hi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ts,charCode:function(t){return t.type==="keypress"?hi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ph=lt(fh),hh=W({},gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ba=lt(hh),mh=W({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ts}),gh=lt(mh),vh=W({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),yh=lt(vh),Eh=W({},gi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Th=lt(Eh),_h=[9,13,27,32],ns=h&&"CompositionEvent"in window,Io=null;h&&"documentMode"in document&&(Io=document.documentMode);var Sh=h&&"TextEvent"in window&&!Io,qa=h&&(!ns||Io&&8<Io&&11>=Io),za=" ",Ja=!1;function $a(t,o){switch(t){case"keyup":return _h.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ln=!1;function Ch(t,o){switch(t){case"compositionend":return Oa(o);case"keypress":return o.which!==32?null:(Ja=!0,za);case"textInput":return t=o.data,t===za&&Ja?null:t;default:return null}}function Ih(t,o){if(Ln)return t==="compositionend"||!ns&&$a(t,o)?(t=Fa(),pi=Xr=Zt=null,Ln=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return qa&&o.locale!=="ko"?null:o.data;default:return null}}var wh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wa(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!wh[t.type]:o==="textarea"}function Ka(t,o,s,d){pa(d),o=_i(o,"onChange"),0<o.length&&(s=new Zr("onChange","change",null,s,d),t.push({event:s,listeners:o}))}var wo=null,Ao=null;function Ah(t){du(t,0)}function vi(t){var o=Hn(t);if(ta(o))return t}function Rh(t,o){if(t==="change")return o}var Ya=!1;if(h){var os;if(h){var is="oninput"in document;if(!is){var Qa=document.createElement("div");Qa.setAttribute("oninput","return;"),is=typeof Qa.oninput=="function"}os=is}else os=!1;Ya=os&&(!document.documentMode||9<document.documentMode)}function Xa(){wo&&(wo.detachEvent("onpropertychange",Za),Ao=wo=null)}function Za(t){if(t.propertyName==="value"&&vi(Ao)){var o=[];Ka(o,Ao,t,Vr(t)),va(Ah,o)}}function Ph(t,o,s){t==="focusin"?(Xa(),wo=o,Ao=s,wo.attachEvent("onpropertychange",Za)):t==="focusout"&&Xa()}function Nh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vi(Ao)}function Mh(t,o){if(t==="click")return vi(o)}function xh(t,o){if(t==="input"||t==="change")return vi(o)}function kh(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var St=typeof Object.is=="function"?Object.is:kh;function Ro(t,o){if(St(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var s=Object.keys(t),d=Object.keys(o);if(s.length!==d.length)return!1;for(d=0;d<s.length;d++){var p=s[d];if(!g.call(o,p)||!St(t[p],o[p]))return!1}return!0}function ba(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ja(t,o){var s=ba(t);t=0;for(var d;s;){if(s.nodeType===3){if(d=t+s.textContent.length,t<=o&&d>=o)return{node:s,offset:o-t};t=d}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ba(s)}}function eu(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?eu(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function tu(){for(var t=window,o=ei();o instanceof t.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)t=o.contentWindow;else break;o=ei(t.document)}return o}function rs(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}function Dh(t){var o=tu(),s=t.focusedElem,d=t.selectionRange;if(o!==s&&s&&s.ownerDocument&&eu(s.ownerDocument.documentElement,s)){if(d!==null&&rs(s)){if(o=d.start,t=d.end,t===void 0&&(t=o),"selectionStart"in s)s.selectionStart=o,s.selectionEnd=Math.min(t,s.value.length);else if(t=(o=s.ownerDocument||document)&&o.defaultView||window,t.getSelection){t=t.getSelection();var p=s.textContent.length,v=Math.min(d.start,p);d=d.end===void 0?v:Math.min(d.end,p),!t.extend&&v>d&&(p=d,d=v,v=p),p=ja(s,v);var _=ja(s,d);p&&_&&(t.rangeCount!==1||t.anchorNode!==p.node||t.anchorOffset!==p.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),t.removeAllRanges(),v>d?(t.addRange(o),t.extend(_.node,_.offset)):(o.setEnd(_.node,_.offset),t.addRange(o)))}}for(o=[],t=s;t=t.parentNode;)t.nodeType===1&&o.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<o.length;s++)t=o[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Lh=h&&"documentMode"in document&&11>=document.documentMode,Un=null,ss=null,Po=null,ls=!1;function nu(t,o,s){var d=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ls||Un==null||Un!==ei(d)||(d=Un,"selectionStart"in d&&rs(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Po&&Ro(Po,d)||(Po=d,d=_i(ss,"onSelect"),0<d.length&&(o=new Zr("onSelect","select",null,o,s),t.push({event:o,listeners:d}),o.target=Un)))}function yi(t,o){var s={};return s[t.toLowerCase()]=o.toLowerCase(),s["Webkit"+t]="webkit"+o,s["Moz"+t]="moz"+o,s}var Fn={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionend:yi("Transition","TransitionEnd")},as={},ou={};h&&(ou=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function Ei(t){if(as[t])return as[t];if(!Fn[t])return t;var o=Fn[t],s;for(s in o)if(o.hasOwnProperty(s)&&s in ou)return as[t]=o[s];return t}var iu=Ei("animationend"),ru=Ei("animationiteration"),su=Ei("animationstart"),lu=Ei("transitionend"),au=new Map,uu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bt(t,o){au.set(t,o),c(o,[t])}for(var us=0;us<uu.length;us++){var cs=uu[us],Uh=cs.toLowerCase(),Fh=cs[0].toUpperCase()+cs.slice(1);bt(Uh,"on"+Fh)}bt(iu,"onAnimationEnd"),bt(ru,"onAnimationIteration"),bt(su,"onAnimationStart"),bt("dblclick","onDoubleClick"),bt("focusin","onFocus"),bt("focusout","onBlur"),bt(lu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vh=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function cu(t,o,s){var d=t.type||"unknown-event";t.currentTarget=s,Up(d,o,void 0,t),t.currentTarget=null}function du(t,o){o=(o&4)!==0;for(var s=0;s<t.length;s++){var d=t[s],p=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var _=d.length-1;0<=_;_--){var S=d[_],I=S.instance,M=S.currentTarget;if(S=S.listener,I!==v&&p.isPropagationStopped())break e;cu(p,S,M),v=I}else for(_=0;_<d.length;_++){if(S=d[_],I=S.instance,M=S.currentTarget,S=S.listener,I!==v&&p.isPropagationStopped())break e;cu(p,S,M),v=I}}}if(oi)throw t=qr,oi=!1,qr=null,t}function we(t,o){var s=o[ys];s===void 0&&(s=o[ys]=new Set);var d=t+"__bubble";s.has(d)||(fu(o,t,2,!1),s.add(d))}function ds(t,o,s){var d=0;o&&(d|=4),fu(s,t,d,o)}var Ti="_reactListening"+Math.random().toString(36).slice(2);function Mo(t){if(!t[Ti]){t[Ti]=!0,r.forEach(function(s){s!=="selectionchange"&&(Vh.has(s)||ds(s,!1,t),ds(s,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[Ti]||(o[Ti]=!0,ds("selectionchange",!1,o))}}function fu(t,o,s,d){switch(Ua(o)){case 1:var p=Zp;break;case 4:p=bp;break;default:p=Yr}s=p.bind(null,o,s,t),p=void 0,!Br||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),d?p!==void 0?t.addEventListener(o,s,{capture:!0,passive:p}):t.addEventListener(o,s,!0):p!==void 0?t.addEventListener(o,s,{passive:p}):t.addEventListener(o,s,!1)}function fs(t,o,s,d,p){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var S=d.stateNode.containerInfo;if(S===p||S.nodeType===8&&S.parentNode===p)break;if(_===4)for(_=d.return;_!==null;){var I=_.tag;if((I===3||I===4)&&(I=_.stateNode.containerInfo,I===p||I.nodeType===8&&I.parentNode===p))return;_=_.return}for(;S!==null;){if(_=mn(S),_===null)return;if(I=_.tag,I===5||I===6){d=v=_;continue e}S=S.parentNode}}d=d.return}va(function(){var M=v,U=Vr(s),V=[];e:{var D=au.get(t);if(D!==void 0){var $=Zr,K=t;switch(t){case"keypress":if(hi(s)===0)break e;case"keydown":case"keyup":$=ph;break;case"focusin":K="focus",$=es;break;case"focusout":K="blur",$=es;break;case"beforeblur":case"afterblur":$=es;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=gh;break;case iu:case ru:case su:$=ih;break;case lu:$=yh;break;case"scroll":$=jp;break;case"wheel":$=Th;break;case"copy":case"cut":case"paste":$=sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Ba}var Q=(o&4)!==0,Le=!Q&&t==="scroll",R=Q?D!==null?D+"Capture":null:D;Q=[];for(var w=M,N;w!==null;){N=w;var G=N.stateNode;if(N.tag===5&&G!==null&&(N=G,R!==null&&(G=fo(w,R),G!=null&&Q.push(xo(w,G,N)))),Le)break;w=w.return}0<Q.length&&(D=new $(D,K,null,s,U),V.push({event:D,listeners:Q}))}}if((o&7)===0){e:{if(D=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",D&&s!==Fr&&(K=s.relatedTarget||s.fromElement)&&(mn(K)||K[Ft]))break e;if(($||D)&&(D=U.window===U?U:(D=U.ownerDocument)?D.defaultView||D.parentWindow:window,$?(K=s.relatedTarget||s.toElement,$=M,K=K?mn(K):null,K!==null&&(Le=hn(K),K!==Le||K.tag!==5&&K.tag!==6)&&(K=null)):($=null,K=M),$!==K)){if(Q=Ga,G="onMouseLeave",R="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(Q=Ba,G="onPointerLeave",R="onPointerEnter",w="pointer"),Le=$==null?D:Hn($),N=K==null?D:Hn(K),D=new Q(G,w+"leave",$,s,U),D.target=Le,D.relatedTarget=N,G=null,mn(U)===M&&(Q=new Q(R,w+"enter",K,s,U),Q.target=N,Q.relatedTarget=Le,G=Q),Le=G,$&&K)t:{for(Q=$,R=K,w=0,N=Q;N;N=Vn(N))w++;for(N=0,G=R;G;G=Vn(G))N++;for(;0<w-N;)Q=Vn(Q),w--;for(;0<N-w;)R=Vn(R),N--;for(;w--;){if(Q===R||R!==null&&Q===R.alternate)break t;Q=Vn(Q),R=Vn(R)}Q=null}else Q=null;$!==null&&pu(V,D,$,Q,!1),K!==null&&Le!==null&&pu(V,Le,K,Q,!0)}}e:{if(D=M?Hn(M):window,$=D.nodeName&&D.nodeName.toLowerCase(),$==="select"||$==="input"&&D.type==="file")var X=Rh;else if(Wa(D))if(Ya)X=xh;else{X=Nh;var te=Ph}else($=D.nodeName)&&$.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(X=Mh);if(X&&(X=X(t,M))){Ka(V,X,s,U);break e}te&&te(t,D,M),t==="focusout"&&(te=D._wrapperState)&&te.controlled&&D.type==="number"&&xr(D,"number",D.value)}switch(te=M?Hn(M):window,t){case"focusin":(Wa(te)||te.contentEditable==="true")&&(Un=te,ss=M,Po=null);break;case"focusout":Po=ss=Un=null;break;case"mousedown":ls=!0;break;case"contextmenu":case"mouseup":case"dragend":ls=!1,nu(V,s,U);break;case"selectionchange":if(Lh)break;case"keydown":case"keyup":nu(V,s,U)}var ne;if(ns)e:{switch(t){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Ln?$a(t,s)&&(re="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(re="onCompositionStart");re&&(qa&&s.locale!=="ko"&&(Ln||re!=="onCompositionStart"?re==="onCompositionEnd"&&Ln&&(ne=Fa()):(Zt=U,Xr="value"in Zt?Zt.value:Zt.textContent,Ln=!0)),te=_i(M,re),0<te.length&&(re=new Ha(re,t,null,s,U),V.push({event:re,listeners:te}),ne?re.data=ne:(ne=Oa(s),ne!==null&&(re.data=ne)))),(ne=Sh?Ch(t,s):Ih(t,s))&&(M=_i(M,"onBeforeInput"),0<M.length&&(U=new Ha("onBeforeInput","beforeinput",null,s,U),V.push({event:U,listeners:M}),U.data=ne))}du(V,o)})}function xo(t,o,s){return{instance:t,listener:o,currentTarget:s}}function _i(t,o){for(var s=o+"Capture",d=[];t!==null;){var p=t,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=fo(t,s),v!=null&&d.unshift(xo(t,v,p)),v=fo(t,o),v!=null&&d.push(xo(t,v,p))),t=t.return}return d}function Vn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pu(t,o,s,d,p){for(var v=o._reactName,_=[];s!==null&&s!==d;){var S=s,I=S.alternate,M=S.stateNode;if(I!==null&&I===d)break;S.tag===5&&M!==null&&(S=M,p?(I=fo(s,v),I!=null&&_.unshift(xo(s,I,S))):p||(I=fo(s,v),I!=null&&_.push(xo(s,I,S)))),s=s.return}_.length!==0&&t.push({event:o,listeners:_})}var Gh=/\r\n?/g,Hh=/\u0000|\uFFFD/g;function hu(t){return(typeof t=="string"?t:""+t).replace(Gh,`
`).replace(Hh,"")}function Si(t,o,s){if(o=hu(o),hu(t)!==o&&s)throw Error(i(425))}function Ci(){}var ps=null,hs=null;function ms(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var gs=typeof setTimeout=="function"?setTimeout:void 0,Bh=typeof clearTimeout=="function"?clearTimeout:void 0,mu=typeof Promise=="function"?Promise:void 0,qh=typeof queueMicrotask=="function"?queueMicrotask:typeof mu<"u"?function(t){return mu.resolve(null).then(t).catch(zh)}:gs;function zh(t){setTimeout(function(){throw t})}function vs(t,o){var s=o,d=0;do{var p=s.nextSibling;if(t.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(d===0){t.removeChild(p),_o(o);return}d--}else s!=="$"&&s!=="$?"&&s!=="$!"||d++;s=p}while(s);_o(o)}function jt(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return t}function gu(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return t;o--}else s==="/$"&&o++}t=t.previousSibling}return null}var Gn=Math.random().toString(36).slice(2),kt="__reactFiber$"+Gn,ko="__reactProps$"+Gn,Ft="__reactContainer$"+Gn,ys="__reactEvents$"+Gn,Jh="__reactListeners$"+Gn,$h="__reactHandles$"+Gn;function mn(t){var o=t[kt];if(o)return o;for(var s=t.parentNode;s;){if(o=s[Ft]||s[kt]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(t=gu(t);t!==null;){if(s=t[kt])return s;t=gu(t)}return o}t=s,s=t.parentNode}return null}function Do(t){return t=t[kt]||t[Ft],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(i(33))}function Ii(t){return t[ko]||null}var Es=[],Bn=-1;function en(t){return{current:t}}function Ae(t){0>Bn||(t.current=Es[Bn],Es[Bn]=null,Bn--)}function Ie(t,o){Bn++,Es[Bn]=t.current,t.current=o}var tn={},Oe=en(tn),et=en(!1),gn=tn;function qn(t,o){var s=t.type.contextTypes;if(!s)return tn;var d=t.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in s)p[v]=o[v];return d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=p),p}function tt(t){return t=t.childContextTypes,t!=null}function wi(){Ae(et),Ae(Oe)}function vu(t,o,s){if(Oe.current!==tn)throw Error(i(168));Ie(Oe,o),Ie(et,s)}function yu(t,o,s){var d=t.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return s;d=d.getChildContext();for(var p in d)if(!(p in o))throw Error(i(108,Ce(t)||"Unknown",p));return W({},s,d)}function Ai(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tn,gn=Oe.current,Ie(Oe,t),Ie(et,et.current),!0}function Eu(t,o,s){var d=t.stateNode;if(!d)throw Error(i(169));s?(t=yu(t,o,gn),d.__reactInternalMemoizedMergedChildContext=t,Ae(et),Ae(Oe),Ie(Oe,t)):Ae(et),Ie(et,s)}var Vt=null,Ri=!1,Ts=!1;function Tu(t){Vt===null?Vt=[t]:Vt.push(t)}function Oh(t){Ri=!0,Tu(t)}function nn(){if(!Ts&&Vt!==null){Ts=!0;var t=0,o=Se;try{var s=Vt;for(Se=1;t<s.length;t++){var d=s[t];do d=d(!0);while(d!==null)}Vt=null,Ri=!1}catch(p){throw Vt!==null&&(Vt=Vt.slice(t+1)),Sa(zr,nn),p}finally{Se=o,Ts=!1}}return null}var zn=[],Jn=0,Pi=null,Ni=0,dt=[],ft=0,vn=null,Gt=1,Ht="";function yn(t,o){zn[Jn++]=Ni,zn[Jn++]=Pi,Pi=t,Ni=o}function _u(t,o,s){dt[ft++]=Gt,dt[ft++]=Ht,dt[ft++]=vn,vn=t;var d=Gt;t=Ht;var p=32-_t(d)-1;d&=~(1<<p),s+=1;var v=32-_t(o)+p;if(30<v){var _=p-p%5;v=(d&(1<<_)-1).toString(32),d>>=_,p-=_,Gt=1<<32-_t(o)+p|s<<p|d,Ht=v+t}else Gt=1<<v|s<<p|d,Ht=t}function _s(t){t.return!==null&&(yn(t,1),_u(t,1,0))}function Ss(t){for(;t===Pi;)Pi=zn[--Jn],zn[Jn]=null,Ni=zn[--Jn],zn[Jn]=null;for(;t===vn;)vn=dt[--ft],dt[ft]=null,Ht=dt[--ft],dt[ft]=null,Gt=dt[--ft],dt[ft]=null}var at=null,ut=null,Pe=!1,Ct=null;function Su(t,o){var s=gt(5,null,null,0);s.elementType="DELETED",s.stateNode=o,s.return=t,o=t.deletions,o===null?(t.deletions=[s],t.flags|=16):o.push(s)}function Cu(t,o){switch(t.tag){case 5:var s=t.type;return o=o.nodeType!==1||s.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(t.stateNode=o,at=t,ut=jt(o.firstChild),!0):!1;case 6:return o=t.pendingProps===""||o.nodeType!==3?null:o,o!==null?(t.stateNode=o,at=t,ut=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(s=vn!==null?{id:Gt,overflow:Ht}:null,t.memoizedState={dehydrated:o,treeContext:s,retryLane:1073741824},s=gt(18,null,null,0),s.stateNode=o,s.return=t,t.child=s,at=t,ut=null,!0):!1;default:return!1}}function Cs(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Is(t){if(Pe){var o=ut;if(o){var s=o;if(!Cu(t,o)){if(Cs(t))throw Error(i(418));o=jt(s.nextSibling);var d=at;o&&Cu(t,o)?Su(d,s):(t.flags=t.flags&-4097|2,Pe=!1,at=t)}}else{if(Cs(t))throw Error(i(418));t.flags=t.flags&-4097|2,Pe=!1,at=t}}}function Iu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;at=t}function Mi(t){if(t!==at)return!1;if(!Pe)return Iu(t),Pe=!0,!1;var o;if((o=t.tag!==3)&&!(o=t.tag!==5)&&(o=t.type,o=o!=="head"&&o!=="body"&&!ms(t.type,t.memoizedProps)),o&&(o=ut)){if(Cs(t))throw wu(),Error(i(418));for(;o;)Su(t,o),o=jt(o.nextSibling)}if(Iu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,o=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(o===0){ut=jt(t.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++}t=t.nextSibling}ut=null}}else ut=at?jt(t.stateNode.nextSibling):null;return!0}function wu(){for(var t=ut;t;)t=jt(t.nextSibling)}function $n(){ut=at=null,Pe=!1}function ws(t){Ct===null?Ct=[t]:Ct.push(t)}var Wh=J.ReactCurrentBatchConfig;function Lo(t,o,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(i(309));var d=s.stateNode}if(!d)throw Error(i(147,t));var p=d,v=""+t;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(_){var S=p.refs;_===null?delete S[v]:S[v]=_},o._stringRef=v,o)}if(typeof t!="string")throw Error(i(284));if(!s._owner)throw Error(i(290,t))}return t}function xi(t,o){throw t=Object.prototype.toString.call(o),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t))}function Au(t){var o=t._init;return o(t._payload)}function Ru(t){function o(R,w){if(t){var N=R.deletions;N===null?(R.deletions=[w],R.flags|=16):N.push(w)}}function s(R,w){if(!t)return null;for(;w!==null;)o(R,w),w=w.sibling;return null}function d(R,w){for(R=new Map;w!==null;)w.key!==null?R.set(w.key,w):R.set(w.index,w),w=w.sibling;return R}function p(R,w){return R=dn(R,w),R.index=0,R.sibling=null,R}function v(R,w,N){return R.index=N,t?(N=R.alternate,N!==null?(N=N.index,N<w?(R.flags|=2,w):N):(R.flags|=2,w)):(R.flags|=1048576,w)}function _(R){return t&&R.alternate===null&&(R.flags|=2),R}function S(R,w,N,G){return w===null||w.tag!==6?(w=gl(N,R.mode,G),w.return=R,w):(w=p(w,N),w.return=R,w)}function I(R,w,N,G){var X=N.type;return X===b?U(R,w,N.props.children,G,N.key):w!==null&&(w.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ue&&Au(X)===w.type)?(G=p(w,N.props),G.ref=Lo(R,w,N),G.return=R,G):(G=tr(N.type,N.key,N.props,null,R.mode,G),G.ref=Lo(R,w,N),G.return=R,G)}function M(R,w,N,G){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=vl(N,R.mode,G),w.return=R,w):(w=p(w,N.children||[]),w.return=R,w)}function U(R,w,N,G,X){return w===null||w.tag!==7?(w=An(N,R.mode,G,X),w.return=R,w):(w=p(w,N),w.return=R,w)}function V(R,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return w=gl(""+w,R.mode,N),w.return=R,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Z:return N=tr(w.type,w.key,w.props,null,R.mode,N),N.ref=Lo(R,null,w),N.return=R,N;case ee:return w=vl(w,R.mode,N),w.return=R,w;case Ue:var G=w._init;return V(R,G(w._payload),N)}if(ao(w)||ie(w))return w=An(w,R.mode,N,null),w.return=R,w;xi(R,w)}return null}function D(R,w,N,G){var X=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return X!==null?null:S(R,w,""+N,G);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Z:return N.key===X?I(R,w,N,G):null;case ee:return N.key===X?M(R,w,N,G):null;case Ue:return X=N._init,D(R,w,X(N._payload),G)}if(ao(N)||ie(N))return X!==null?null:U(R,w,N,G,null);xi(R,N)}return null}function $(R,w,N,G,X){if(typeof G=="string"&&G!==""||typeof G=="number")return R=R.get(N)||null,S(w,R,""+G,X);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Z:return R=R.get(G.key===null?N:G.key)||null,I(w,R,G,X);case ee:return R=R.get(G.key===null?N:G.key)||null,M(w,R,G,X);case Ue:var te=G._init;return $(R,w,N,te(G._payload),X)}if(ao(G)||ie(G))return R=R.get(N)||null,U(w,R,G,X,null);xi(w,G)}return null}function K(R,w,N,G){for(var X=null,te=null,ne=w,re=w=0,qe=null;ne!==null&&re<N.length;re++){ne.index>re?(qe=ne,ne=null):qe=ne.sibling;var ye=D(R,ne,N[re],G);if(ye===null){ne===null&&(ne=qe);break}t&&ne&&ye.alternate===null&&o(R,ne),w=v(ye,w,re),te===null?X=ye:te.sibling=ye,te=ye,ne=qe}if(re===N.length)return s(R,ne),Pe&&yn(R,re),X;if(ne===null){for(;re<N.length;re++)ne=V(R,N[re],G),ne!==null&&(w=v(ne,w,re),te===null?X=ne:te.sibling=ne,te=ne);return Pe&&yn(R,re),X}for(ne=d(R,ne);re<N.length;re++)qe=$(ne,R,re,N[re],G),qe!==null&&(t&&qe.alternate!==null&&ne.delete(qe.key===null?re:qe.key),w=v(qe,w,re),te===null?X=qe:te.sibling=qe,te=qe);return t&&ne.forEach(function(fn){return o(R,fn)}),Pe&&yn(R,re),X}function Q(R,w,N,G){var X=ie(N);if(typeof X!="function")throw Error(i(150));if(N=X.call(N),N==null)throw Error(i(151));for(var te=X=null,ne=w,re=w=0,qe=null,ye=N.next();ne!==null&&!ye.done;re++,ye=N.next()){ne.index>re?(qe=ne,ne=null):qe=ne.sibling;var fn=D(R,ne,ye.value,G);if(fn===null){ne===null&&(ne=qe);break}t&&ne&&fn.alternate===null&&o(R,ne),w=v(fn,w,re),te===null?X=fn:te.sibling=fn,te=fn,ne=qe}if(ye.done)return s(R,ne),Pe&&yn(R,re),X;if(ne===null){for(;!ye.done;re++,ye=N.next())ye=V(R,ye.value,G),ye!==null&&(w=v(ye,w,re),te===null?X=ye:te.sibling=ye,te=ye);return Pe&&yn(R,re),X}for(ne=d(R,ne);!ye.done;re++,ye=N.next())ye=$(ne,R,re,ye.value,G),ye!==null&&(t&&ye.alternate!==null&&ne.delete(ye.key===null?re:ye.key),w=v(ye,w,re),te===null?X=ye:te.sibling=ye,te=ye);return t&&ne.forEach(function(wm){return o(R,wm)}),Pe&&yn(R,re),X}function Le(R,w,N,G){if(typeof N=="object"&&N!==null&&N.type===b&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Z:e:{for(var X=N.key,te=w;te!==null;){if(te.key===X){if(X=N.type,X===b){if(te.tag===7){s(R,te.sibling),w=p(te,N.props.children),w.return=R,R=w;break e}}else if(te.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ue&&Au(X)===te.type){s(R,te.sibling),w=p(te,N.props),w.ref=Lo(R,te,N),w.return=R,R=w;break e}s(R,te);break}else o(R,te);te=te.sibling}N.type===b?(w=An(N.props.children,R.mode,G,N.key),w.return=R,R=w):(G=tr(N.type,N.key,N.props,null,R.mode,G),G.ref=Lo(R,w,N),G.return=R,R=G)}return _(R);case ee:e:{for(te=N.key;w!==null;){if(w.key===te)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){s(R,w.sibling),w=p(w,N.children||[]),w.return=R,R=w;break e}else{s(R,w);break}else o(R,w);w=w.sibling}w=vl(N,R.mode,G),w.return=R,R=w}return _(R);case Ue:return te=N._init,Le(R,w,te(N._payload),G)}if(ao(N))return K(R,w,N,G);if(ie(N))return Q(R,w,N,G);xi(R,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,w!==null&&w.tag===6?(s(R,w.sibling),w=p(w,N),w.return=R,R=w):(s(R,w),w=gl(N,R.mode,G),w.return=R,R=w),_(R)):s(R,w)}return Le}var On=Ru(!0),Pu=Ru(!1),ki=en(null),Di=null,Wn=null,As=null;function Rs(){As=Wn=Di=null}function Ps(t){var o=ki.current;Ae(ki),t._currentValue=o}function Ns(t,o,s){for(;t!==null;){var d=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),t===s)break;t=t.return}}function Kn(t,o){Di=t,As=Wn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&o)!==0&&(nt=!0),t.firstContext=null)}function pt(t){var o=t._currentValue;if(As!==t)if(t={context:t,memoizedValue:o,next:null},Wn===null){if(Di===null)throw Error(i(308));Wn=t,Di.dependencies={lanes:0,firstContext:t}}else Wn=Wn.next=t;return o}var En=null;function Ms(t){En===null?En=[t]:En.push(t)}function Nu(t,o,s,d){var p=o.interleaved;return p===null?(s.next=s,Ms(o)):(s.next=p.next,p.next=s),o.interleaved=s,Bt(t,d)}function Bt(t,o){t.lanes|=o;var s=t.alternate;for(s!==null&&(s.lanes|=o),s=t,t=t.return;t!==null;)t.childLanes|=o,s=t.alternate,s!==null&&(s.childLanes|=o),s=t,t=t.return;return s.tag===3?s.stateNode:null}var on=!1;function xs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mu(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qt(t,o){return{eventTime:t,lane:o,tag:0,payload:null,callback:null,next:null}}function rn(t,o,s){var d=t.updateQueue;if(d===null)return null;if(d=d.shared,(me&2)!==0){var p=d.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o,Bt(t,s)}return p=d.interleaved,p===null?(o.next=o,Ms(d)):(o.next=p.next,p.next=o),d.interleaved=o,Bt(t,s)}function Li(t,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194240)!==0)){var d=o.lanes;d&=t.pendingLanes,s|=d,o.lanes=s,Or(t,s)}}function xu(t,o){var s=t.updateQueue,d=t.alternate;if(d!==null&&(d=d.updateQueue,s===d)){var p=null,v=null;if(s=s.firstBaseUpdate,s!==null){do{var _={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};v===null?p=v=_:v=v.next=_,s=s.next}while(s!==null);v===null?p=v=o:v=v.next=o}else p=v=o;s={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,effects:d.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=o:t.next=o,s.lastBaseUpdate=o}function Ui(t,o,s,d){var p=t.updateQueue;on=!1;var v=p.firstBaseUpdate,_=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var I=S,M=I.next;I.next=null,_===null?v=M:_.next=M,_=I;var U=t.alternate;U!==null&&(U=U.updateQueue,S=U.lastBaseUpdate,S!==_&&(S===null?U.firstBaseUpdate=M:S.next=M,U.lastBaseUpdate=I))}if(v!==null){var V=p.baseState;_=0,U=M=I=null,S=v;do{var D=S.lane,$=S.eventTime;if((d&D)===D){U!==null&&(U=U.next={eventTime:$,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var K=t,Q=S;switch(D=o,$=s,Q.tag){case 1:if(K=Q.payload,typeof K=="function"){V=K.call($,V,D);break e}V=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=Q.payload,D=typeof K=="function"?K.call($,V,D):K,D==null)break e;V=W({},V,D);break e;case 2:on=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,D=p.effects,D===null?p.effects=[S]:D.push(S))}else $={eventTime:$,lane:D,tag:S.tag,payload:S.payload,callback:S.callback,next:null},U===null?(M=U=$,I=V):U=U.next=$,_|=D;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;D=S,S=D.next,D.next=null,p.lastBaseUpdate=D,p.shared.pending=null}}while(!0);if(U===null&&(I=V),p.baseState=I,p.firstBaseUpdate=M,p.lastBaseUpdate=U,o=p.shared.interleaved,o!==null){p=o;do _|=p.lane,p=p.next;while(p!==o)}else v===null&&(p.shared.lanes=0);Sn|=_,t.lanes=_,t.memoizedState=V}}function ku(t,o,s){if(t=o.effects,o.effects=null,t!==null)for(o=0;o<t.length;o++){var d=t[o],p=d.callback;if(p!==null){if(d.callback=null,d=s,typeof p!="function")throw Error(i(191,p));p.call(d)}}}var Uo={},Dt=en(Uo),Fo=en(Uo),Vo=en(Uo);function Tn(t){if(t===Uo)throw Error(i(174));return t}function ks(t,o){switch(Ie(Vo,o),Ie(Fo,t),Ie(Dt,Uo),t=o.nodeType,t){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Dr(null,"");break;default:t=t===8?o.parentNode:o,o=t.namespaceURI||null,t=t.tagName,o=Dr(o,t)}Ae(Dt),Ie(Dt,o)}function Yn(){Ae(Dt),Ae(Fo),Ae(Vo)}function Du(t){Tn(Vo.current);var o=Tn(Dt.current),s=Dr(o,t.type);o!==s&&(Ie(Fo,t),Ie(Dt,s))}function Ds(t){Fo.current===t&&(Ae(Dt),Ae(Fo))}var Ne=en(0);function Fi(t){for(var o=t;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ls=[];function Us(){for(var t=0;t<Ls.length;t++)Ls[t]._workInProgressVersionPrimary=null;Ls.length=0}var Vi=J.ReactCurrentDispatcher,Fs=J.ReactCurrentBatchConfig,_n=0,Me=null,Ve=null,He=null,Gi=!1,Go=!1,Ho=0,Kh=0;function We(){throw Error(i(321))}function Vs(t,o){if(o===null)return!1;for(var s=0;s<o.length&&s<t.length;s++)if(!St(t[s],o[s]))return!1;return!0}function Gs(t,o,s,d,p,v){if(_n=v,Me=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Vi.current=t===null||t.memoizedState===null?Zh:bh,t=s(d,p),Go){v=0;do{if(Go=!1,Ho=0,25<=v)throw Error(i(301));v+=1,He=Ve=null,o.updateQueue=null,Vi.current=jh,t=s(d,p)}while(Go)}if(Vi.current=qi,o=Ve!==null&&Ve.next!==null,_n=0,He=Ve=Me=null,Gi=!1,o)throw Error(i(300));return t}function Hs(){var t=Ho!==0;return Ho=0,t}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Me.memoizedState=He=t:He=He.next=t,He}function ht(){if(Ve===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var o=He===null?Me.memoizedState:He.next;if(o!==null)He=o,Ve=t;else{if(t===null)throw Error(i(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},He===null?Me.memoizedState=He=t:He=He.next=t}return He}function Bo(t,o){return typeof o=="function"?o(t):o}function Bs(t){var o=ht(),s=o.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var d=Ve,p=d.baseQueue,v=s.pending;if(v!==null){if(p!==null){var _=p.next;p.next=v.next,v.next=_}d.baseQueue=p=v,s.pending=null}if(p!==null){v=p.next,d=d.baseState;var S=_=null,I=null,M=v;do{var U=M.lane;if((_n&U)===U)I!==null&&(I=I.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),d=M.hasEagerState?M.eagerState:t(d,M.action);else{var V={lane:U,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};I===null?(S=I=V,_=d):I=I.next=V,Me.lanes|=U,Sn|=U}M=M.next}while(M!==null&&M!==v);I===null?_=d:I.next=S,St(d,o.memoizedState)||(nt=!0),o.memoizedState=d,o.baseState=_,o.baseQueue=I,s.lastRenderedState=d}if(t=s.interleaved,t!==null){p=t;do v=p.lane,Me.lanes|=v,Sn|=v,p=p.next;while(p!==t)}else p===null&&(s.lanes=0);return[o.memoizedState,s.dispatch]}function qs(t){var o=ht(),s=o.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var d=s.dispatch,p=s.pending,v=o.memoizedState;if(p!==null){s.pending=null;var _=p=p.next;do v=t(v,_.action),_=_.next;while(_!==p);St(v,o.memoizedState)||(nt=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),s.lastRenderedState=v}return[v,d]}function Lu(){}function Uu(t,o){var s=Me,d=ht(),p=o(),v=!St(d.memoizedState,p);if(v&&(d.memoizedState=p,nt=!0),d=d.queue,zs(Gu.bind(null,s,d,t),[t]),d.getSnapshot!==o||v||He!==null&&He.memoizedState.tag&1){if(s.flags|=2048,qo(9,Vu.bind(null,s,d,p,o),void 0,null),Be===null)throw Error(i(349));(_n&30)!==0||Fu(s,o,p)}return p}function Fu(t,o,s){t.flags|=16384,t={getSnapshot:o,value:s},o=Me.updateQueue,o===null?(o={lastEffect:null,stores:null},Me.updateQueue=o,o.stores=[t]):(s=o.stores,s===null?o.stores=[t]:s.push(t))}function Vu(t,o,s,d){o.value=s,o.getSnapshot=d,Hu(o)&&Bu(t)}function Gu(t,o,s){return s(function(){Hu(o)&&Bu(t)})}function Hu(t){var o=t.getSnapshot;t=t.value;try{var s=o();return!St(t,s)}catch{return!0}}function Bu(t){var o=Bt(t,1);o!==null&&Rt(o,t,1,-1)}function qu(t){var o=Lt();return typeof t=="function"&&(t=t()),o.memoizedState=o.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:t},o.queue=t,t=t.dispatch=Xh.bind(null,Me,t),[o.memoizedState,t]}function qo(t,o,s,d){return t={tag:t,create:o,destroy:s,deps:d,next:null},o=Me.updateQueue,o===null?(o={lastEffect:null,stores:null},Me.updateQueue=o,o.lastEffect=t.next=t):(s=o.lastEffect,s===null?o.lastEffect=t.next=t:(d=s.next,s.next=t,t.next=d,o.lastEffect=t)),t}function zu(){return ht().memoizedState}function Hi(t,o,s,d){var p=Lt();Me.flags|=t,p.memoizedState=qo(1|o,s,void 0,d===void 0?null:d)}function Bi(t,o,s,d){var p=ht();d=d===void 0?null:d;var v=void 0;if(Ve!==null){var _=Ve.memoizedState;if(v=_.destroy,d!==null&&Vs(d,_.deps)){p.memoizedState=qo(o,s,v,d);return}}Me.flags|=t,p.memoizedState=qo(1|o,s,v,d)}function Ju(t,o){return Hi(8390656,8,t,o)}function zs(t,o){return Bi(2048,8,t,o)}function $u(t,o){return Bi(4,2,t,o)}function Ou(t,o){return Bi(4,4,t,o)}function Wu(t,o){if(typeof o=="function")return t=t(),o(t),function(){o(null)};if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function Ku(t,o,s){return s=s!=null?s.concat([t]):null,Bi(4,4,Wu.bind(null,o,t),s)}function Js(){}function Yu(t,o){var s=ht();o=o===void 0?null:o;var d=s.memoizedState;return d!==null&&o!==null&&Vs(o,d[1])?d[0]:(s.memoizedState=[t,o],t)}function Qu(t,o){var s=ht();o=o===void 0?null:o;var d=s.memoizedState;return d!==null&&o!==null&&Vs(o,d[1])?d[0]:(t=t(),s.memoizedState=[t,o],t)}function Xu(t,o,s){return(_n&21)===0?(t.baseState&&(t.baseState=!1,nt=!0),t.memoizedState=s):(St(s,o)||(s=Aa(),Me.lanes|=s,Sn|=s,t.baseState=!0),o)}function Yh(t,o){var s=Se;Se=s!==0&&4>s?s:4,t(!0);var d=Fs.transition;Fs.transition={};try{t(!1),o()}finally{Se=s,Fs.transition=d}}function Zu(){return ht().memoizedState}function Qh(t,o,s){var d=un(t);if(s={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null},bu(t))ju(o,s);else if(s=Nu(t,o,s,d),s!==null){var p=Ze();Rt(s,t,d,p),ec(s,o,d)}}function Xh(t,o,s){var d=un(t),p={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null};if(bu(t))ju(o,p);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var _=o.lastRenderedState,S=v(_,s);if(p.hasEagerState=!0,p.eagerState=S,St(S,_)){var I=o.interleaved;I===null?(p.next=p,Ms(o)):(p.next=I.next,I.next=p),o.interleaved=p;return}}catch{}finally{}s=Nu(t,o,p,d),s!==null&&(p=Ze(),Rt(s,t,d,p),ec(s,o,d))}}function bu(t){var o=t.alternate;return t===Me||o!==null&&o===Me}function ju(t,o){Go=Gi=!0;var s=t.pending;s===null?o.next=o:(o.next=s.next,s.next=o),t.pending=o}function ec(t,o,s){if((s&4194240)!==0){var d=o.lanes;d&=t.pendingLanes,s|=d,o.lanes=s,Or(t,s)}}var qi={readContext:pt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Zh={readContext:pt,useCallback:function(t,o){return Lt().memoizedState=[t,o===void 0?null:o],t},useContext:pt,useEffect:Ju,useImperativeHandle:function(t,o,s){return s=s!=null?s.concat([t]):null,Hi(4194308,4,Wu.bind(null,o,t),s)},useLayoutEffect:function(t,o){return Hi(4194308,4,t,o)},useInsertionEffect:function(t,o){return Hi(4,2,t,o)},useMemo:function(t,o){var s=Lt();return o=o===void 0?null:o,t=t(),s.memoizedState=[t,o],t},useReducer:function(t,o,s){var d=Lt();return o=s!==void 0?s(o):o,d.memoizedState=d.baseState=o,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},d.queue=t,t=t.dispatch=Qh.bind(null,Me,t),[d.memoizedState,t]},useRef:function(t){var o=Lt();return t={current:t},o.memoizedState=t},useState:qu,useDebugValue:Js,useDeferredValue:function(t){return Lt().memoizedState=t},useTransition:function(){var t=qu(!1),o=t[0];return t=Yh.bind(null,t[1]),Lt().memoizedState=t,[o,t]},useMutableSource:function(){},useSyncExternalStore:function(t,o,s){var d=Me,p=Lt();if(Pe){if(s===void 0)throw Error(i(407));s=s()}else{if(s=o(),Be===null)throw Error(i(349));(_n&30)!==0||Fu(d,o,s)}p.memoizedState=s;var v={value:s,getSnapshot:o};return p.queue=v,Ju(Gu.bind(null,d,v,t),[t]),d.flags|=2048,qo(9,Vu.bind(null,d,v,s,o),void 0,null),s},useId:function(){var t=Lt(),o=Be.identifierPrefix;if(Pe){var s=Ht,d=Gt;s=(d&~(1<<32-_t(d)-1)).toString(32)+s,o=":"+o+"R"+s,s=Ho++,0<s&&(o+="H"+s.toString(32)),o+=":"}else s=Kh++,o=":"+o+"r"+s.toString(32)+":";return t.memoizedState=o},unstable_isNewReconciler:!1},bh={readContext:pt,useCallback:Yu,useContext:pt,useEffect:zs,useImperativeHandle:Ku,useInsertionEffect:$u,useLayoutEffect:Ou,useMemo:Qu,useReducer:Bs,useRef:zu,useState:function(){return Bs(Bo)},useDebugValue:Js,useDeferredValue:function(t){var o=ht();return Xu(o,Ve.memoizedState,t)},useTransition:function(){var t=Bs(Bo)[0],o=ht().memoizedState;return[t,o]},useMutableSource:Lu,useSyncExternalStore:Uu,useId:Zu,unstable_isNewReconciler:!1},jh={readContext:pt,useCallback:Yu,useContext:pt,useEffect:zs,useImperativeHandle:Ku,useInsertionEffect:$u,useLayoutEffect:Ou,useMemo:Qu,useReducer:qs,useRef:zu,useState:function(){return qs(Bo)},useDebugValue:Js,useDeferredValue:function(t){var o=ht();return Ve===null?o.memoizedState=t:Xu(o,Ve.memoizedState,t)},useTransition:function(){var t=qs(Bo)[0],o=ht().memoizedState;return[t,o]},useMutableSource:Lu,useSyncExternalStore:Uu,useId:Zu,unstable_isNewReconciler:!1};function It(t,o){if(t&&t.defaultProps){o=W({},o),t=t.defaultProps;for(var s in t)o[s]===void 0&&(o[s]=t[s]);return o}return o}function $s(t,o,s,d){o=t.memoizedState,s=s(d,o),s=s==null?o:W({},o,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var zi={isMounted:function(t){return(t=t._reactInternals)?hn(t)===t:!1},enqueueSetState:function(t,o,s){t=t._reactInternals;var d=Ze(),p=un(t),v=qt(d,p);v.payload=o,s!=null&&(v.callback=s),o=rn(t,v,p),o!==null&&(Rt(o,t,p,d),Li(o,t,p))},enqueueReplaceState:function(t,o,s){t=t._reactInternals;var d=Ze(),p=un(t),v=qt(d,p);v.tag=1,v.payload=o,s!=null&&(v.callback=s),o=rn(t,v,p),o!==null&&(Rt(o,t,p,d),Li(o,t,p))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var s=Ze(),d=un(t),p=qt(s,d);p.tag=2,o!=null&&(p.callback=o),o=rn(t,p,d),o!==null&&(Rt(o,t,d,s),Li(o,t,d))}};function tc(t,o,s,d,p,v,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(d,v,_):o.prototype&&o.prototype.isPureReactComponent?!Ro(s,d)||!Ro(p,v):!0}function nc(t,o,s){var d=!1,p=tn,v=o.contextType;return typeof v=="object"&&v!==null?v=pt(v):(p=tt(o)?gn:Oe.current,d=o.contextTypes,v=(d=d!=null)?qn(t,p):tn),o=new o(s,v),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=zi,t.stateNode=o,o._reactInternals=t,d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=p,t.__reactInternalMemoizedMaskedChildContext=v),o}function oc(t,o,s,d){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,d),o.state!==t&&zi.enqueueReplaceState(o,o.state,null)}function Os(t,o,s,d){var p=t.stateNode;p.props=s,p.state=t.memoizedState,p.refs={},xs(t);var v=o.contextType;typeof v=="object"&&v!==null?p.context=pt(v):(v=tt(o)?gn:Oe.current,p.context=qn(t,v)),p.state=t.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&($s(t,o,v,s),p.state=t.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&zi.enqueueReplaceState(p,p.state,null),Ui(t,s,p,d),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308)}function Qn(t,o){try{var s="",d=o;do s+=ge(d),d=d.return;while(d);var p=s}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:t,source:o,stack:p,digest:null}}function Ws(t,o,s){return{value:t,source:null,stack:s??null,digest:o??null}}function Ks(t,o){try{console.error(o.value)}catch(s){setTimeout(function(){throw s})}}var em=typeof WeakMap=="function"?WeakMap:Map;function ic(t,o,s){s=qt(-1,s),s.tag=3,s.payload={element:null};var d=o.value;return s.callback=function(){Qi||(Qi=!0,al=d),Ks(t,o)},s}function rc(t,o,s){s=qt(-1,s),s.tag=3;var d=t.type.getDerivedStateFromError;if(typeof d=="function"){var p=o.value;s.payload=function(){return d(p)},s.callback=function(){Ks(t,o)}}var v=t.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(s.callback=function(){Ks(t,o),typeof d!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})}),s}function sc(t,o,s){var d=t.pingCache;if(d===null){d=t.pingCache=new em;var p=new Set;d.set(o,p)}else p=d.get(o),p===void 0&&(p=new Set,d.set(o,p));p.has(s)||(p.add(s),t=hm.bind(null,t,o,s),o.then(t,t))}function lc(t){do{var o;if((o=t.tag===13)&&(o=t.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return t;t=t.return}while(t!==null);return null}function ac(t,o,s,d,p){return(t.mode&1)===0?(t===o?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(o=qt(-1,1),o.tag=2,rn(s,o,1))),s.lanes|=1),t):(t.flags|=65536,t.lanes=p,t)}var tm=J.ReactCurrentOwner,nt=!1;function Xe(t,o,s,d){o.child=t===null?Pu(o,null,s,d):On(o,t.child,s,d)}function uc(t,o,s,d,p){s=s.render;var v=o.ref;return Kn(o,p),d=Gs(t,o,s,d,v,p),s=Hs(),t!==null&&!nt?(o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~p,zt(t,o,p)):(Pe&&s&&_s(o),o.flags|=1,Xe(t,o,d,p),o.child)}function cc(t,o,s,d,p){if(t===null){var v=s.type;return typeof v=="function"&&!ml(v)&&v.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(o.tag=15,o.type=v,dc(t,o,v,d,p)):(t=tr(s.type,null,d,o,o.mode,p),t.ref=o.ref,t.return=o,o.child=t)}if(v=t.child,(t.lanes&p)===0){var _=v.memoizedProps;if(s=s.compare,s=s!==null?s:Ro,s(_,d)&&t.ref===o.ref)return zt(t,o,p)}return o.flags|=1,t=dn(v,d),t.ref=o.ref,t.return=o,o.child=t}function dc(t,o,s,d,p){if(t!==null){var v=t.memoizedProps;if(Ro(v,d)&&t.ref===o.ref)if(nt=!1,o.pendingProps=d=v,(t.lanes&p)!==0)(t.flags&131072)!==0&&(nt=!0);else return o.lanes=t.lanes,zt(t,o,p)}return Ys(t,o,s,d,p)}function fc(t,o,s){var d=o.pendingProps,p=d.children,v=t!==null?t.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Zn,ct),ct|=s;else{if((s&1073741824)===0)return t=v!==null?v.baseLanes|s:s,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:t,cachePool:null,transitions:null},o.updateQueue=null,Ie(Zn,ct),ct|=t,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:s,Ie(Zn,ct),ct|=d}else v!==null?(d=v.baseLanes|s,o.memoizedState=null):d=s,Ie(Zn,ct),ct|=d;return Xe(t,o,p,s),o.child}function pc(t,o){var s=o.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(o.flags|=512,o.flags|=2097152)}function Ys(t,o,s,d,p){var v=tt(s)?gn:Oe.current;return v=qn(o,v),Kn(o,p),s=Gs(t,o,s,d,v,p),d=Hs(),t!==null&&!nt?(o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~p,zt(t,o,p)):(Pe&&d&&_s(o),o.flags|=1,Xe(t,o,s,p),o.child)}function hc(t,o,s,d,p){if(tt(s)){var v=!0;Ai(o)}else v=!1;if(Kn(o,p),o.stateNode===null)$i(t,o),nc(o,s,d),Os(o,s,d,p),d=!0;else if(t===null){var _=o.stateNode,S=o.memoizedProps;_.props=S;var I=_.context,M=s.contextType;typeof M=="object"&&M!==null?M=pt(M):(M=tt(s)?gn:Oe.current,M=qn(o,M));var U=s.getDerivedStateFromProps,V=typeof U=="function"||typeof _.getSnapshotBeforeUpdate=="function";V||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==d||I!==M)&&oc(o,_,d,M),on=!1;var D=o.memoizedState;_.state=D,Ui(o,d,_,p),I=o.memoizedState,S!==d||D!==I||et.current||on?(typeof U=="function"&&($s(o,s,U,d),I=o.memoizedState),(S=on||tc(o,s,S,d,D,I,M))?(V||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=I),_.props=d,_.state=I,_.context=M,d=S):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{_=o.stateNode,Mu(t,o),S=o.memoizedProps,M=o.type===o.elementType?S:It(o.type,S),_.props=M,V=o.pendingProps,D=_.context,I=s.contextType,typeof I=="object"&&I!==null?I=pt(I):(I=tt(s)?gn:Oe.current,I=qn(o,I));var $=s.getDerivedStateFromProps;(U=typeof $=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==V||D!==I)&&oc(o,_,d,I),on=!1,D=o.memoizedState,_.state=D,Ui(o,d,_,p);var K=o.memoizedState;S!==V||D!==K||et.current||on?(typeof $=="function"&&($s(o,s,$,d),K=o.memoizedState),(M=on||tc(o,s,M,d,D,K,I)||!1)?(U||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,K,I),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,K,I)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&D===t.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&D===t.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=K),_.props=d,_.state=K,_.context=I,d=M):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&D===t.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&D===t.memoizedState||(o.flags|=1024),d=!1)}return Qs(t,o,s,d,v,p)}function Qs(t,o,s,d,p,v){pc(t,o);var _=(o.flags&128)!==0;if(!d&&!_)return p&&Eu(o,s,!1),zt(t,o,v);d=o.stateNode,tm.current=o;var S=_&&typeof s.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,t!==null&&_?(o.child=On(o,t.child,null,v),o.child=On(o,null,S,v)):Xe(t,o,S,v),o.memoizedState=d.state,p&&Eu(o,s,!0),o.child}function mc(t){var o=t.stateNode;o.pendingContext?vu(t,o.pendingContext,o.pendingContext!==o.context):o.context&&vu(t,o.context,!1),ks(t,o.containerInfo)}function gc(t,o,s,d,p){return $n(),ws(p),o.flags|=256,Xe(t,o,s,d),o.child}var Xs={dehydrated:null,treeContext:null,retryLane:0};function Zs(t){return{baseLanes:t,cachePool:null,transitions:null}}function vc(t,o,s){var d=o.pendingProps,p=Ne.current,v=!1,_=(o.flags&128)!==0,S;if((S=_)||(S=t!==null&&t.memoizedState===null?!1:(p&2)!==0),S?(v=!0,o.flags&=-129):(t===null||t.memoizedState!==null)&&(p|=1),Ie(Ne,p&1),t===null)return Is(o),t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((o.mode&1)===0?o.lanes=1:t.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(_=d.children,t=d.fallback,v?(d=o.mode,v=o.child,_={mode:"hidden",children:_},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=_):v=nr(_,d,0,null),t=An(t,d,s,null),v.return=o,t.return=o,v.sibling=t,o.child=v,o.child.memoizedState=Zs(s),o.memoizedState=Xs,t):bs(o,_));if(p=t.memoizedState,p!==null&&(S=p.dehydrated,S!==null))return nm(t,o,_,d,S,p,s);if(v){v=d.fallback,_=o.mode,p=t.child,S=p.sibling;var I={mode:"hidden",children:d.children};return(_&1)===0&&o.child!==p?(d=o.child,d.childLanes=0,d.pendingProps=I,o.deletions=null):(d=dn(p,I),d.subtreeFlags=p.subtreeFlags&14680064),S!==null?v=dn(S,v):(v=An(v,_,s,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,_=t.child.memoizedState,_=_===null?Zs(s):{baseLanes:_.baseLanes|s,cachePool:null,transitions:_.transitions},v.memoizedState=_,v.childLanes=t.childLanes&~s,o.memoizedState=Xs,d}return v=t.child,t=v.sibling,d=dn(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=s),d.return=o,d.sibling=null,t!==null&&(s=o.deletions,s===null?(o.deletions=[t],o.flags|=16):s.push(t)),o.child=d,o.memoizedState=null,d}function bs(t,o){return o=nr({mode:"visible",children:o},t.mode,0,null),o.return=t,t.child=o}function Ji(t,o,s,d){return d!==null&&ws(d),On(o,t.child,null,s),t=bs(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function nm(t,o,s,d,p,v,_){if(s)return o.flags&256?(o.flags&=-257,d=Ws(Error(i(422))),Ji(t,o,_,d)):o.memoizedState!==null?(o.child=t.child,o.flags|=128,null):(v=d.fallback,p=o.mode,d=nr({mode:"visible",children:d.children},p,0,null),v=An(v,p,_,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&On(o,t.child,null,_),o.child.memoizedState=Zs(_),o.memoizedState=Xs,v);if((o.mode&1)===0)return Ji(t,o,_,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var S=d.dgst;return d=S,v=Error(i(419)),d=Ws(v,d,void 0),Ji(t,o,_,d)}if(S=(_&t.childLanes)!==0,nt||S){if(d=Be,d!==null){switch(_&-_){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|_))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,Bt(t,p),Rt(d,t,p,-1))}return hl(),d=Ws(Error(i(421))),Ji(t,o,_,d)}return p.data==="$?"?(o.flags|=128,o.child=t.child,o=mm.bind(null,t),p._reactRetry=o,null):(t=v.treeContext,ut=jt(p.nextSibling),at=o,Pe=!0,Ct=null,t!==null&&(dt[ft++]=Gt,dt[ft++]=Ht,dt[ft++]=vn,Gt=t.id,Ht=t.overflow,vn=o),o=bs(o,d.children),o.flags|=4096,o)}function yc(t,o,s){t.lanes|=o;var d=t.alternate;d!==null&&(d.lanes|=o),Ns(t.return,o,s)}function js(t,o,s,d,p){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:s,tailMode:p}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=s,v.tailMode=p)}function Ec(t,o,s){var d=o.pendingProps,p=d.revealOrder,v=d.tail;if(Xe(t,o,d.children,s),d=Ne.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yc(t,s,o);else if(t.tag===19)yc(t,s,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}d&=1}if(Ie(Ne,d),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(s=o.child,p=null;s!==null;)t=s.alternate,t!==null&&Fi(t)===null&&(p=s),s=s.sibling;s=p,s===null?(p=o.child,o.child=null):(p=s.sibling,s.sibling=null),js(o,!1,p,s,v);break;case"backwards":for(s=null,p=o.child,o.child=null;p!==null;){if(t=p.alternate,t!==null&&Fi(t)===null){o.child=p;break}t=p.sibling,p.sibling=s,s=p,p=t}js(o,!0,s,null,v);break;case"together":js(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function $i(t,o){(o.mode&1)===0&&t!==null&&(t.alternate=null,o.alternate=null,o.flags|=2)}function zt(t,o,s){if(t!==null&&(o.dependencies=t.dependencies),Sn|=o.lanes,(s&o.childLanes)===0)return null;if(t!==null&&o.child!==t.child)throw Error(i(153));if(o.child!==null){for(t=o.child,s=dn(t,t.pendingProps),o.child=s,s.return=o;t.sibling!==null;)t=t.sibling,s=s.sibling=dn(t,t.pendingProps),s.return=o;s.sibling=null}return o.child}function om(t,o,s){switch(o.tag){case 3:mc(o),$n();break;case 5:Du(o);break;case 1:tt(o.type)&&Ai(o);break;case 4:ks(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,p=o.memoizedProps.value;Ie(ki,d._currentValue),d._currentValue=p;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Ie(Ne,Ne.current&1),o.flags|=128,null):(s&o.child.childLanes)!==0?vc(t,o,s):(Ie(Ne,Ne.current&1),t=zt(t,o,s),t!==null?t.sibling:null);Ie(Ne,Ne.current&1);break;case 19:if(d=(s&o.childLanes)!==0,(t.flags&128)!==0){if(d)return Ec(t,o,s);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ie(Ne,Ne.current),d)break;return null;case 22:case 23:return o.lanes=0,fc(t,o,s)}return zt(t,o,s)}var Tc,el,_c,Sc;Tc=function(t,o){for(var s=o.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},el=function(){},_c=function(t,o,s,d){var p=t.memoizedProps;if(p!==d){t=o.stateNode,Tn(Dt.current);var v=null;switch(s){case"input":p=Nr(t,p),d=Nr(t,d),v=[];break;case"select":p=W({},p,{value:void 0}),d=W({},d,{value:void 0}),v=[];break;case"textarea":p=kr(t,p),d=kr(t,d),v=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(t.onclick=Ci)}Lr(s,d);var _;s=null;for(M in p)if(!d.hasOwnProperty(M)&&p.hasOwnProperty(M)&&p[M]!=null)if(M==="style"){var S=p[M];for(_ in S)S.hasOwnProperty(_)&&(s||(s={}),s[_]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(a.hasOwnProperty(M)?v||(v=[]):(v=v||[]).push(M,null));for(M in d){var I=d[M];if(S=p!=null?p[M]:void 0,d.hasOwnProperty(M)&&I!==S&&(I!=null||S!=null))if(M==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||I&&I.hasOwnProperty(_)||(s||(s={}),s[_]="");for(_ in I)I.hasOwnProperty(_)&&S[_]!==I[_]&&(s||(s={}),s[_]=I[_])}else s||(v||(v=[]),v.push(M,s)),s=I;else M==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,S=S?S.__html:void 0,I!=null&&S!==I&&(v=v||[]).push(M,I)):M==="children"?typeof I!="string"&&typeof I!="number"||(v=v||[]).push(M,""+I):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(a.hasOwnProperty(M)?(I!=null&&M==="onScroll"&&we("scroll",t),v||S===I||(v=[])):(v=v||[]).push(M,I))}s&&(v=v||[]).push("style",s);var M=v;(o.updateQueue=M)&&(o.flags|=4)}},Sc=function(t,o,s,d){s!==d&&(o.flags|=4)};function zo(t,o){if(!Pe)switch(t.tailMode){case"hidden":o=t.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:d.sibling=null}}function Ke(t){var o=t.alternate!==null&&t.alternate.child===t.child,s=0,d=0;if(o)for(var p=t.child;p!==null;)s|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)s|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=d,t.childLanes=s,o}function im(t,o,s){var d=o.pendingProps;switch(Ss(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(o),null;case 1:return tt(o.type)&&wi(),Ke(o),null;case 3:return d=o.stateNode,Yn(),Ae(et),Ae(Oe),Us(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(t===null||t.child===null)&&(Mi(o)?o.flags|=4:t===null||t.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ct!==null&&(dl(Ct),Ct=null))),el(t,o),Ke(o),null;case 5:Ds(o);var p=Tn(Vo.current);if(s=o.type,t!==null&&o.stateNode!=null)_c(t,o,s,d,p),t.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(i(166));return Ke(o),null}if(t=Tn(Dt.current),Mi(o)){d=o.stateNode,s=o.type;var v=o.memoizedProps;switch(d[kt]=o,d[ko]=v,t=(o.mode&1)!==0,s){case"dialog":we("cancel",d),we("close",d);break;case"iframe":case"object":case"embed":we("load",d);break;case"video":case"audio":for(p=0;p<No.length;p++)we(No[p],d);break;case"source":we("error",d);break;case"img":case"image":case"link":we("error",d),we("load",d);break;case"details":we("toggle",d);break;case"input":na(d,v),we("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},we("invalid",d);break;case"textarea":ra(d,v),we("invalid",d)}Lr(s,v),p=null;for(var _ in v)if(v.hasOwnProperty(_)){var S=v[_];_==="children"?typeof S=="string"?d.textContent!==S&&(v.suppressHydrationWarning!==!0&&Si(d.textContent,S,t),p=["children",S]):typeof S=="number"&&d.textContent!==""+S&&(v.suppressHydrationWarning!==!0&&Si(d.textContent,S,t),p=["children",""+S]):a.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&we("scroll",d)}switch(s){case"input":jo(d),ia(d,v,!0);break;case"textarea":jo(d),la(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Ci)}d=p,o.updateQueue=d,d!==null&&(o.flags|=4)}else{_=p.nodeType===9?p:p.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aa(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof d.is=="string"?t=_.createElement(s,{is:d.is}):(t=_.createElement(s),s==="select"&&(_=t,d.multiple?_.multiple=!0:d.size&&(_.size=d.size))):t=_.createElementNS(t,s),t[kt]=o,t[ko]=d,Tc(t,o,!1,!1),o.stateNode=t;e:{switch(_=Ur(s,d),s){case"dialog":we("cancel",t),we("close",t),p=d;break;case"iframe":case"object":case"embed":we("load",t),p=d;break;case"video":case"audio":for(p=0;p<No.length;p++)we(No[p],t);p=d;break;case"source":we("error",t),p=d;break;case"img":case"image":case"link":we("error",t),we("load",t),p=d;break;case"details":we("toggle",t),p=d;break;case"input":na(t,d),p=Nr(t,d),we("invalid",t);break;case"option":p=d;break;case"select":t._wrapperState={wasMultiple:!!d.multiple},p=W({},d,{value:void 0}),we("invalid",t);break;case"textarea":ra(t,d),p=kr(t,d),we("invalid",t);break;default:p=d}Lr(s,p),S=p;for(v in S)if(S.hasOwnProperty(v)){var I=S[v];v==="style"?da(t,I):v==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&ua(t,I)):v==="children"?typeof I=="string"?(s!=="textarea"||I!=="")&&uo(t,I):typeof I=="number"&&uo(t,""+I):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?I!=null&&v==="onScroll"&&we("scroll",t):I!=null&&H(t,v,I,_))}switch(s){case"input":jo(t),ia(t,d,!1);break;case"textarea":jo(t),la(t);break;case"option":d.value!=null&&t.setAttribute("value",""+_e(d.value));break;case"select":t.multiple=!!d.multiple,v=d.value,v!=null?Nn(t,!!d.multiple,v,!1):d.defaultValue!=null&&Nn(t,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(t.onclick=Ci)}switch(s){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ke(o),null;case 6:if(t&&o.stateNode!=null)Sc(t,o,t.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(s=Tn(Vo.current),Tn(Dt.current),Mi(o)){if(d=o.stateNode,s=o.memoizedProps,d[kt]=o,(v=d.nodeValue!==s)&&(t=at,t!==null))switch(t.tag){case 3:Si(d.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Si(d.nodeValue,s,(t.mode&1)!==0)}v&&(o.flags|=4)}else d=(s.nodeType===9?s:s.ownerDocument).createTextNode(d),d[kt]=o,o.stateNode=d}return Ke(o),null;case 13:if(Ae(Ne),d=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&ut!==null&&(o.mode&1)!==0&&(o.flags&128)===0)wu(),$n(),o.flags|=98560,v=!1;else if(v=Mi(o),d!==null&&d.dehydrated!==null){if(t===null){if(!v)throw Error(i(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[kt]=o}else $n(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ke(o),v=!1}else Ct!==null&&(dl(Ct),Ct=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=s,o):(d=d!==null,d!==(t!==null&&t.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(t===null||(Ne.current&1)!==0?Ge===0&&(Ge=3):hl())),o.updateQueue!==null&&(o.flags|=4),Ke(o),null);case 4:return Yn(),el(t,o),t===null&&Mo(o.stateNode.containerInfo),Ke(o),null;case 10:return Ps(o.type._context),Ke(o),null;case 17:return tt(o.type)&&wi(),Ke(o),null;case 19:if(Ae(Ne),v=o.memoizedState,v===null)return Ke(o),null;if(d=(o.flags&128)!==0,_=v.rendering,_===null)if(d)zo(v,!1);else{if(Ge!==0||t!==null&&(t.flags&128)!==0)for(t=o.child;t!==null;){if(_=Fi(t),_!==null){for(o.flags|=128,zo(v,!1),d=_.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=s,s=o.child;s!==null;)v=s,t=d,v.flags&=14680066,_=v.alternate,_===null?(v.childLanes=0,v.lanes=t,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=_.childLanes,v.lanes=_.lanes,v.child=_.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=_.memoizedProps,v.memoizedState=_.memoizedState,v.updateQueue=_.updateQueue,v.type=_.type,t=_.dependencies,v.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Ie(Ne,Ne.current&1|2),o.child}t=t.sibling}v.tail!==null&&De()>bn&&(o.flags|=128,d=!0,zo(v,!1),o.lanes=4194304)}else{if(!d)if(t=Fi(_),t!==null){if(o.flags|=128,d=!0,s=t.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),zo(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!Pe)return Ke(o),null}else 2*De()-v.renderingStartTime>bn&&s!==1073741824&&(o.flags|=128,d=!0,zo(v,!1),o.lanes=4194304);v.isBackwards?(_.sibling=o.child,o.child=_):(s=v.last,s!==null?s.sibling=_:o.child=_,v.last=_)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=De(),o.sibling=null,s=Ne.current,Ie(Ne,d?s&1|2:s&1),o):(Ke(o),null);case 22:case 23:return pl(),d=o.memoizedState!==null,t!==null&&t.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(ct&1073741824)!==0&&(Ke(o),o.subtreeFlags&6&&(o.flags|=8192)):Ke(o),null;case 24:return null;case 25:return null}throw Error(i(156,o.tag))}function rm(t,o){switch(Ss(o),o.tag){case 1:return tt(o.type)&&wi(),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return Yn(),Ae(et),Ae(Oe),Us(),t=o.flags,(t&65536)!==0&&(t&128)===0?(o.flags=t&-65537|128,o):null;case 5:return Ds(o),null;case 13:if(Ae(Ne),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(i(340));$n()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return Ae(Ne),null;case 4:return Yn(),null;case 10:return Ps(o.type._context),null;case 22:case 23:return pl(),null;case 24:return null;default:return null}}var Oi=!1,Ye=!1,sm=typeof WeakSet=="function"?WeakSet:Set,O=null;function Xn(t,o){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(d){ke(t,o,d)}else s.current=null}function tl(t,o,s){try{s()}catch(d){ke(t,o,d)}}var Cc=!1;function lm(t,o){if(ps=di,t=tu(),rs(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var d=s.getSelection&&s.getSelection();if(d&&d.rangeCount!==0){s=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{s.nodeType,v.nodeType}catch{s=null;break e}var _=0,S=-1,I=-1,M=0,U=0,V=t,D=null;t:for(;;){for(var $;V!==s||p!==0&&V.nodeType!==3||(S=_+p),V!==v||d!==0&&V.nodeType!==3||(I=_+d),V.nodeType===3&&(_+=V.nodeValue.length),($=V.firstChild)!==null;)D=V,V=$;for(;;){if(V===t)break t;if(D===s&&++M===p&&(S=_),D===v&&++U===d&&(I=_),($=V.nextSibling)!==null)break;V=D,D=V.parentNode}V=$}s=S===-1||I===-1?null:{start:S,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(hs={focusedElem:t,selectionRange:s},di=!1,O=o;O!==null;)if(o=O,t=o.child,(o.subtreeFlags&1028)!==0&&t!==null)t.return=o,O=t;else for(;O!==null;){o=O;try{var K=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var Q=K.memoizedProps,Le=K.memoizedState,R=o.stateNode,w=R.getSnapshotBeforeUpdate(o.elementType===o.type?Q:It(o.type,Q),Le);R.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var N=o.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(G){ke(o,o.return,G)}if(t=o.sibling,t!==null){t.return=o.return,O=t;break}O=o.return}return K=Cc,Cc=!1,K}function Jo(t,o,s){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&t)===t){var v=p.destroy;p.destroy=void 0,v!==void 0&&tl(o,s,v)}p=p.next}while(p!==d)}}function Wi(t,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&t)===t){var d=s.create;s.destroy=d()}s=s.next}while(s!==o)}}function nl(t){var o=t.ref;if(o!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof o=="function"?o(t):o.current=t}}function Ic(t){var o=t.alternate;o!==null&&(t.alternate=null,Ic(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&(delete o[kt],delete o[ko],delete o[ys],delete o[Jh],delete o[$h])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wc(t){return t.tag===5||t.tag===3||t.tag===4}function Ac(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ol(t,o,s){var d=t.tag;if(d===5||d===6)t=t.stateNode,o?s.nodeType===8?s.parentNode.insertBefore(t,o):s.insertBefore(t,o):(s.nodeType===8?(o=s.parentNode,o.insertBefore(t,s)):(o=s,o.appendChild(t)),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=Ci));else if(d!==4&&(t=t.child,t!==null))for(ol(t,o,s),t=t.sibling;t!==null;)ol(t,o,s),t=t.sibling}function il(t,o,s){var d=t.tag;if(d===5||d===6)t=t.stateNode,o?s.insertBefore(t,o):s.appendChild(t);else if(d!==4&&(t=t.child,t!==null))for(il(t,o,s),t=t.sibling;t!==null;)il(t,o,s),t=t.sibling}var Je=null,wt=!1;function sn(t,o,s){for(s=s.child;s!==null;)Rc(t,o,s),s=s.sibling}function Rc(t,o,s){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(ri,s)}catch{}switch(s.tag){case 5:Ye||Xn(s,o);case 6:var d=Je,p=wt;Je=null,sn(t,o,s),Je=d,wt=p,Je!==null&&(wt?(t=Je,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):Je.removeChild(s.stateNode));break;case 18:Je!==null&&(wt?(t=Je,s=s.stateNode,t.nodeType===8?vs(t.parentNode,s):t.nodeType===1&&vs(t,s),_o(t)):vs(Je,s.stateNode));break;case 4:d=Je,p=wt,Je=s.stateNode.containerInfo,wt=!0,sn(t,o,s),Je=d,wt=p;break;case 0:case 11:case 14:case 15:if(!Ye&&(d=s.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var v=p,_=v.destroy;v=v.tag,_!==void 0&&((v&2)!==0||(v&4)!==0)&&tl(s,o,_),p=p.next}while(p!==d)}sn(t,o,s);break;case 1:if(!Ye&&(Xn(s,o),d=s.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=s.memoizedProps,d.state=s.memoizedState,d.componentWillUnmount()}catch(S){ke(s,o,S)}sn(t,o,s);break;case 21:sn(t,o,s);break;case 22:s.mode&1?(Ye=(d=Ye)||s.memoizedState!==null,sn(t,o,s),Ye=d):sn(t,o,s);break;default:sn(t,o,s)}}function Pc(t){var o=t.updateQueue;if(o!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new sm),o.forEach(function(d){var p=gm.bind(null,t,d);s.has(d)||(s.add(d),d.then(p,p))})}}function At(t,o){var s=o.deletions;if(s!==null)for(var d=0;d<s.length;d++){var p=s[d];try{var v=t,_=o,S=_;e:for(;S!==null;){switch(S.tag){case 5:Je=S.stateNode,wt=!1;break e;case 3:Je=S.stateNode.containerInfo,wt=!0;break e;case 4:Je=S.stateNode.containerInfo,wt=!0;break e}S=S.return}if(Je===null)throw Error(i(160));Rc(v,_,p),Je=null,wt=!1;var I=p.alternate;I!==null&&(I.return=null),p.return=null}catch(M){ke(p,o,M)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Nc(o,t),o=o.sibling}function Nc(t,o){var s=t.alternate,d=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(At(o,t),Ut(t),d&4){try{Jo(3,t,t.return),Wi(3,t)}catch(Q){ke(t,t.return,Q)}try{Jo(5,t,t.return)}catch(Q){ke(t,t.return,Q)}}break;case 1:At(o,t),Ut(t),d&512&&s!==null&&Xn(s,s.return);break;case 5:if(At(o,t),Ut(t),d&512&&s!==null&&Xn(s,s.return),t.flags&32){var p=t.stateNode;try{uo(p,"")}catch(Q){ke(t,t.return,Q)}}if(d&4&&(p=t.stateNode,p!=null)){var v=t.memoizedProps,_=s!==null?s.memoizedProps:v,S=t.type,I=t.updateQueue;if(t.updateQueue=null,I!==null)try{S==="input"&&v.type==="radio"&&v.name!=null&&oa(p,v),Ur(S,_);var M=Ur(S,v);for(_=0;_<I.length;_+=2){var U=I[_],V=I[_+1];U==="style"?da(p,V):U==="dangerouslySetInnerHTML"?ua(p,V):U==="children"?uo(p,V):H(p,U,V,M)}switch(S){case"input":Mr(p,v);break;case"textarea":sa(p,v);break;case"select":var D=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var $=v.value;$!=null?Nn(p,!!v.multiple,$,!1):D!==!!v.multiple&&(v.defaultValue!=null?Nn(p,!!v.multiple,v.defaultValue,!0):Nn(p,!!v.multiple,v.multiple?[]:"",!1))}p[ko]=v}catch(Q){ke(t,t.return,Q)}}break;case 6:if(At(o,t),Ut(t),d&4){if(t.stateNode===null)throw Error(i(162));p=t.stateNode,v=t.memoizedProps;try{p.nodeValue=v}catch(Q){ke(t,t.return,Q)}}break;case 3:if(At(o,t),Ut(t),d&4&&s!==null&&s.memoizedState.isDehydrated)try{_o(o.containerInfo)}catch(Q){ke(t,t.return,Q)}break;case 4:At(o,t),Ut(t);break;case 13:At(o,t),Ut(t),p=t.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(ll=De())),d&4&&Pc(t);break;case 22:if(U=s!==null&&s.memoizedState!==null,t.mode&1?(Ye=(M=Ye)||U,At(o,t),Ye=M):At(o,t),Ut(t),d&8192){if(M=t.memoizedState!==null,(t.stateNode.isHidden=M)&&!U&&(t.mode&1)!==0)for(O=t,U=t.child;U!==null;){for(V=O=U;O!==null;){switch(D=O,$=D.child,D.tag){case 0:case 11:case 14:case 15:Jo(4,D,D.return);break;case 1:Xn(D,D.return);var K=D.stateNode;if(typeof K.componentWillUnmount=="function"){d=D,s=D.return;try{o=d,K.props=o.memoizedProps,K.state=o.memoizedState,K.componentWillUnmount()}catch(Q){ke(d,s,Q)}}break;case 5:Xn(D,D.return);break;case 22:if(D.memoizedState!==null){kc(V);continue}}$!==null?($.return=D,O=$):kc(V)}U=U.sibling}e:for(U=null,V=t;;){if(V.tag===5){if(U===null){U=V;try{p=V.stateNode,M?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(S=V.stateNode,I=V.memoizedProps.style,_=I!=null&&I.hasOwnProperty("display")?I.display:null,S.style.display=ca("display",_))}catch(Q){ke(t,t.return,Q)}}}else if(V.tag===6){if(U===null)try{V.stateNode.nodeValue=M?"":V.memoizedProps}catch(Q){ke(t,t.return,Q)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===t)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===t)break e;for(;V.sibling===null;){if(V.return===null||V.return===t)break e;U===V&&(U=null),V=V.return}U===V&&(U=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:At(o,t),Ut(t),d&4&&Pc(t);break;case 21:break;default:At(o,t),Ut(t)}}function Ut(t){var o=t.flags;if(o&2){try{e:{for(var s=t.return;s!==null;){if(wc(s)){var d=s;break e}s=s.return}throw Error(i(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(uo(p,""),d.flags&=-33);var v=Ac(t);il(t,v,p);break;case 3:case 4:var _=d.stateNode.containerInfo,S=Ac(t);ol(t,S,_);break;default:throw Error(i(161))}}catch(I){ke(t,t.return,I)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function am(t,o,s){O=t,Mc(t)}function Mc(t,o,s){for(var d=(t.mode&1)!==0;O!==null;){var p=O,v=p.child;if(p.tag===22&&d){var _=p.memoizedState!==null||Oi;if(!_){var S=p.alternate,I=S!==null&&S.memoizedState!==null||Ye;S=Oi;var M=Ye;if(Oi=_,(Ye=I)&&!M)for(O=p;O!==null;)_=O,I=_.child,_.tag===22&&_.memoizedState!==null?Dc(p):I!==null?(I.return=_,O=I):Dc(p);for(;v!==null;)O=v,Mc(v),v=v.sibling;O=p,Oi=S,Ye=M}xc(t)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,O=v):xc(t)}}function xc(t){for(;O!==null;){var o=O;if((o.flags&8772)!==0){var s=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ye||Wi(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Ye)if(s===null)d.componentDidMount();else{var p=o.elementType===o.type?s.memoizedProps:It(o.type,s.memoizedProps);d.componentDidUpdate(p,s.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&ku(o,v,d);break;case 3:var _=o.updateQueue;if(_!==null){if(s=null,o.child!==null)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}ku(o,_,s)}break;case 5:var S=o.stateNode;if(s===null&&o.flags&4){s=S;var I=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&s.focus();break;case"img":I.src&&(s.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var M=o.alternate;if(M!==null){var U=M.memoizedState;if(U!==null){var V=U.dehydrated;V!==null&&_o(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Ye||o.flags&512&&nl(o)}catch(D){ke(o,o.return,D)}}if(o===t){O=null;break}if(s=o.sibling,s!==null){s.return=o.return,O=s;break}O=o.return}}function kc(t){for(;O!==null;){var o=O;if(o===t){O=null;break}var s=o.sibling;if(s!==null){s.return=o.return,O=s;break}O=o.return}}function Dc(t){for(;O!==null;){var o=O;try{switch(o.tag){case 0:case 11:case 15:var s=o.return;try{Wi(4,o)}catch(I){ke(o,s,I)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var p=o.return;try{d.componentDidMount()}catch(I){ke(o,p,I)}}var v=o.return;try{nl(o)}catch(I){ke(o,v,I)}break;case 5:var _=o.return;try{nl(o)}catch(I){ke(o,_,I)}}}catch(I){ke(o,o.return,I)}if(o===t){O=null;break}var S=o.sibling;if(S!==null){S.return=o.return,O=S;break}O=o.return}}var um=Math.ceil,Ki=J.ReactCurrentDispatcher,rl=J.ReactCurrentOwner,mt=J.ReactCurrentBatchConfig,me=0,Be=null,Fe=null,$e=0,ct=0,Zn=en(0),Ge=0,$o=null,Sn=0,Yi=0,sl=0,Oo=null,ot=null,ll=0,bn=1/0,Jt=null,Qi=!1,al=null,ln=null,Xi=!1,an=null,Zi=0,Wo=0,ul=null,bi=-1,ji=0;function Ze(){return(me&6)!==0?De():bi!==-1?bi:bi=De()}function un(t){return(t.mode&1)===0?1:(me&2)!==0&&$e!==0?$e&-$e:Wh.transition!==null?(ji===0&&(ji=Aa()),ji):(t=Se,t!==0||(t=window.event,t=t===void 0?16:Ua(t.type)),t)}function Rt(t,o,s,d){if(50<Wo)throw Wo=0,ul=null,Error(i(185));go(t,s,d),((me&2)===0||t!==Be)&&(t===Be&&((me&2)===0&&(Yi|=s),Ge===4&&cn(t,$e)),it(t,d),s===1&&me===0&&(o.mode&1)===0&&(bn=De()+500,Ri&&nn()))}function it(t,o){var s=t.callbackNode;Wp(t,o);var d=ai(t,t===Be?$e:0);if(d===0)s!==null&&Ca(s),t.callbackNode=null,t.callbackPriority=0;else if(o=d&-d,t.callbackPriority!==o){if(s!=null&&Ca(s),o===1)t.tag===0?Oh(Uc.bind(null,t)):Tu(Uc.bind(null,t)),qh(function(){(me&6)===0&&nn()}),s=null;else{switch(Ra(d)){case 1:s=zr;break;case 4:s=Ia;break;case 16:s=ii;break;case 536870912:s=wa;break;default:s=ii}s=Jc(s,Lc.bind(null,t))}t.callbackPriority=o,t.callbackNode=s}}function Lc(t,o){if(bi=-1,ji=0,(me&6)!==0)throw Error(i(327));var s=t.callbackNode;if(jn()&&t.callbackNode!==s)return null;var d=ai(t,t===Be?$e:0);if(d===0)return null;if((d&30)!==0||(d&t.expiredLanes)!==0||o)o=er(t,d);else{o=d;var p=me;me|=2;var v=Vc();(Be!==t||$e!==o)&&(Jt=null,bn=De()+500,In(t,o));do try{fm();break}catch(S){Fc(t,S)}while(!0);Rs(),Ki.current=v,me=p,Fe!==null?o=0:(Be=null,$e=0,o=Ge)}if(o!==0){if(o===2&&(p=Jr(t),p!==0&&(d=p,o=cl(t,p))),o===1)throw s=$o,In(t,0),cn(t,d),it(t,De()),s;if(o===6)cn(t,d);else{if(p=t.current.alternate,(d&30)===0&&!cm(p)&&(o=er(t,d),o===2&&(v=Jr(t),v!==0&&(d=v,o=cl(t,v))),o===1))throw s=$o,In(t,0),cn(t,d),it(t,De()),s;switch(t.finishedWork=p,t.finishedLanes=d,o){case 0:case 1:throw Error(i(345));case 2:wn(t,ot,Jt);break;case 3:if(cn(t,d),(d&130023424)===d&&(o=ll+500-De(),10<o)){if(ai(t,0)!==0)break;if(p=t.suspendedLanes,(p&d)!==d){Ze(),t.pingedLanes|=t.suspendedLanes&p;break}t.timeoutHandle=gs(wn.bind(null,t,ot,Jt),o);break}wn(t,ot,Jt);break;case 4:if(cn(t,d),(d&4194240)===d)break;for(o=t.eventTimes,p=-1;0<d;){var _=31-_t(d);v=1<<_,_=o[_],_>p&&(p=_),d&=~v}if(d=p,d=De()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*um(d/1960))-d,10<d){t.timeoutHandle=gs(wn.bind(null,t,ot,Jt),d);break}wn(t,ot,Jt);break;case 5:wn(t,ot,Jt);break;default:throw Error(i(329))}}}return it(t,De()),t.callbackNode===s?Lc.bind(null,t):null}function cl(t,o){var s=Oo;return t.current.memoizedState.isDehydrated&&(In(t,o).flags|=256),t=er(t,o),t!==2&&(o=ot,ot=s,o!==null&&dl(o)),t}function dl(t){ot===null?ot=t:ot.push.apply(ot,t)}function cm(t){for(var o=t;;){if(o.flags&16384){var s=o.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var d=0;d<s.length;d++){var p=s[d],v=p.getSnapshot;p=p.value;try{if(!St(v(),p))return!1}catch{return!1}}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function cn(t,o){for(o&=~sl,o&=~Yi,t.suspendedLanes|=o,t.pingedLanes&=~o,t=t.expirationTimes;0<o;){var s=31-_t(o),d=1<<s;t[s]=-1,o&=~d}}function Uc(t){if((me&6)!==0)throw Error(i(327));jn();var o=ai(t,0);if((o&1)===0)return it(t,De()),null;var s=er(t,o);if(t.tag!==0&&s===2){var d=Jr(t);d!==0&&(o=d,s=cl(t,d))}if(s===1)throw s=$o,In(t,0),cn(t,o),it(t,De()),s;if(s===6)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=o,wn(t,ot,Jt),it(t,De()),null}function fl(t,o){var s=me;me|=1;try{return t(o)}finally{me=s,me===0&&(bn=De()+500,Ri&&nn())}}function Cn(t){an!==null&&an.tag===0&&(me&6)===0&&jn();var o=me;me|=1;var s=mt.transition,d=Se;try{if(mt.transition=null,Se=1,t)return t()}finally{Se=d,mt.transition=s,me=o,(me&6)===0&&nn()}}function pl(){ct=Zn.current,Ae(Zn)}function In(t,o){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,Bh(s)),Fe!==null)for(s=Fe.return;s!==null;){var d=s;switch(Ss(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&wi();break;case 3:Yn(),Ae(et),Ae(Oe),Us();break;case 5:Ds(d);break;case 4:Yn();break;case 13:Ae(Ne);break;case 19:Ae(Ne);break;case 10:Ps(d.type._context);break;case 22:case 23:pl()}s=s.return}if(Be=t,Fe=t=dn(t.current,null),$e=ct=o,Ge=0,$o=null,sl=Yi=Sn=0,ot=Oo=null,En!==null){for(o=0;o<En.length;o++)if(s=En[o],d=s.interleaved,d!==null){s.interleaved=null;var p=d.next,v=s.pending;if(v!==null){var _=v.next;v.next=p,d.next=_}s.pending=d}En=null}return t}function Fc(t,o){do{var s=Fe;try{if(Rs(),Vi.current=qi,Gi){for(var d=Me.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Gi=!1}if(_n=0,He=Ve=Me=null,Go=!1,Ho=0,rl.current=null,s===null||s.return===null){Ge=1,$o=o,Fe=null;break}e:{var v=t,_=s.return,S=s,I=o;if(o=$e,S.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var M=I,U=S,V=U.tag;if((U.mode&1)===0&&(V===0||V===11||V===15)){var D=U.alternate;D?(U.updateQueue=D.updateQueue,U.memoizedState=D.memoizedState,U.lanes=D.lanes):(U.updateQueue=null,U.memoizedState=null)}var $=lc(_);if($!==null){$.flags&=-257,ac($,_,S,v,o),$.mode&1&&sc(v,M,o),o=$,I=M;var K=o.updateQueue;if(K===null){var Q=new Set;Q.add(I),o.updateQueue=Q}else K.add(I);break e}else{if((o&1)===0){sc(v,M,o),hl();break e}I=Error(i(426))}}else if(Pe&&S.mode&1){var Le=lc(_);if(Le!==null){(Le.flags&65536)===0&&(Le.flags|=256),ac(Le,_,S,v,o),ws(Qn(I,S));break e}}v=I=Qn(I,S),Ge!==4&&(Ge=2),Oo===null?Oo=[v]:Oo.push(v),v=_;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var R=ic(v,I,o);xu(v,R);break e;case 1:S=I;var w=v.type,N=v.stateNode;if((v.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ln===null||!ln.has(N)))){v.flags|=65536,o&=-o,v.lanes|=o;var G=rc(v,S,o);xu(v,G);break e}}v=v.return}while(v!==null)}Hc(s)}catch(X){o=X,Fe===s&&s!==null&&(Fe=s=s.return);continue}break}while(!0)}function Vc(){var t=Ki.current;return Ki.current=qi,t===null?qi:t}function hl(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Be===null||(Sn&268435455)===0&&(Yi&268435455)===0||cn(Be,$e)}function er(t,o){var s=me;me|=2;var d=Vc();(Be!==t||$e!==o)&&(Jt=null,In(t,o));do try{dm();break}catch(p){Fc(t,p)}while(!0);if(Rs(),me=s,Ki.current=d,Fe!==null)throw Error(i(261));return Be=null,$e=0,Ge}function dm(){for(;Fe!==null;)Gc(Fe)}function fm(){for(;Fe!==null&&!Vp();)Gc(Fe)}function Gc(t){var o=zc(t.alternate,t,ct);t.memoizedProps=t.pendingProps,o===null?Hc(t):Fe=o,rl.current=null}function Hc(t){var o=t;do{var s=o.alternate;if(t=o.return,(o.flags&32768)===0){if(s=im(s,o,ct),s!==null){Fe=s;return}}else{if(s=rm(s,o),s!==null){s.flags&=32767,Fe=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,Fe=null;return}}if(o=o.sibling,o!==null){Fe=o;return}Fe=o=t}while(o!==null);Ge===0&&(Ge=5)}function wn(t,o,s){var d=Se,p=mt.transition;try{mt.transition=null,Se=1,pm(t,o,s,d)}finally{mt.transition=p,Se=d}return null}function pm(t,o,s,d){do jn();while(an!==null);if((me&6)!==0)throw Error(i(327));s=t.finishedWork;var p=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var v=s.lanes|s.childLanes;if(Kp(t,v),t===Be&&(Fe=Be=null,$e=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Xi||(Xi=!0,Jc(ii,function(){return jn(),null})),v=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||v){v=mt.transition,mt.transition=null;var _=Se;Se=1;var S=me;me|=4,rl.current=null,lm(t,s),Nc(s,t),Dh(hs),di=!!ps,hs=ps=null,t.current=s,am(s),Gp(),me=S,Se=_,mt.transition=v}else t.current=s;if(Xi&&(Xi=!1,an=t,Zi=p),v=t.pendingLanes,v===0&&(ln=null),qp(s.stateNode),it(t,De()),o!==null)for(d=t.onRecoverableError,s=0;s<o.length;s++)p=o[s],d(p.value,{componentStack:p.stack,digest:p.digest});if(Qi)throw Qi=!1,t=al,al=null,t;return(Zi&1)!==0&&t.tag!==0&&jn(),v=t.pendingLanes,(v&1)!==0?t===ul?Wo++:(Wo=0,ul=t):Wo=0,nn(),null}function jn(){if(an!==null){var t=Ra(Zi),o=mt.transition,s=Se;try{if(mt.transition=null,Se=16>t?16:t,an===null)var d=!1;else{if(t=an,an=null,Zi=0,(me&6)!==0)throw Error(i(331));var p=me;for(me|=4,O=t.current;O!==null;){var v=O,_=v.child;if((O.flags&16)!==0){var S=v.deletions;if(S!==null){for(var I=0;I<S.length;I++){var M=S[I];for(O=M;O!==null;){var U=O;switch(U.tag){case 0:case 11:case 15:Jo(8,U,v)}var V=U.child;if(V!==null)V.return=U,O=V;else for(;O!==null;){U=O;var D=U.sibling,$=U.return;if(Ic(U),U===M){O=null;break}if(D!==null){D.return=$,O=D;break}O=$}}}var K=v.alternate;if(K!==null){var Q=K.child;if(Q!==null){K.child=null;do{var Le=Q.sibling;Q.sibling=null,Q=Le}while(Q!==null)}}O=v}}if((v.subtreeFlags&2064)!==0&&_!==null)_.return=v,O=_;else e:for(;O!==null;){if(v=O,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Jo(9,v,v.return)}var R=v.sibling;if(R!==null){R.return=v.return,O=R;break e}O=v.return}}var w=t.current;for(O=w;O!==null;){_=O;var N=_.child;if((_.subtreeFlags&2064)!==0&&N!==null)N.return=_,O=N;else e:for(_=w;O!==null;){if(S=O,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Wi(9,S)}}catch(X){ke(S,S.return,X)}if(S===_){O=null;break e}var G=S.sibling;if(G!==null){G.return=S.return,O=G;break e}O=S.return}}if(me=p,nn(),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(ri,t)}catch{}d=!0}return d}finally{Se=s,mt.transition=o}}return!1}function Bc(t,o,s){o=Qn(s,o),o=ic(t,o,1),t=rn(t,o,1),o=Ze(),t!==null&&(go(t,1,o),it(t,o))}function ke(t,o,s){if(t.tag===3)Bc(t,t,s);else for(;o!==null;){if(o.tag===3){Bc(o,t,s);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ln===null||!ln.has(d))){t=Qn(s,t),t=rc(o,t,1),o=rn(o,t,1),t=Ze(),o!==null&&(go(o,1,t),it(o,t));break}}o=o.return}}function hm(t,o,s){var d=t.pingCache;d!==null&&d.delete(o),o=Ze(),t.pingedLanes|=t.suspendedLanes&s,Be===t&&($e&s)===s&&(Ge===4||Ge===3&&($e&130023424)===$e&&500>De()-ll?In(t,0):sl|=s),it(t,o)}function qc(t,o){o===0&&((t.mode&1)===0?o=1:(o=li,li<<=1,(li&130023424)===0&&(li=4194304)));var s=Ze();t=Bt(t,o),t!==null&&(go(t,o,s),it(t,s))}function mm(t){var o=t.memoizedState,s=0;o!==null&&(s=o.retryLane),qc(t,s)}function gm(t,o){var s=0;switch(t.tag){case 13:var d=t.stateNode,p=t.memoizedState;p!==null&&(s=p.retryLane);break;case 19:d=t.stateNode;break;default:throw Error(i(314))}d!==null&&d.delete(o),qc(t,s)}var zc;zc=function(t,o,s){if(t!==null)if(t.memoizedProps!==o.pendingProps||et.current)nt=!0;else{if((t.lanes&s)===0&&(o.flags&128)===0)return nt=!1,om(t,o,s);nt=(t.flags&131072)!==0}else nt=!1,Pe&&(o.flags&1048576)!==0&&_u(o,Ni,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;$i(t,o),t=o.pendingProps;var p=qn(o,Oe.current);Kn(o,s),p=Gs(null,o,d,t,p,s);var v=Hs();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,tt(d)?(v=!0,Ai(o)):v=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,xs(o),p.updater=zi,o.stateNode=p,p._reactInternals=o,Os(o,d,t,s),o=Qs(null,o,d,!0,v,s)):(o.tag=0,Pe&&v&&_s(o),Xe(null,o,p,s),o=o.child),o;case 16:d=o.elementType;e:{switch($i(t,o),t=o.pendingProps,p=d._init,d=p(d._payload),o.type=d,p=o.tag=ym(d),t=It(d,t),p){case 0:o=Ys(null,o,d,t,s);break e;case 1:o=hc(null,o,d,t,s);break e;case 11:o=uc(null,o,d,t,s);break e;case 14:o=cc(null,o,d,It(d.type,t),s);break e}throw Error(i(306,d,""))}return o;case 0:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:It(d,p),Ys(t,o,d,p,s);case 1:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:It(d,p),hc(t,o,d,p,s);case 3:e:{if(mc(o),t===null)throw Error(i(387));d=o.pendingProps,v=o.memoizedState,p=v.element,Mu(t,o),Ui(o,d,null,s);var _=o.memoizedState;if(d=_.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){p=Qn(Error(i(423)),o),o=gc(t,o,d,s,p);break e}else if(d!==p){p=Qn(Error(i(424)),o),o=gc(t,o,d,s,p);break e}else for(ut=jt(o.stateNode.containerInfo.firstChild),at=o,Pe=!0,Ct=null,s=Pu(o,null,d,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if($n(),d===p){o=zt(t,o,s);break e}Xe(t,o,d,s)}o=o.child}return o;case 5:return Du(o),t===null&&Is(o),d=o.type,p=o.pendingProps,v=t!==null?t.memoizedProps:null,_=p.children,ms(d,p)?_=null:v!==null&&ms(d,v)&&(o.flags|=32),pc(t,o),Xe(t,o,_,s),o.child;case 6:return t===null&&Is(o),null;case 13:return vc(t,o,s);case 4:return ks(o,o.stateNode.containerInfo),d=o.pendingProps,t===null?o.child=On(o,null,d,s):Xe(t,o,d,s),o.child;case 11:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:It(d,p),uc(t,o,d,p,s);case 7:return Xe(t,o,o.pendingProps,s),o.child;case 8:return Xe(t,o,o.pendingProps.children,s),o.child;case 12:return Xe(t,o,o.pendingProps.children,s),o.child;case 10:e:{if(d=o.type._context,p=o.pendingProps,v=o.memoizedProps,_=p.value,Ie(ki,d._currentValue),d._currentValue=_,v!==null)if(St(v.value,_)){if(v.children===p.children&&!et.current){o=zt(t,o,s);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var S=v.dependencies;if(S!==null){_=v.child;for(var I=S.firstContext;I!==null;){if(I.context===d){if(v.tag===1){I=qt(-1,s&-s),I.tag=2;var M=v.updateQueue;if(M!==null){M=M.shared;var U=M.pending;U===null?I.next=I:(I.next=U.next,U.next=I),M.pending=I}}v.lanes|=s,I=v.alternate,I!==null&&(I.lanes|=s),Ns(v.return,s,o),S.lanes|=s;break}I=I.next}}else if(v.tag===10)_=v.type===o.type?null:v.child;else if(v.tag===18){if(_=v.return,_===null)throw Error(i(341));_.lanes|=s,S=_.alternate,S!==null&&(S.lanes|=s),Ns(_,s,o),_=v.sibling}else _=v.child;if(_!==null)_.return=v;else for(_=v;_!==null;){if(_===o){_=null;break}if(v=_.sibling,v!==null){v.return=_.return,_=v;break}_=_.return}v=_}Xe(t,o,p.children,s),o=o.child}return o;case 9:return p=o.type,d=o.pendingProps.children,Kn(o,s),p=pt(p),d=d(p),o.flags|=1,Xe(t,o,d,s),o.child;case 14:return d=o.type,p=It(d,o.pendingProps),p=It(d.type,p),cc(t,o,d,p,s);case 15:return dc(t,o,o.type,o.pendingProps,s);case 17:return d=o.type,p=o.pendingProps,p=o.elementType===d?p:It(d,p),$i(t,o),o.tag=1,tt(d)?(t=!0,Ai(o)):t=!1,Kn(o,s),nc(o,d,p),Os(o,d,p,s),Qs(null,o,d,!0,t,s);case 19:return Ec(t,o,s);case 22:return fc(t,o,s)}throw Error(i(156,o.tag))};function Jc(t,o){return Sa(t,o)}function vm(t,o,s,d){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(t,o,s,d){return new vm(t,o,s,d)}function ml(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ym(t){if(typeof t=="function")return ml(t)?1:0;if(t!=null){if(t=t.$$typeof,t===j)return 11;if(t===xe)return 14}return 2}function dn(t,o){var s=t.alternate;return s===null?(s=gt(t.tag,o,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=o,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,o=t.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function tr(t,o,s,d,p,v){var _=2;if(d=t,typeof t=="function")ml(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case b:return An(s.children,p,v,o);case fe:_=8,p|=8;break;case Y:return t=gt(12,s,o,p|2),t.elementType=Y,t.lanes=v,t;case oe:return t=gt(13,s,o,p),t.elementType=oe,t.lanes=v,t;case pe:return t=gt(19,s,o,p),t.elementType=pe,t.lanes=v,t;case he:return nr(s,p,v,o);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:_=10;break e;case Te:_=9;break e;case j:_=11;break e;case xe:_=14;break e;case Ue:_=16,d=null;break e}throw Error(i(130,t==null?t:typeof t,""))}return o=gt(_,s,o,p),o.elementType=t,o.type=d,o.lanes=v,o}function An(t,o,s,d){return t=gt(7,t,d,o),t.lanes=s,t}function nr(t,o,s,d){return t=gt(22,t,d,o),t.elementType=he,t.lanes=s,t.stateNode={isHidden:!1},t}function gl(t,o,s){return t=gt(6,t,null,o),t.lanes=s,t}function vl(t,o,s){return o=gt(4,t.children!==null?t.children:[],t.key,o),o.lanes=s,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}function Em(t,o,s,d,p){this.tag=o,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$r(0),this.expirationTimes=$r(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function yl(t,o,s,d,p,v,_,S,I){return t=new Em(t,o,s,S,I),o===1?(o=1,v===!0&&(o|=8)):o=0,v=gt(3,null,null,o),t.current=v,v.stateNode=t,v.memoizedState={element:d,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},xs(v),t}function Tm(t,o,s){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:d==null?null:""+d,children:t,containerInfo:o,implementation:s}}function $c(t){if(!t)return tn;t=t._reactInternals;e:{if(hn(t)!==t||t.tag!==1)throw Error(i(170));var o=t;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(tt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(i(171))}if(t.tag===1){var s=t.type;if(tt(s))return yu(t,s,o)}return o}function Oc(t,o,s,d,p,v,_,S,I){return t=yl(s,d,!0,t,p,v,_,S,I),t.context=$c(null),s=t.current,d=Ze(),p=un(s),v=qt(d,p),v.callback=o??null,rn(s,v,p),t.current.lanes=p,go(t,p,d),it(t,d),t}function or(t,o,s,d){var p=o.current,v=Ze(),_=un(p);return s=$c(s),o.context===null?o.context=s:o.pendingContext=s,o=qt(v,_),o.payload={element:t},d=d===void 0?null:d,d!==null&&(o.callback=d),t=rn(p,o,_),t!==null&&(Rt(t,p,_,v),Li(t,p,_)),_}function ir(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wc(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<o?s:o}}function El(t,o){Wc(t,o),(t=t.alternate)&&Wc(t,o)}function _m(){return null}var Kc=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tl(t){this._internalRoot=t}rr.prototype.render=Tl.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(i(409));or(t,o,null,null)},rr.prototype.unmount=Tl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;Cn(function(){or(null,t,null,null)}),o[Ft]=null}};function rr(t){this._internalRoot=t}rr.prototype.unstable_scheduleHydration=function(t){if(t){var o=Ma();t={blockedOn:null,target:t,priority:o};for(var s=0;s<Xt.length&&o!==0&&o<Xt[s].priority;s++);Xt.splice(s,0,t),s===0&&Da(t)}};function _l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sr(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yc(){}function Sm(t,o,s,d,p){if(p){if(typeof d=="function"){var v=d;d=function(){var M=ir(_);v.call(M)}}var _=Oc(o,d,t,0,null,!1,!1,"",Yc);return t._reactRootContainer=_,t[Ft]=_.current,Mo(t.nodeType===8?t.parentNode:t),Cn(),_}for(;p=t.lastChild;)t.removeChild(p);if(typeof d=="function"){var S=d;d=function(){var M=ir(I);S.call(M)}}var I=yl(t,0,!1,null,null,!1,!1,"",Yc);return t._reactRootContainer=I,t[Ft]=I.current,Mo(t.nodeType===8?t.parentNode:t),Cn(function(){or(o,I,s,d)}),I}function lr(t,o,s,d,p){var v=s._reactRootContainer;if(v){var _=v;if(typeof p=="function"){var S=p;p=function(){var I=ir(_);S.call(I)}}or(o,_,t,p)}else _=Sm(s,o,t,p,d);return ir(_)}Pa=function(t){switch(t.tag){case 3:var o=t.stateNode;if(o.current.memoizedState.isDehydrated){var s=mo(o.pendingLanes);s!==0&&(Or(o,s|1),it(o,De()),(me&6)===0&&(bn=De()+500,nn()))}break;case 13:Cn(function(){var d=Bt(t,1);if(d!==null){var p=Ze();Rt(d,t,1,p)}}),El(t,1)}},Wr=function(t){if(t.tag===13){var o=Bt(t,134217728);if(o!==null){var s=Ze();Rt(o,t,134217728,s)}El(t,134217728)}},Na=function(t){if(t.tag===13){var o=un(t),s=Bt(t,o);if(s!==null){var d=Ze();Rt(s,t,o,d)}El(t,o)}},Ma=function(){return Se},xa=function(t,o){var s=Se;try{return Se=t,o()}finally{Se=s}},Gr=function(t,o,s){switch(o){case"input":if(Mr(t,s),o=s.name,s.type==="radio"&&o!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<s.length;o++){var d=s[o];if(d!==t&&d.form===t.form){var p=Ii(d);if(!p)throw Error(i(90));ta(d),Mr(d,p)}}}break;case"textarea":sa(t,s);break;case"select":o=s.value,o!=null&&Nn(t,!!s.multiple,o,!1)}},ma=fl,ga=Cn;var Cm={usingClientEntryPoint:!1,Events:[Do,Hn,Ii,pa,ha,fl]},Ko={findFiberByHostInstance:mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Im={bundleType:Ko.bundleType,version:Ko.version,rendererPackageName:Ko.rendererPackageName,rendererConfig:Ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ta(t),t===null?null:t.stateNode},findFiberByHostInstance:Ko.findFiberByHostInstance||_m,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ar=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ar.isDisabled&&ar.supportsFiber)try{ri=ar.inject(Im),xt=ar}catch{}}return rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cm,rt.createPortal=function(t,o){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_l(o))throw Error(i(200));return Tm(t,o,null,s)},rt.createRoot=function(t,o){if(!_l(t))throw Error(i(299));var s=!1,d="",p=Kc;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=yl(t,1,!1,null,null,s,!1,d,p),t[Ft]=o.current,Mo(t.nodeType===8?t.parentNode:t),new Tl(o)},rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=Ta(o),t=t===null?null:t.stateNode,t},rt.flushSync=function(t){return Cn(t)},rt.hydrate=function(t,o,s){if(!sr(o))throw Error(i(200));return lr(null,t,o,!0,s)},rt.hydrateRoot=function(t,o,s){if(!_l(t))throw Error(i(405));var d=s!=null&&s.hydratedSources||null,p=!1,v="",_=Kc;if(s!=null&&(s.unstable_strictMode===!0&&(p=!0),s.identifierPrefix!==void 0&&(v=s.identifierPrefix),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),o=Oc(o,null,t,1,s??null,p,!1,v,_),t[Ft]=o.current,Mo(t),d)for(t=0;t<d.length;t++)s=d[t],p=s._getVersion,p=p(s._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[s,p]:o.mutableSourceEagerHydrationData.push(s,p);return new rr(o)},rt.render=function(t,o,s){if(!sr(o))throw Error(i(200));return lr(null,t,o,!1,s)},rt.unmountComponentAtNode=function(t){if(!sr(t))throw Error(i(40));return t._reactRootContainer?(Cn(function(){lr(null,null,t,!1,function(){t._reactRootContainer=null,t[Ft]=null})}),!0):!1},rt.unstable_batchedUpdates=fl,rt.unstable_renderSubtreeIntoContainer=function(t,o,s,d){if(!sr(s))throw Error(i(200));if(t==null||t._reactInternals===void 0)throw Error(i(38));return lr(t,o,s,!1,d)},rt.version="18.3.1-next-f1338f8080-20240426",rt}var nd;function km(){if(nd)return Il.exports;nd=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Il.exports=xm(),Il.exports}var od;function Dm(){if(od)return ur;od=1;var n=km();return ur.createRoot=n.createRoot,ur.hydrateRoot=n.hydrateRoot,ur}var Lm=Dm(),Um={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fm,Vm;function Gm(){return{geminiUrl:Fm,vertexUrl:Vm}}function Hm(n,e,i,r){var a,c;if(!(n!=null&&n.baseUrl)){const f=Gm();return e?(a=f.vertexUrl)!==null&&a!==void 0?a:i:(c=f.geminiUrl)!==null&&c!==void 0?c:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ot{}function z(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const c=e[a];return c!=null?String(c):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function u(n,e,i){for(let c=0;c<e.length-1;c++){const f=e[c];if(f.endsWith("[]")){const h=f.slice(0,-2);if(!(h in n))if(Array.isArray(i))n[h]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[h])){const g=n[h];if(Array.isArray(i))for(let m=0;m<g.length;m++){const y=g[m];u(y,e.slice(c+1),i[m])}else for(const m of g)u(m,e.slice(c+1),i)}return}else if(f.endsWith("[0]")){const h=f.slice(0,-3);h in n||(n[h]=[{}]);const g=n[h];u(g[0],e.slice(c+1),i);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const r=e[e.length-1],a=n[r];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[r]=i}function l(n,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return i;const a=e[r];if(a.endsWith("[]")){const c=a.slice(0,-2);if(c in n){const f=n[c];return Array.isArray(f)?f.map(h=>l(h,e.slice(r+1),i)):i}else return i}else n=n[a]}return n}catch(r){if(r instanceof TypeError)return i;throw r}}function Bm(n,e){for(const[i,r]of Object.entries(e)){const a=i.split("."),c=r.split("."),f=new Set;let h=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){h=g;break}if(h!==-1&&c.length>h)for(let g=h;g<c.length;g++){const m=c[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&f.add(m)}Nl(n,a,c,0,f)}}function Nl(n,e,i,r,a){if(r>=e.length||typeof n!="object"||n===null)return;const c=e[r];if(c.endsWith("[]")){const f=c.slice(0,-2),h=n;if(f in h&&Array.isArray(h[f]))for(const g of h[f])Nl(g,e,i,r+1,a)}else if(c==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const f=n,h=Object.keys(f).filter(m=>!m.startsWith("_")&&!a.has(m)),g={};for(const m of h)g[m]=f[m];for(const[m,y]of Object.entries(g)){const T=[];for(const E of i.slice(r))E==="*"?T.push(m):T.push(E);u(f,T,y)}for(const m of h)delete f[m]}}else{const f=n;c in f&&Nl(f[c],e,i,r+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ol(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qm(n){const e={},i=l(n,["operationName"]);i!=null&&u(e,["operationName"],i);const r=l(n,["resourceName"]);return r!=null&&u(e,["_url","resourceName"],r),e}function zm(n){const e={},i=l(n,["name"]);i!=null&&u(e,["name"],i);const r=l(n,["metadata"]);r!=null&&u(e,["metadata"],r);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["response","generateVideoResponse"]);return f!=null&&u(e,["response"],$m(f)),e}function Jm(n){const e={},i=l(n,["name"]);i!=null&&u(e,["name"],i);const r=l(n,["metadata"]);r!=null&&u(e,["metadata"],r);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["response"]);return f!=null&&u(e,["response"],Om(f)),e}function $m(n){const e={},i=l(n,["generatedSamples"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Wm(f))),u(e,["generatedVideos"],c)}const r=l(n,["raiMediaFilteredCount"]);r!=null&&u(e,["raiMediaFilteredCount"],r);const a=l(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function Om(n){const e={},i=l(n,["videos"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Km(f))),u(e,["generatedVideos"],c)}const r=l(n,["raiMediaFilteredCount"]);r!=null&&u(e,["raiMediaFilteredCount"],r);const a=l(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function Wm(n){const e={},i=l(n,["video"]);return i!=null&&u(e,["video"],jm(i)),e}function Km(n){const e={},i=l(n,["_self"]);return i!=null&&u(e,["video"],eg(i)),e}function Ym(n){const e={},i=l(n,["operationName"]);return i!=null&&u(e,["_url","operationName"],i),e}function Qm(n){const e={},i=l(n,["operationName"]);return i!=null&&u(e,["_url","operationName"],i),e}function Xm(n){const e={},i=l(n,["name"]);i!=null&&u(e,["name"],i);const r=l(n,["metadata"]);r!=null&&u(e,["metadata"],r);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["response"]);return f!=null&&u(e,["response"],Zm(f)),e}function Zm(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["parent"]);r!=null&&u(e,["parent"],r);const a=l(n,["documentName"]);return a!=null&&u(e,["documentName"],a),e}function Gf(n){const e={},i=l(n,["name"]);i!=null&&u(e,["name"],i);const r=l(n,["metadata"]);r!=null&&u(e,["metadata"],r);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["response"]);return f!=null&&u(e,["response"],bm(f)),e}function bm(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["parent"]);r!=null&&u(e,["parent"],r);const a=l(n,["documentName"]);return a!=null&&u(e,["documentName"],a),e}function jm(n){const e={},i=l(n,["uri"]);i!=null&&u(e,["uri"],i);const r=l(n,["encodedVideo"]);r!=null&&u(e,["videoBytes"],Ol(r));const a=l(n,["encoding"]);return a!=null&&u(e,["mimeType"],a),e}function eg(n){const e={},i=l(n,["gcsUri"]);i!=null&&u(e,["uri"],i);const r=l(n,["bytesBase64Encoded"]);r!=null&&u(e,["videoBytes"],Ol(r));const a=l(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var id;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(id||(id={}));var rd;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(rd||(rd={}));var sd;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(sd||(sd={}));var yt;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(yt||(yt={}));var ld;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ld||(ld={}));var ad;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(ad||(ad={}));var ud;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ud||(ud={}));var cd;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(cd||(cd={}));var dd;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(dd||(dd={}));var fd;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(fd||(fd={}));var pd;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(pd||(pd={}));var hd;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(hd||(hd={}));var md;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(md||(md={}));var gd;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(gd||(gd={}));var vd;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(vd||(vd={}));var yd;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(yd||(yd={}));var Ed;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Ed||(Ed={}));var Td;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Td||(Td={}));var _d;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(_d||(_d={}));var Sd;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Sd||(Sd={}));var Cd;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Cd||(Cd={}));var vr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(vr||(vr={}));var Id;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Id||(Id={}));var wd;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(wd||(wd={}));var Ad;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ad||(Ad={}));var Ml;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ml||(Ml={}));var Rd;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Rd||(Rd={}));var Pd;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Pd||(Pd={}));var xl;(function(n){n.COLLECTION="COLLECTION"})(xl||(xl={}));var Nd;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Nd||(Nd={}));var Md;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Md||(Md={}));var xd;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(xd||(xd={}));var kd;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(kd||(kd={}));var Dd;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Dd||(Dd={}));var Ld;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ld||(Ld={}));var Ud;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ud||(Ud={}));var Fd;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Fd||(Fd={}));var Vd;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Vd||(Vd={}));var Gd;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Gd||(Gd={}));var Hd;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Hd||(Hd={}));var Bd;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Bd||(Bd={}));var qd;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(qd||(qd={}));var zd;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(zd||(zd={}));var Jd;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Jd||(Jd={}));var $d;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})($d||($d={}));var Od;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(Od||(Od={}));var Wd;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Wd||(Wd={}));var Kd;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Kd||(Kd={}));var Yd;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Yd||(Yd={}));var Qd;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(Qd||(Qd={}));var Xd;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Xd||(Xd={}));var Zd;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Zd||(Zd={}));var bd;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(bd||(bd={}));var jd;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(jd||(jd={}));var ef;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ef||(ef={}));var tf;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(tf||(tf={}));var to;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(to||(to={}));class kl{constructor(e){const i={};for(const r of e.headers.entries())i[r[0]]=r[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Qo{get text(){var e,i,r,a,c,f,h,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const T=[];for(const E of(g=(h=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[C,x]of Object.entries(E))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(x!==null||x!==void 0)&&T.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;y=!0,m+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,i,r,a,c,f,h,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const T of(g=(h=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[E,C]of Object.entries(T))E!=="inlineData"&&(C!==null||C!==void 0)&&y.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,i,r,a,c,f,h,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(h=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,i,r,a,c,f,h,g,m;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(g=(h=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,i,r,a,c,f,h,g,m;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(g=(h=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class nf{}class of{}class tg{}class ng{}class og{}class ig{}class rf{}class sf{}class lf{}class rg{}class yr{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new yr;let a;const c=e;return i?a=Jm(c):a=zm(c),Object.assign(r,a),r}}class af{}class uf{}class cf{}class df{}class sg{}class lg{}class ag{}class Wl{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new Wl,c=Xm(e);return Object.assign(r,c),r}}class ug{}class cg{}class dg{}class ff{}class fg{get text(){var e,i,r;let a="",c=!1;const f=[];for(const h of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&m!==null&&f.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,a+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?a:void 0}get data(){var e,i,r;let a="";const c=[];for(const f of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[h,g]of Object.entries(f))h!=="inlineData"&&g!==null&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(a+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class pg{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Kl{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new Kl,c=Gf(e);return Object.assign(r,c),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ee(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Hf(n,e){const i=Ee(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function Bf(n){return Array.isArray(n)?n.map(e=>Er(e)):[Er(n)]}function Er(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function qf(n){const e=Er(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zf(n){const e=Er(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function pf(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Jf(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>pf(e)):[pf(n)]}function Dl(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function hf(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function mf(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Qe(n){if(n==null)throw new Error("ContentUnion is required");return Dl(n)?n:{role:"user",parts:Jf(n)}}function Yl(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const r=Qe(i);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const i=Qe(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Qe(i)):[Qe(e)]}function Et(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(hf(n)||mf(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qe(n)]}const e=[],i=[],r=Dl(n[0]);for(const a of n){const c=Dl(a);if(c!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(a);else{if(hf(a)||mf(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return r||e.push({role:"user",parts:Jf(i)}),e}function hg(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(r=>r!=="null");if(i.length===1)e.type=Object.values(yt).includes(i[0].toUpperCase())?i[0].toUpperCase():yt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of i)e.anyOf.push({type:Object.values(yt).includes(r.toUpperCase())?r.toUpperCase():yt.TYPE_UNSPECIFIED})}}function oo(n){const e={},i=["items"],r=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=n.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,n=c[1]):c[1].type==="null"&&(e.nullable=!0,n=c[0])),n.type instanceof Array&&hg(n.type,e);for(const[f,h]of Object.entries(n))if(h!=null)if(f=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(yt).includes(h.toUpperCase())?h.toUpperCase():yt.TYPE_UNSPECIFIED}else if(i.includes(f))e[f]=oo(h);else if(r.includes(f)){const g=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}g.push(oo(m))}e[f]=g}else if(a.includes(f)){const g={};for(const[m,y]of Object.entries(h))g[m]=oo(y);e[f]=g}else{if(f==="additionalProperties")continue;e[f]=h}return e}function Ql(n){return oo(n)}function Xl(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Zl(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function ro(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=oo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=oo(e.response));return n}function so(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function mg(n,e,i,r=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function Wt(n,e){if(typeof e!="string")throw new Error("name must be a string");return mg(n,e,"cachedContents")}function $f(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function pn(n){return Ol(n)}function gg(n){return n!=null&&typeof n=="object"&&"name"in n}function vg(n){return n!=null&&typeof n=="object"&&"video"in n}function yg(n){return n!=null&&typeof n=="object"&&"uri"in n}function Of(n){var e;let i;if(gg(n)&&(i=n.name),!(yg(n)&&(i=n.uri,i===void 0))&&!(vg(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function Wf(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function Kf(n){for(const e of["models","tunedModels","publisherModels"])if(Eg(n,e))return n[e];return[]}function Eg(n,e){return n!==null&&typeof n=="object"&&e in n}function Tg(n,e={}){const i=n,r={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(r.responseJsonSchema=i.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function _g(n,e={}){const i=[],r=new Set;for(const a of n){const c=a.name;if(r.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);r.add(c);const f=Tg(a,e);f.functionDeclarations&&i.push(...f.functionDeclarations)}return{functionDeclarations:i}}function Yf(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const r=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(a>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function Sg(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Qf(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return n;let c=!1;for(const f of a){if(typeof f!="object"||f===null)continue;const g=f.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){c=!0;break}}return c&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function lo(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function Xf(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cg(n){const e={},i=l(n,["responsesFile"]);i!=null&&u(e,["fileName"],i);const r=l(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>ov(f))),u(e,["inlinedResponses"],c)}const a=l(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["inlinedEmbedContentResponses"],c)}return e}function Ig(n){const e={},i=l(n,["predictionsFormat"]);i!=null&&u(e,["format"],i);const r=l(n,["gcsDestination","outputUriPrefix"]);r!=null&&u(e,["gcsUri"],r);const a=l(n,["bigqueryDestination","outputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function wg(n){const e={},i=l(n,["format"]);i!=null&&u(e,["predictionsFormat"],i);const r=l(n,["gcsUri"]);r!=null&&u(e,["gcsDestination","outputUriPrefix"],r);const a=l(n,["bigqueryUri"]);if(a!=null&&u(e,["bigqueryDestination","outputUri"],a),l(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function mr(n){const e={},i=l(n,["name"]);i!=null&&u(e,["name"],i);const r=l(n,["metadata","displayName"]);r!=null&&u(e,["displayName"],r);const a=l(n,["metadata","state"]);a!=null&&u(e,["state"],Xf(a));const c=l(n,["metadata","createTime"]);c!=null&&u(e,["createTime"],c);const f=l(n,["metadata","endTime"]);f!=null&&u(e,["endTime"],f);const h=l(n,["metadata","updateTime"]);h!=null&&u(e,["updateTime"],h);const g=l(n,["metadata","model"]);g!=null&&u(e,["model"],g);const m=l(n,["metadata","output"]);return m!=null&&u(e,["dest"],Cg(Qf(m))),e}function Ll(n){const e={},i=l(n,["name"]);i!=null&&u(e,["name"],i);const r=l(n,["displayName"]);r!=null&&u(e,["displayName"],r);const a=l(n,["state"]);a!=null&&u(e,["state"],Xf(a));const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["createTime"]);f!=null&&u(e,["createTime"],f);const h=l(n,["startTime"]);h!=null&&u(e,["startTime"],h);const g=l(n,["endTime"]);g!=null&&u(e,["endTime"],g);const m=l(n,["updateTime"]);m!=null&&u(e,["updateTime"],m);const y=l(n,["model"]);y!=null&&u(e,["model"],y);const T=l(n,["inputConfig"]);T!=null&&u(e,["src"],Ag(T));const E=l(n,["outputConfig"]);E!=null&&u(e,["dest"],Ig(Qf(E)));const C=l(n,["completionStats"]);return C!=null&&u(e,["completionStats"],C),e}function Ag(n){const e={},i=l(n,["instancesFormat"]);i!=null&&u(e,["format"],i);const r=l(n,["gcsSource","uris"]);r!=null&&u(e,["gcsUri"],r);const a=l(n,["bigquerySource","inputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function Rg(n,e){const i={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=l(e,["fileName"]);r!=null&&u(i,["fileName"],r);const a=l(e,["inlinedRequests"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>nv(n,f))),u(i,["requests","requests"],c)}return i}function Pg(n){const e={},i=l(n,["format"]);i!=null&&u(e,["instancesFormat"],i);const r=l(n,["gcsUri"]);r!=null&&u(e,["gcsSource","uris"],r);const a=l(n,["bigqueryUri"]);if(a!=null&&u(e,["bigquerySource","inputUri"],a),l(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Ng(n){const e={},i=l(n,["data"]);if(i!=null&&u(e,["data"],i),l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function Mg(n,e){const i={},r=l(e,["name"]);return r!=null&&u(i,["_url","name"],lo(n,r)),i}function xg(n,e){const i={},r=l(e,["name"]);return r!=null&&u(i,["_url","name"],lo(n,r)),i}function kg(n){const e={},i=l(n,["content"]);i!=null&&u(e,["content"],i);const r=l(n,["citationMetadata"]);r!=null&&u(e,["citationMetadata"],Dg(r));const a=l(n,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const c=l(n,["finishReason"]);c!=null&&u(e,["finishReason"],c);const f=l(n,["avgLogprobs"]);f!=null&&u(e,["avgLogprobs"],f);const h=l(n,["groundingMetadata"]);h!=null&&u(e,["groundingMetadata"],h);const g=l(n,["index"]);g!=null&&u(e,["index"],g);const m=l(n,["logprobsResult"]);m!=null&&u(e,["logprobsResult"],m);const y=l(n,["safetyRatings"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(C=>C)),u(e,["safetyRatings"],E)}const T=l(n,["urlContextMetadata"]);return T!=null&&u(e,["urlContextMetadata"],T),e}function Dg(n){const e={},i=l(n,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),u(e,["citations"],r)}return e}function Zf(n){const e={},i=l(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>cv(c))),u(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&u(e,["role"],r),e}function Lg(n,e){const i={},r=l(n,["displayName"]);if(e!==void 0&&r!=null&&u(e,["batch","displayName"],r),l(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function Ug(n,e){const i={},r=l(n,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);const a=l(n,["dest"]);return e!==void 0&&a!=null&&u(e,["outputConfig"],wg(Sg(a))),i}function gf(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["src"]);a!=null&&u(i,["batch","inputConfig"],Rg(n,Yf(n,a)));const c=l(e,["config"]);return c!=null&&Lg(c,i),i}function Fg(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["model"],Ee(n,r));const a=l(e,["src"]);a!=null&&u(i,["inputConfig"],Pg(Yf(n,a)));const c=l(e,["config"]);return c!=null&&Ug(c,i),i}function Vg(n,e){const i={},r=l(n,["displayName"]);return e!==void 0&&r!=null&&u(e,["batch","displayName"],r),i}function Gg(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["src"]);a!=null&&u(i,["batch","inputConfig"],Og(n,a));const c=l(e,["config"]);return c!=null&&Vg(c,i),i}function Hg(n,e){const i={},r=l(e,["name"]);return r!=null&&u(i,["_url","name"],lo(n,r)),i}function Bg(n,e){const i={},r=l(e,["name"]);return r!=null&&u(i,["_url","name"],lo(n,r)),i}function qg(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["name"]);r!=null&&u(e,["name"],r);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);return c!=null&&u(e,["error"],c),e}function zg(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["name"]);r!=null&&u(e,["name"],r);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);return c!=null&&u(e,["error"],c),e}function Jg(n,e){const i={},r=l(e,["contents"]);if(r!=null){let c=Yl(n,r);Array.isArray(c)&&(c=c.map(f=>f)),u(i,["requests[]","request","content"],c)}const a=l(e,["config"]);return a!=null&&(u(i,["_self"],$g(a,i)),Bm(i,{"requests[].*":"requests[].request.*"})),i}function $g(n,e){const i={},r=l(n,["taskType"]);e!==void 0&&r!=null&&u(e,["requests[]","taskType"],r);const a=l(n,["title"]);e!==void 0&&a!=null&&u(e,["requests[]","title"],a);const c=l(n,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),l(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Og(n,e){const i={},r=l(e,["fileName"]);r!=null&&u(i,["file_name"],r);const a=l(e,["inlinedRequests"]);return a!=null&&u(i,["requests"],Jg(n,a)),i}function Wg(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(n,["fileUri"]);i!=null&&u(e,["fileUri"],i);const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function Kg(n){const e={},i=l(n,["id"]);i!=null&&u(e,["id"],i);const r=l(n,["args"]);r!=null&&u(e,["args"],r);const a=l(n,["name"]);if(a!=null&&u(e,["name"],a),l(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Yg(n){const e={},i=l(n,["allowedFunctionNames"]);i!=null&&u(e,["allowedFunctionNames"],i);const r=l(n,["mode"]);if(r!=null&&u(e,["mode"],r),l(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Qg(n,e,i){const r={},a=l(e,["systemInstruction"]);i!==void 0&&a!=null&&u(i,["systemInstruction"],Zf(Qe(a)));const c=l(e,["temperature"]);c!=null&&u(r,["temperature"],c);const f=l(e,["topP"]);f!=null&&u(r,["topP"],f);const h=l(e,["topK"]);h!=null&&u(r,["topK"],h);const g=l(e,["candidateCount"]);g!=null&&u(r,["candidateCount"],g);const m=l(e,["maxOutputTokens"]);m!=null&&u(r,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(r,["stopSequences"],y);const T=l(e,["responseLogprobs"]);T!=null&&u(r,["responseLogprobs"],T);const E=l(e,["logprobs"]);E!=null&&u(r,["logprobs"],E);const C=l(e,["presencePenalty"]);C!=null&&u(r,["presencePenalty"],C);const x=l(e,["frequencyPenalty"]);x!=null&&u(r,["frequencyPenalty"],x);const k=l(e,["seed"]);k!=null&&u(r,["seed"],k);const P=l(e,["responseMimeType"]);P!=null&&u(r,["responseMimeType"],P);const F=l(e,["responseSchema"]);F!=null&&u(r,["responseSchema"],Ql(F));const q=l(e,["responseJsonSchema"]);if(q!=null&&u(r,["responseJsonSchema"],q),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=l(e,["safetySettings"]);if(i!==void 0&&H!=null){let oe=H;Array.isArray(oe)&&(oe=oe.map(pe=>dv(pe))),u(i,["safetySettings"],oe)}const J=l(e,["tools"]);if(i!==void 0&&J!=null){let oe=so(J);Array.isArray(oe)&&(oe=oe.map(pe=>pv(ro(pe)))),u(i,["tools"],oe)}const Z=l(e,["toolConfig"]);if(i!==void 0&&Z!=null&&u(i,["toolConfig"],fv(Z)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=l(e,["cachedContent"]);i!==void 0&&ee!=null&&u(i,["cachedContent"],Wt(n,ee));const b=l(e,["responseModalities"]);b!=null&&u(r,["responseModalities"],b);const fe=l(e,["mediaResolution"]);fe!=null&&u(r,["mediaResolution"],fe);const Y=l(e,["speechConfig"]);if(Y!=null&&u(r,["speechConfig"],Xl(Y)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=l(e,["thinkingConfig"]);le!=null&&u(r,["thinkingConfig"],le);const Te=l(e,["imageConfig"]);Te!=null&&u(r,["imageConfig"],tv(Te));const j=l(e,["enableEnhancedCivicAnswers"]);if(j!=null&&u(r,["enableEnhancedCivicAnswers"],j),l(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Xg(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(m=>kg(m))),u(e,["candidates"],g)}const a=l(n,["modelVersion"]);a!=null&&u(e,["modelVersion"],a);const c=l(n,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const f=l(n,["responseId"]);f!=null&&u(e,["responseId"],f);const h=l(n,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function Zg(n,e){const i={},r=l(e,["name"]);return r!=null&&u(i,["_url","name"],lo(n,r)),i}function bg(n,e){const i={},r=l(e,["name"]);return r!=null&&u(i,["_url","name"],lo(n,r)),i}function jg(n){const e={};if(l(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=l(n,["enableWidget"]);return i!=null&&u(e,["enableWidget"],i),e}function ev(n){const e={};if(l(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=l(n,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],i),e}function tv(n){const e={},i=l(n,["aspectRatio"]);i!=null&&u(e,["aspectRatio"],i);const r=l(n,["imageSize"]);if(r!=null&&u(e,["imageSize"],r),l(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(l(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function nv(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["request","model"],Ee(n,r));const a=l(e,["contents"]);if(a!=null){let h=Et(a);Array.isArray(h)&&(h=h.map(g=>Zf(g))),u(i,["request","contents"],h)}const c=l(e,["metadata"]);c!=null&&u(i,["metadata"],c);const f=l(e,["config"]);return f!=null&&u(i,["request","generationConfig"],Qg(n,f,l(i,["request"],{}))),i}function ov(n){const e={},i=l(n,["response"]);i!=null&&u(e,["response"],Xg(i));const r=l(n,["error"]);return r!=null&&u(e,["error"],r),e}function iv(n,e){const i={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const a=l(n,["pageToken"]);if(e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),l(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function rv(n,e){const i={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const a=l(n,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const c=l(n,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),i}function sv(n){const e={},i=l(n,["config"]);return i!=null&&iv(i,e),e}function lv(n){const e={},i=l(n,["config"]);return i!=null&&rv(i,e),e}function av(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=l(n,["operations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>mr(f))),u(e,["batchJobs"],c)}return e}function uv(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=l(n,["batchPredictionJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>Ll(f))),u(e,["batchJobs"],c)}return e}function cv(n){const e={},i=l(n,["mediaResolution"]);i!=null&&u(e,["mediaResolution"],i);const r=l(n,["codeExecutionResult"]);r!=null&&u(e,["codeExecutionResult"],r);const a=l(n,["executableCode"]);a!=null&&u(e,["executableCode"],a);const c=l(n,["fileData"]);c!=null&&u(e,["fileData"],Wg(c));const f=l(n,["functionCall"]);f!=null&&u(e,["functionCall"],Kg(f));const h=l(n,["functionResponse"]);h!=null&&u(e,["functionResponse"],h);const g=l(n,["inlineData"]);g!=null&&u(e,["inlineData"],Ng(g));const m=l(n,["text"]);m!=null&&u(e,["text"],m);const y=l(n,["thought"]);y!=null&&u(e,["thought"],y);const T=l(n,["thoughtSignature"]);T!=null&&u(e,["thoughtSignature"],T);const E=l(n,["videoMetadata"]);return E!=null&&u(e,["videoMetadata"],E),e}function dv(n){const e={},i=l(n,["category"]);if(i!=null&&u(e,["category"],i),l(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(n,["threshold"]);return r!=null&&u(e,["threshold"],r),e}function fv(n){const e={},i=l(n,["retrievalConfig"]);i!=null&&u(e,["retrievalConfig"],i);const r=l(n,["functionCallingConfig"]);return r!=null&&u(e,["functionCallingConfig"],Yg(r)),e}function pv(n){const e={};if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(n,["computerUse"]);i!=null&&u(e,["computerUse"],i);const r=l(n,["fileSearch"]);r!=null&&u(e,["fileSearch"],r);const a=l(n,["codeExecution"]);if(a!=null&&u(e,["codeExecution"],a),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=l(n,["functionDeclarations"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(T=>T)),u(e,["functionDeclarations"],y)}const f=l(n,["googleMaps"]);f!=null&&u(e,["googleMaps"],jg(f));const h=l(n,["googleSearch"]);h!=null&&u(e,["googleSearch"],ev(h));const g=l(n,["googleSearchRetrieval"]);g!=null&&u(e,["googleSearchRetrieval"],g);const m=l(n,["urlContext"]);return m!=null&&u(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $t;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})($t||($t={}));class Pn{constructor(e,i,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,r,a)}init(e,i,r){var a,c;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!r||Object.keys(r).length===0?f={config:{}}:typeof r=="object"?f=Object.assign({},r):f=r,f.config&&(f.config.pageToken=i.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(c=(a=f.config)===null||a===void 0?void 0:a.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hv extends Ot{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Pn($t.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=gf(this.apiClient,e),r=i._url,a=z("{model}:batchGenerateContent",r),h=i.batch.inputConfig.requests,g=h.requests,m=[];for(const y of g){const T=Object.assign({},y);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const C=T.request;C.systemInstruction=E,T.request=C}m.push(T)}return h.requests=m,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const r=i?Object.assign({},i):{},a=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${a}`),r.dest===void 0){const c=this.getGcsUri(e),f=this.getBigqueryUri(e);if(c)c.endsWith(".jsonl")?r.dest=`${c.slice(0,-6)}/dest`:r.dest=`${c}_dest_${a}`;else if(f)r.dest=`${f}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=Fg(this.apiClient,e);return h=z("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),f.then(y=>Ll(y))}else{const m=gf(this.apiClient,e);return h=z("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>mr(y))}}async createEmbeddingsInternal(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Gg(this.apiClient,e);return c=z("{model}:asyncBatchEmbedContent",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>mr(g))}}async get(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=bg(this.apiClient,e);return h=z("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),f.then(y=>Ll(y))}else{const m=Zg(this.apiClient,e);return h=z("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>mr(y))}}async cancel(e){var i,r,a,c;let f="",h={};if(this.apiClient.isVertexAI()){const g=xg(this.apiClient,e);f=z("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const g=Mg(this.apiClient,e);f=z("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=lv(e);return h=z("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=uv(y),E=new ff;return Object.assign(E,T),E})}else{const m=sv(e);return h=z("batches",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=av(y),E=new ff;return Object.assign(E,T),E})}}async delete(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=Bg(this.apiClient,e);return h=z("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>zg(y))}else{const m=Hg(this.apiClient,e);return h=z("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>qg(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mv(n){const e={},i=l(n,["data"]);if(i!=null&&u(e,["data"],i),l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function vf(n){const e={},i=l(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>Gv(c))),u(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&u(e,["role"],r),e}function gv(n,e){const i={},r=l(n,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);const a=l(n,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const c=l(n,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const f=l(n,["contents"]);if(e!==void 0&&f!=null){let y=Et(f);Array.isArray(y)&&(y=y.map(T=>vf(T))),u(e,["contents"],y)}const h=l(n,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],vf(Qe(h)));const g=l(n,["tools"]);if(e!==void 0&&g!=null){let y=g;Array.isArray(y)&&(y=y.map(T=>Bv(T))),u(e,["tools"],y)}const m=l(n,["toolConfig"]);if(e!==void 0&&m!=null&&u(e,["toolConfig"],Hv(m)),l(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function vv(n,e){const i={},r=l(n,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);const a=l(n,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const c=l(n,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const f=l(n,["contents"]);if(e!==void 0&&f!=null){let T=Et(f);Array.isArray(T)&&(T=T.map(E=>E)),u(e,["contents"],T)}const h=l(n,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],Qe(h));const g=l(n,["tools"]);if(e!==void 0&&g!=null){let T=g;Array.isArray(T)&&(T=T.map(E=>qv(E))),u(e,["tools"],T)}const m=l(n,["toolConfig"]);e!==void 0&&m!=null&&u(e,["toolConfig"],m);const y=l(n,["kmsKeyName"]);return e!==void 0&&y!=null&&u(e,["encryption_spec","kmsKeyName"],y),i}function yv(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["model"],Hf(n,r));const a=l(e,["config"]);return a!=null&&gv(a,i),i}function Ev(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["model"],Hf(n,r));const a=l(e,["config"]);return a!=null&&vv(a,i),i}function Tv(n,e){const i={},r=l(e,["name"]);return r!=null&&u(i,["_url","name"],Wt(n,r)),i}function _v(n,e){const i={},r=l(e,["name"]);return r!=null&&u(i,["_url","name"],Wt(n,r)),i}function Sv(n){const e={},i=l(n,["sdkHttpResponse"]);return i!=null&&u(e,["sdkHttpResponse"],i),e}function Cv(n){const e={},i=l(n,["sdkHttpResponse"]);return i!=null&&u(e,["sdkHttpResponse"],i),e}function Iv(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(n,["fileUri"]);i!=null&&u(e,["fileUri"],i);const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function wv(n){const e={},i=l(n,["id"]);i!=null&&u(e,["id"],i);const r=l(n,["args"]);r!=null&&u(e,["args"],r);const a=l(n,["name"]);if(a!=null&&u(e,["name"],a),l(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Av(n){const e={},i=l(n,["allowedFunctionNames"]);i!=null&&u(e,["allowedFunctionNames"],i);const r=l(n,["mode"]);if(r!=null&&u(e,["mode"],r),l(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Rv(n){const e={},i=l(n,["description"]);i!=null&&u(e,["description"],i);const r=l(n,["name"]);r!=null&&u(e,["name"],r);const a=l(n,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(n,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const f=l(n,["response"]);f!=null&&u(e,["response"],f);const h=l(n,["responseJsonSchema"]);if(h!=null&&u(e,["responseJsonSchema"],h),l(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Pv(n,e){const i={},r=l(e,["name"]);return r!=null&&u(i,["_url","name"],Wt(n,r)),i}function Nv(n,e){const i={},r=l(e,["name"]);return r!=null&&u(i,["_url","name"],Wt(n,r)),i}function Mv(n){const e={};if(l(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=l(n,["enableWidget"]);return i!=null&&u(e,["enableWidget"],i),e}function xv(n){const e={};if(l(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=l(n,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],i),e}function kv(n,e){const i={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const a=l(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),i}function Dv(n,e){const i={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const a=l(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),i}function Lv(n){const e={},i=l(n,["config"]);return i!=null&&kv(i,e),e}function Uv(n){const e={},i=l(n,["config"]);return i!=null&&Dv(i,e),e}function Fv(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=l(n,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["cachedContents"],c)}return e}function Vv(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=l(n,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["cachedContents"],c)}return e}function Gv(n){const e={},i=l(n,["mediaResolution"]);i!=null&&u(e,["mediaResolution"],i);const r=l(n,["codeExecutionResult"]);r!=null&&u(e,["codeExecutionResult"],r);const a=l(n,["executableCode"]);a!=null&&u(e,["executableCode"],a);const c=l(n,["fileData"]);c!=null&&u(e,["fileData"],Iv(c));const f=l(n,["functionCall"]);f!=null&&u(e,["functionCall"],wv(f));const h=l(n,["functionResponse"]);h!=null&&u(e,["functionResponse"],h);const g=l(n,["inlineData"]);g!=null&&u(e,["inlineData"],mv(g));const m=l(n,["text"]);m!=null&&u(e,["text"],m);const y=l(n,["thought"]);y!=null&&u(e,["thought"],y);const T=l(n,["thoughtSignature"]);T!=null&&u(e,["thoughtSignature"],T);const E=l(n,["videoMetadata"]);return E!=null&&u(e,["videoMetadata"],E),e}function Hv(n){const e={},i=l(n,["retrievalConfig"]);i!=null&&u(e,["retrievalConfig"],i);const r=l(n,["functionCallingConfig"]);return r!=null&&u(e,["functionCallingConfig"],Av(r)),e}function Bv(n){const e={};if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(n,["computerUse"]);i!=null&&u(e,["computerUse"],i);const r=l(n,["fileSearch"]);r!=null&&u(e,["fileSearch"],r);const a=l(n,["codeExecution"]);if(a!=null&&u(e,["codeExecution"],a),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=l(n,["functionDeclarations"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(T=>T)),u(e,["functionDeclarations"],y)}const f=l(n,["googleMaps"]);f!=null&&u(e,["googleMaps"],Mv(f));const h=l(n,["googleSearch"]);h!=null&&u(e,["googleSearch"],xv(h));const g=l(n,["googleSearchRetrieval"]);g!=null&&u(e,["googleSearchRetrieval"],g);const m=l(n,["urlContext"]);return m!=null&&u(e,["urlContext"],m),e}function qv(n){const e={},i=l(n,["retrieval"]);i!=null&&u(e,["retrieval"],i);const r=l(n,["computerUse"]);if(r!=null&&u(e,["computerUse"],r),l(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=l(n,["codeExecution"]);a!=null&&u(e,["codeExecution"],a);const c=l(n,["enterpriseWebSearch"]);c!=null&&u(e,["enterpriseWebSearch"],c);const f=l(n,["functionDeclarations"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(E=>Rv(E))),u(e,["functionDeclarations"],T)}const h=l(n,["googleMaps"]);h!=null&&u(e,["googleMaps"],h);const g=l(n,["googleSearch"]);g!=null&&u(e,["googleSearch"],g);const m=l(n,["googleSearchRetrieval"]);m!=null&&u(e,["googleSearchRetrieval"],m);const y=l(n,["urlContext"]);return y!=null&&u(e,["urlContext"],y),e}function zv(n,e){const i={},r=l(n,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);const a=l(n,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),i}function Jv(n,e){const i={},r=l(n,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);const a=l(n,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),i}function $v(n,e){const i={},r=l(e,["name"]);r!=null&&u(i,["_url","name"],Wt(n,r));const a=l(e,["config"]);return a!=null&&zv(a,i),i}function Ov(n,e){const i={},r=l(e,["name"]);r!=null&&u(i,["_url","name"],Wt(n,r));const a=l(e,["config"]);return a!=null&&Jv(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wv extends Ot{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Pn($t.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(i),i)}async create(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=Ev(this.apiClient,e);return h=z("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),f.then(y=>y)}else{const m=yv(this.apiClient,e);return h=z("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>y)}}async get(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=Nv(this.apiClient,e);return h=z("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),f.then(y=>y)}else{const m=Pv(this.apiClient,e);return h=z("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>y)}}async delete(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=_v(this.apiClient,e);return h=z("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=Cv(y),E=new cf;return Object.assign(E,T),E})}else{const m=Tv(this.apiClient,e);return h=z("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=Sv(y),E=new cf;return Object.assign(E,T),E})}}async update(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=Ov(this.apiClient,e);return h=z("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),f.then(y=>y)}else{const m=$v(this.apiClient,e);return h=z("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>y)}}async listInternal(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=Uv(e);return h=z("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=Vv(y),E=new df;return Object.assign(E,T),E})}else{const m=Lv(e);return h=z("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=Fv(y),E=new df;return Object.assign(E,T),E})}}}function Tr(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(i[r[a]]=n[r[a]]);return i}function yf(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(n){return this instanceof se?(this.v=n,this):new se(n)}function Pt(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(n,e||[]),a,c=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),a[Symbol.asyncIterator]=function(){return this},a;function f(C){return function(x){return Promise.resolve(x).then(C,T)}}function h(C,x){r[C]&&(a[C]=function(k){return new Promise(function(P,F){c.push([C,k,P,F])>1||g(C,k)})},x&&(a[C]=x(a[C])))}function g(C,x){try{m(r[C](x))}catch(k){E(c[0][3],k)}}function m(C){C.value instanceof se?Promise.resolve(C.value.v).then(y,T):E(c[0][2],C)}function y(C){g("next",C)}function T(C){g("throw",C)}function E(C,x){C(x),c.shift(),c.length&&g(c[0][0],c[0][1])}}function Nt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof yf=="function"?yf(n):n[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(c){i[c]=n[c]&&function(f){return new Promise(function(h,g){f=n[c](f),a(h,g,f.done,f.value)})}}function a(c,f,h,g){Promise.resolve(g).then(function(m){c({value:m,done:h})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kv(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:bf(i)}function bf(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Yv(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Ef(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let r=0;for(;r<i;)if(n[r].role==="user")e.push(n[r]),r++;else{const a=[];let c=!0;for(;r<i&&n[r].role==="model";)a.push(n[r]),c&&!bf(n[r])&&(c=!1),r++;c?e.push(...a):e.pop()}return e}class Qv{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new Xv(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Xv{constructor(e,i,r,a={},c=[]){this.apiClient=e,this.modelsModule=i,this.model=r,this.config=a,this.history=c,this.sendPromise=Promise.resolve(),Yv(c)}async sendMessage(e){var i;await this.sendPromise;const r=Qe(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var c,f,h;const g=await a,m=(f=(c=g.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content,y=g.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];y!=null&&(E=(h=y.slice(T))!==null&&h!==void 0?h:[]);const C=m?[m]:[];this.recordHistory(r,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const r=Qe(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const c=await a;return this.processStreamResponse(c,r)}getHistory(e=!1){const i=e?Ef(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return Pt(this,arguments,function*(){var a,c,f,h,g,m;const y=[];try{for(var T=!0,E=Nt(e),C;C=yield se(E.next()),a=C.done,!a;T=!0){h=C.value,T=!1;const x=h;if(Kv(x)){const k=(m=(g=x.candidates)===null||g===void 0?void 0:g[0])===null||m===void 0?void 0:m.content;k!==void 0&&y.push(k)}yield yield se(x)}}catch(x){c={error:x}}finally{try{!T&&!a&&(f=E.return)&&(yield se(f.call(E)))}finally{if(c)throw c.error}}this.recordHistory(i,y)})}recordHistory(e,i,r){let a=[];i.length>0&&i.every(c=>c.role!==void 0)?a=i:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Ef(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bo extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,bo.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zv(n){const e={},i=l(n,["file"]);return i!=null&&u(e,["file"],i),e}function bv(n){const e={},i=l(n,["sdkHttpResponse"]);return i!=null&&u(e,["sdkHttpResponse"],i),e}function jv(n){const e={},i=l(n,["name"]);return i!=null&&u(e,["_url","file"],Of(i)),e}function ey(n){const e={},i=l(n,["sdkHttpResponse"]);return i!=null&&u(e,["sdkHttpResponse"],i),e}function ty(n){const e={},i=l(n,["name"]);return i!=null&&u(e,["_url","file"],Of(i)),e}function ny(n,e){const i={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const a=l(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),i}function oy(n){const e={},i=l(n,["config"]);return i!=null&&ny(i,e),e}function iy(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=l(n,["files"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["files"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ry extends Ot{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Pn($t.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=oy(e);return c=z("files",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const m=iy(g),y=new ug;return Object.assign(y,m),y})}}async createInternal(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Zv(e);return c=z("upload/v1beta/files",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=bv(g),y=new cg;return Object.assign(y,m),y})}}async get(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ty(e);return c=z("files/{file}",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=jv(e);return c=z("files/{file}",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const m=ey(g),y=new dg;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gr(n){const e={},i=l(n,["data"]);if(i!=null&&u(e,["data"],i),l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function sy(n){const e={},i=l(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>Sy(c))),u(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&u(e,["role"],r),e}function ly(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(n,["fileUri"]);i!=null&&u(e,["fileUri"],i);const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function ay(n){const e={},i=l(n,["id"]);i!=null&&u(e,["id"],i);const r=l(n,["args"]);r!=null&&u(e,["args"],r);const a=l(n,["name"]);if(a!=null&&u(e,["name"],a),l(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uy(n){const e={},i=l(n,["description"]);i!=null&&u(e,["description"],i);const r=l(n,["name"]);r!=null&&u(e,["name"],r);const a=l(n,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(n,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const f=l(n,["response"]);f!=null&&u(e,["response"],f);const h=l(n,["responseJsonSchema"]);if(h!=null&&u(e,["responseJsonSchema"],h),l(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function cy(n){const e={},i=l(n,["modelSelectionConfig"]);i!=null&&u(e,["modelConfig"],i);const r=l(n,["responseJsonSchema"]);r!=null&&u(e,["responseJsonSchema"],r);const a=l(n,["audioTimestamp"]);a!=null&&u(e,["audioTimestamp"],a);const c=l(n,["candidateCount"]);c!=null&&u(e,["candidateCount"],c);const f=l(n,["enableAffectiveDialog"]);f!=null&&u(e,["enableAffectiveDialog"],f);const h=l(n,["frequencyPenalty"]);h!=null&&u(e,["frequencyPenalty"],h);const g=l(n,["logprobs"]);g!=null&&u(e,["logprobs"],g);const m=l(n,["maxOutputTokens"]);m!=null&&u(e,["maxOutputTokens"],m);const y=l(n,["mediaResolution"]);y!=null&&u(e,["mediaResolution"],y);const T=l(n,["presencePenalty"]);T!=null&&u(e,["presencePenalty"],T);const E=l(n,["responseLogprobs"]);E!=null&&u(e,["responseLogprobs"],E);const C=l(n,["responseMimeType"]);C!=null&&u(e,["responseMimeType"],C);const x=l(n,["responseModalities"]);x!=null&&u(e,["responseModalities"],x);const k=l(n,["responseSchema"]);k!=null&&u(e,["responseSchema"],k);const P=l(n,["routingConfig"]);P!=null&&u(e,["routingConfig"],P);const F=l(n,["seed"]);F!=null&&u(e,["seed"],F);const q=l(n,["speechConfig"]);q!=null&&u(e,["speechConfig"],q);const H=l(n,["stopSequences"]);H!=null&&u(e,["stopSequences"],H);const J=l(n,["temperature"]);J!=null&&u(e,["temperature"],J);const Z=l(n,["thinkingConfig"]);Z!=null&&u(e,["thinkingConfig"],Z);const ee=l(n,["topK"]);ee!=null&&u(e,["topK"],ee);const b=l(n,["topP"]);if(b!=null&&u(e,["topP"],b),l(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function dy(n){const e={};if(l(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=l(n,["enableWidget"]);return i!=null&&u(e,["enableWidget"],i),e}function fy(n){const e={};if(l(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=l(n,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],i),e}function py(n,e){const i={},r=l(n,["generationConfig"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig"],r);const a=l(n,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(n,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const f=l(n,["topP"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","topP"],f);const h=l(n,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const g=l(n,["maxOutputTokens"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","maxOutputTokens"],g);const m=l(n,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(n,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const T=l(n,["speechConfig"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","speechConfig"],Zl(T));const E=l(n,["thinkingConfig"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","thinkingConfig"],E);const C=l(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],C);const x=l(n,["systemInstruction"]);e!==void 0&&x!=null&&u(e,["setup","systemInstruction"],sy(Qe(x)));const k=l(n,["tools"]);if(e!==void 0&&k!=null){let ee=so(k);Array.isArray(ee)&&(ee=ee.map(b=>Iy(ro(b)))),u(e,["setup","tools"],ee)}const P=l(n,["sessionResumption"]);e!==void 0&&P!=null&&u(e,["setup","sessionResumption"],Cy(P));const F=l(n,["inputAudioTranscription"]);e!==void 0&&F!=null&&u(e,["setup","inputAudioTranscription"],F);const q=l(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&u(e,["setup","outputAudioTranscription"],q);const H=l(n,["realtimeInputConfig"]);e!==void 0&&H!=null&&u(e,["setup","realtimeInputConfig"],H);const J=l(n,["contextWindowCompression"]);e!==void 0&&J!=null&&u(e,["setup","contextWindowCompression"],J);const Z=l(n,["proactivity"]);if(e!==void 0&&Z!=null&&u(e,["setup","proactivity"],Z),l(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function hy(n,e){const i={},r=l(n,["generationConfig"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig"],cy(r));const a=l(n,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(n,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const f=l(n,["topP"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","topP"],f);const h=l(n,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const g=l(n,["maxOutputTokens"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","maxOutputTokens"],g);const m=l(n,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(n,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const T=l(n,["speechConfig"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","speechConfig"],Zl(T));const E=l(n,["thinkingConfig"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","thinkingConfig"],E);const C=l(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],C);const x=l(n,["systemInstruction"]);e!==void 0&&x!=null&&u(e,["setup","systemInstruction"],Qe(x));const k=l(n,["tools"]);if(e!==void 0&&k!=null){let b=so(k);Array.isArray(b)&&(b=b.map(fe=>wy(ro(fe)))),u(e,["setup","tools"],b)}const P=l(n,["sessionResumption"]);e!==void 0&&P!=null&&u(e,["setup","sessionResumption"],P);const F=l(n,["inputAudioTranscription"]);e!==void 0&&F!=null&&u(e,["setup","inputAudioTranscription"],F);const q=l(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&u(e,["setup","outputAudioTranscription"],q);const H=l(n,["realtimeInputConfig"]);e!==void 0&&H!=null&&u(e,["setup","realtimeInputConfig"],H);const J=l(n,["contextWindowCompression"]);e!==void 0&&J!=null&&u(e,["setup","contextWindowCompression"],J);const Z=l(n,["proactivity"]);e!==void 0&&Z!=null&&u(e,["setup","proactivity"],Z);const ee=l(n,["explicitVadSignal"]);return e!==void 0&&ee!=null&&u(e,["setup","explicitVadSignal"],ee),i}function my(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["setup","model"],Ee(n,r));const a=l(e,["config"]);return a!=null&&u(i,["config"],py(a,i)),i}function gy(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["setup","model"],Ee(n,r));const a=l(e,["config"]);return a!=null&&u(i,["config"],hy(a,i)),i}function vy(n){const e={},i=l(n,["musicGenerationConfig"]);return i!=null&&u(e,["musicGenerationConfig"],i),e}function yy(n){const e={},i=l(n,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),u(e,["weightedPrompts"],r)}return e}function Ey(n){const e={},i=l(n,["media"]);if(i!=null){let m=Bf(i);Array.isArray(m)&&(m=m.map(y=>gr(y))),u(e,["mediaChunks"],m)}const r=l(n,["audio"]);r!=null&&u(e,["audio"],gr(zf(r)));const a=l(n,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const c=l(n,["video"]);c!=null&&u(e,["video"],gr(qf(c)));const f=l(n,["text"]);f!=null&&u(e,["text"],f);const h=l(n,["activityStart"]);h!=null&&u(e,["activityStart"],h);const g=l(n,["activityEnd"]);return g!=null&&u(e,["activityEnd"],g),e}function Ty(n){const e={},i=l(n,["media"]);if(i!=null){let m=Bf(i);Array.isArray(m)&&(m=m.map(y=>y)),u(e,["mediaChunks"],m)}const r=l(n,["audio"]);r!=null&&u(e,["audio"],zf(r));const a=l(n,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const c=l(n,["video"]);c!=null&&u(e,["video"],qf(c));const f=l(n,["text"]);f!=null&&u(e,["text"],f);const h=l(n,["activityStart"]);h!=null&&u(e,["activityStart"],h);const g=l(n,["activityEnd"]);return g!=null&&u(e,["activityEnd"],g),e}function _y(n){const e={},i=l(n,["setupComplete"]);i!=null&&u(e,["setupComplete"],i);const r=l(n,["serverContent"]);r!=null&&u(e,["serverContent"],r);const a=l(n,["toolCall"]);a!=null&&u(e,["toolCall"],a);const c=l(n,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],c);const f=l(n,["usageMetadata"]);f!=null&&u(e,["usageMetadata"],Ay(f));const h=l(n,["goAway"]);h!=null&&u(e,["goAway"],h);const g=l(n,["sessionResumptionUpdate"]);g!=null&&u(e,["sessionResumptionUpdate"],g);const m=l(n,["voiceActivityDetectionSignal"]);m!=null&&u(e,["voiceActivityDetectionSignal"],m);const y=l(n,["voiceActivity"]);return y!=null&&u(e,["voiceActivity"],Ry(y)),e}function Sy(n){const e={},i=l(n,["mediaResolution"]);i!=null&&u(e,["mediaResolution"],i);const r=l(n,["codeExecutionResult"]);r!=null&&u(e,["codeExecutionResult"],r);const a=l(n,["executableCode"]);a!=null&&u(e,["executableCode"],a);const c=l(n,["fileData"]);c!=null&&u(e,["fileData"],ly(c));const f=l(n,["functionCall"]);f!=null&&u(e,["functionCall"],ay(f));const h=l(n,["functionResponse"]);h!=null&&u(e,["functionResponse"],h);const g=l(n,["inlineData"]);g!=null&&u(e,["inlineData"],gr(g));const m=l(n,["text"]);m!=null&&u(e,["text"],m);const y=l(n,["thought"]);y!=null&&u(e,["thought"],y);const T=l(n,["thoughtSignature"]);T!=null&&u(e,["thoughtSignature"],T);const E=l(n,["videoMetadata"]);return E!=null&&u(e,["videoMetadata"],E),e}function Cy(n){const e={},i=l(n,["handle"]);if(i!=null&&u(e,["handle"],i),l(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Iy(n){const e={};if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(n,["computerUse"]);i!=null&&u(e,["computerUse"],i);const r=l(n,["fileSearch"]);r!=null&&u(e,["fileSearch"],r);const a=l(n,["codeExecution"]);if(a!=null&&u(e,["codeExecution"],a),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=l(n,["functionDeclarations"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(T=>T)),u(e,["functionDeclarations"],y)}const f=l(n,["googleMaps"]);f!=null&&u(e,["googleMaps"],dy(f));const h=l(n,["googleSearch"]);h!=null&&u(e,["googleSearch"],fy(h));const g=l(n,["googleSearchRetrieval"]);g!=null&&u(e,["googleSearchRetrieval"],g);const m=l(n,["urlContext"]);return m!=null&&u(e,["urlContext"],m),e}function wy(n){const e={},i=l(n,["retrieval"]);i!=null&&u(e,["retrieval"],i);const r=l(n,["computerUse"]);if(r!=null&&u(e,["computerUse"],r),l(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=l(n,["codeExecution"]);a!=null&&u(e,["codeExecution"],a);const c=l(n,["enterpriseWebSearch"]);c!=null&&u(e,["enterpriseWebSearch"],c);const f=l(n,["functionDeclarations"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(E=>uy(E))),u(e,["functionDeclarations"],T)}const h=l(n,["googleMaps"]);h!=null&&u(e,["googleMaps"],h);const g=l(n,["googleSearch"]);g!=null&&u(e,["googleSearch"],g);const m=l(n,["googleSearchRetrieval"]);m!=null&&u(e,["googleSearchRetrieval"],m);const y=l(n,["urlContext"]);return y!=null&&u(e,["urlContext"],y),e}function Ay(n){const e={},i=l(n,["promptTokenCount"]);i!=null&&u(e,["promptTokenCount"],i);const r=l(n,["cachedContentTokenCount"]);r!=null&&u(e,["cachedContentTokenCount"],r);const a=l(n,["candidatesTokenCount"]);a!=null&&u(e,["responseTokenCount"],a);const c=l(n,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const f=l(n,["thoughtsTokenCount"]);f!=null&&u(e,["thoughtsTokenCount"],f);const h=l(n,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const g=l(n,["promptTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(x=>x)),u(e,["promptTokensDetails"],C)}const m=l(n,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(x=>x)),u(e,["cacheTokensDetails"],C)}const y=l(n,["candidatesTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(x=>x)),u(e,["responseTokensDetails"],C)}const T=l(n,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(x=>x)),u(e,["toolUsePromptTokensDetails"],C)}const E=l(n,["trafficType"]);return E!=null&&u(e,["trafficType"],E),e}function Ry(n){const e={},i=l(n,["type"]);return i!=null&&u(e,["voiceActivityType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Py(n){const e={},i=l(n,["data"]);if(i!=null&&u(e,["data"],i),l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function Ny(n){const e={},i=l(n,["content"]);i!=null&&u(e,["content"],i);const r=l(n,["citationMetadata"]);r!=null&&u(e,["citationMetadata"],My(r));const a=l(n,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const c=l(n,["finishReason"]);c!=null&&u(e,["finishReason"],c);const f=l(n,["avgLogprobs"]);f!=null&&u(e,["avgLogprobs"],f);const h=l(n,["groundingMetadata"]);h!=null&&u(e,["groundingMetadata"],h);const g=l(n,["index"]);g!=null&&u(e,["index"],g);const m=l(n,["logprobsResult"]);m!=null&&u(e,["logprobsResult"],m);const y=l(n,["safetyRatings"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(C=>C)),u(e,["safetyRatings"],E)}const T=l(n,["urlContextMetadata"]);return T!=null&&u(e,["urlContextMetadata"],T),e}function My(n){const e={},i=l(n,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),u(e,["citations"],r)}return e}function xy(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["contents"]);if(a!=null){let c=Et(a);Array.isArray(c)&&(c=c.map(f=>f)),u(i,["contents"],c)}return i}function ky(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["tokensInfo"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),u(e,["tokensInfo"],a)}return e}function Dy(n){const e={},i=l(n,["values"]);i!=null&&u(e,["values"],i);const r=l(n,["statistics"]);return r!=null&&u(e,["statistics"],Ly(r)),e}function Ly(n){const e={},i=l(n,["truncated"]);i!=null&&u(e,["truncated"],i);const r=l(n,["token_count"]);return r!=null&&u(e,["tokenCount"],r),e}function Cr(n){const e={},i=l(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>J0(c))),u(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&u(e,["role"],r),e}function Uy(n){const e={},i=l(n,["controlType"]);i!=null&&u(e,["controlType"],i);const r=l(n,["enableControlImageComputation"]);return r!=null&&u(e,["computeControl"],r),e}function Fy(n){const e={};if(l(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Vy(n,e){const i={},r=l(n,["systemInstruction"]);e!==void 0&&r!=null&&u(e,["systemInstruction"],Qe(r));const a=l(n,["tools"]);if(e!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>np(h))),u(e,["tools"],f)}const c=l(n,["generationConfig"]);return e!==void 0&&c!=null&&u(e,["generationConfig"],P0(c)),i}function Gy(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["contents"]);if(a!=null){let f=Et(a);Array.isArray(f)&&(f=f.map(h=>Cr(h))),u(i,["contents"],f)}const c=l(e,["config"]);return c!=null&&Fy(c),i}function Hy(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["contents"]);if(a!=null){let f=Et(a);Array.isArray(f)&&(f=f.map(h=>h)),u(i,["contents"],f)}const c=l(e,["config"]);return c!=null&&Vy(c,i),i}function By(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["totalTokens"]);r!=null&&u(e,["totalTokens"],r);const a=l(n,["cachedContentTokenCount"]);return a!=null&&u(e,["cachedContentTokenCount"],a),e}function qy(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["totalTokens"]);return r!=null&&u(e,["totalTokens"],r),e}function zy(n,e){const i={},r=l(e,["model"]);return r!=null&&u(i,["_url","name"],Ee(n,r)),i}function Jy(n,e){const i={},r=l(e,["model"]);return r!=null&&u(i,["_url","name"],Ee(n,r)),i}function $y(n){const e={},i=l(n,["sdkHttpResponse"]);return i!=null&&u(e,["sdkHttpResponse"],i),e}function Oy(n){const e={},i=l(n,["sdkHttpResponse"]);return i!=null&&u(e,["sdkHttpResponse"],i),e}function Wy(n,e){const i={},r=l(n,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);const a=l(n,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const c=l(n,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const f=l(n,["aspectRatio"]);e!==void 0&&f!=null&&u(e,["parameters","aspectRatio"],f);const h=l(n,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const g=l(n,["seed"]);e!==void 0&&g!=null&&u(e,["parameters","seed"],g);const m=l(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(n,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const T=l(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&u(e,["parameters","includeSafetyAttributes"],T);const E=l(n,["includeRaiReason"]);e!==void 0&&E!=null&&u(e,["parameters","includeRaiReason"],E);const C=l(n,["language"]);e!==void 0&&C!=null&&u(e,["parameters","language"],C);const x=l(n,["outputMimeType"]);e!==void 0&&x!=null&&u(e,["parameters","outputOptions","mimeType"],x);const k=l(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&u(e,["parameters","outputOptions","compressionQuality"],k);const P=l(n,["addWatermark"]);e!==void 0&&P!=null&&u(e,["parameters","addWatermark"],P);const F=l(n,["labels"]);e!==void 0&&F!=null&&u(e,["labels"],F);const q=l(n,["editMode"]);e!==void 0&&q!=null&&u(e,["parameters","editMode"],q);const H=l(n,["baseSteps"]);return e!==void 0&&H!=null&&u(e,["parameters","editConfig","baseSteps"],H),i}function Ky(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["prompt"]);a!=null&&u(i,["instances[0]","prompt"],a);const c=l(e,["referenceImages"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>Q0(g))),u(i,["instances[0]","referenceImages"],h)}const f=l(e,["config"]);return f!=null&&Wy(f,i),i}function Yy(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>Ir(c))),u(e,["generatedImages"],a)}return e}function Qy(n,e){const i={},r=l(n,["taskType"]);e!==void 0&&r!=null&&u(e,["requests[]","taskType"],r);const a=l(n,["title"]);e!==void 0&&a!=null&&u(e,["requests[]","title"],a);const c=l(n,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),l(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Xy(n,e){const i={},r=l(n,["taskType"]);e!==void 0&&r!=null&&u(e,["instances[]","task_type"],r);const a=l(n,["title"]);e!==void 0&&a!=null&&u(e,["instances[]","title"],a);const c=l(n,["outputDimensionality"]);e!==void 0&&c!=null&&u(e,["parameters","outputDimensionality"],c);const f=l(n,["mimeType"]);e!==void 0&&f!=null&&u(e,["instances[]","mimeType"],f);const h=l(n,["autoTruncate"]);return e!==void 0&&h!=null&&u(e,["parameters","autoTruncate"],h),i}function Zy(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["contents"]);if(a!=null){let h=Yl(n,a);Array.isArray(h)&&(h=h.map(g=>g)),u(i,["requests[]","content"],h)}const c=l(e,["config"]);c!=null&&Qy(c,i);const f=l(e,["model"]);return f!==void 0&&u(i,["requests[]","model"],Ee(n,f)),i}function by(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["contents"]);if(a!=null){let f=Yl(n,a);Array.isArray(f)&&(f=f.map(h=>h)),u(i,["instances[]","content"],f)}const c=l(e,["config"]);return c!=null&&Xy(c,i),i}function jy(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["embeddings"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["embeddings"],c)}const a=l(n,["metadata"]);return a!=null&&u(e,["metadata"],a),e}function e0(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["predictions[]","embeddings"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Dy(f))),u(e,["embeddings"],c)}const a=l(n,["metadata"]);return a!=null&&u(e,["metadata"],a),e}function t0(n){const e={},i=l(n,["endpoint"]);i!=null&&u(e,["name"],i);const r=l(n,["deployedModelId"]);return r!=null&&u(e,["deployedModelId"],r),e}function n0(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(n,["fileUri"]);i!=null&&u(e,["fileUri"],i);const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function o0(n){const e={},i=l(n,["id"]);i!=null&&u(e,["id"],i);const r=l(n,["args"]);r!=null&&u(e,["args"],r);const a=l(n,["name"]);if(a!=null&&u(e,["name"],a),l(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function i0(n){const e={},i=l(n,["allowedFunctionNames"]);i!=null&&u(e,["allowedFunctionNames"],i);const r=l(n,["mode"]);if(r!=null&&u(e,["mode"],r),l(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function r0(n){const e={},i=l(n,["description"]);i!=null&&u(e,["description"],i);const r=l(n,["name"]);r!=null&&u(e,["name"],r);const a=l(n,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(n,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const f=l(n,["response"]);f!=null&&u(e,["response"],f);const h=l(n,["responseJsonSchema"]);if(h!=null&&u(e,["responseJsonSchema"],h),l(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function s0(n,e,i){const r={},a=l(e,["systemInstruction"]);i!==void 0&&a!=null&&u(i,["systemInstruction"],Cr(Qe(a)));const c=l(e,["temperature"]);c!=null&&u(r,["temperature"],c);const f=l(e,["topP"]);f!=null&&u(r,["topP"],f);const h=l(e,["topK"]);h!=null&&u(r,["topK"],h);const g=l(e,["candidateCount"]);g!=null&&u(r,["candidateCount"],g);const m=l(e,["maxOutputTokens"]);m!=null&&u(r,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(r,["stopSequences"],y);const T=l(e,["responseLogprobs"]);T!=null&&u(r,["responseLogprobs"],T);const E=l(e,["logprobs"]);E!=null&&u(r,["logprobs"],E);const C=l(e,["presencePenalty"]);C!=null&&u(r,["presencePenalty"],C);const x=l(e,["frequencyPenalty"]);x!=null&&u(r,["frequencyPenalty"],x);const k=l(e,["seed"]);k!=null&&u(r,["seed"],k);const P=l(e,["responseMimeType"]);P!=null&&u(r,["responseMimeType"],P);const F=l(e,["responseSchema"]);F!=null&&u(r,["responseSchema"],Ql(F));const q=l(e,["responseJsonSchema"]);if(q!=null&&u(r,["responseJsonSchema"],q),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=l(e,["safetySettings"]);if(i!==void 0&&H!=null){let oe=H;Array.isArray(oe)&&(oe=oe.map(pe=>X0(pe))),u(i,["safetySettings"],oe)}const J=l(e,["tools"]);if(i!==void 0&&J!=null){let oe=so(J);Array.isArray(oe)&&(oe=oe.map(pe=>oE(ro(pe)))),u(i,["tools"],oe)}const Z=l(e,["toolConfig"]);if(i!==void 0&&Z!=null&&u(i,["toolConfig"],nE(Z)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=l(e,["cachedContent"]);i!==void 0&&ee!=null&&u(i,["cachedContent"],Wt(n,ee));const b=l(e,["responseModalities"]);b!=null&&u(r,["responseModalities"],b);const fe=l(e,["mediaResolution"]);fe!=null&&u(r,["mediaResolution"],fe);const Y=l(e,["speechConfig"]);if(Y!=null&&u(r,["speechConfig"],Xl(Y)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=l(e,["thinkingConfig"]);le!=null&&u(r,["thinkingConfig"],le);const Te=l(e,["imageConfig"]);Te!=null&&u(r,["imageConfig"],D0(Te));const j=l(e,["enableEnhancedCivicAnswers"]);if(j!=null&&u(r,["enableEnhancedCivicAnswers"],j),l(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function l0(n,e,i){const r={},a=l(e,["systemInstruction"]);i!==void 0&&a!=null&&u(i,["systemInstruction"],Qe(a));const c=l(e,["temperature"]);c!=null&&u(r,["temperature"],c);const f=l(e,["topP"]);f!=null&&u(r,["topP"],f);const h=l(e,["topK"]);h!=null&&u(r,["topK"],h);const g=l(e,["candidateCount"]);g!=null&&u(r,["candidateCount"],g);const m=l(e,["maxOutputTokens"]);m!=null&&u(r,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(r,["stopSequences"],y);const T=l(e,["responseLogprobs"]);T!=null&&u(r,["responseLogprobs"],T);const E=l(e,["logprobs"]);E!=null&&u(r,["logprobs"],E);const C=l(e,["presencePenalty"]);C!=null&&u(r,["presencePenalty"],C);const x=l(e,["frequencyPenalty"]);x!=null&&u(r,["frequencyPenalty"],x);const k=l(e,["seed"]);k!=null&&u(r,["seed"],k);const P=l(e,["responseMimeType"]);P!=null&&u(r,["responseMimeType"],P);const F=l(e,["responseSchema"]);F!=null&&u(r,["responseSchema"],Ql(F));const q=l(e,["responseJsonSchema"]);q!=null&&u(r,["responseJsonSchema"],q);const H=l(e,["routingConfig"]);H!=null&&u(r,["routingConfig"],H);const J=l(e,["modelSelectionConfig"]);J!=null&&u(r,["modelConfig"],J);const Z=l(e,["safetySettings"]);if(i!==void 0&&Z!=null){let he=Z;Array.isArray(he)&&(he=he.map(B=>B)),u(i,["safetySettings"],he)}const ee=l(e,["tools"]);if(i!==void 0&&ee!=null){let he=so(ee);Array.isArray(he)&&(he=he.map(B=>np(ro(B)))),u(i,["tools"],he)}const b=l(e,["toolConfig"]);i!==void 0&&b!=null&&u(i,["toolConfig"],b);const fe=l(e,["labels"]);i!==void 0&&fe!=null&&u(i,["labels"],fe);const Y=l(e,["cachedContent"]);i!==void 0&&Y!=null&&u(i,["cachedContent"],Wt(n,Y));const le=l(e,["responseModalities"]);le!=null&&u(r,["responseModalities"],le);const Te=l(e,["mediaResolution"]);Te!=null&&u(r,["mediaResolution"],Te);const j=l(e,["speechConfig"]);j!=null&&u(r,["speechConfig"],Xl(j));const oe=l(e,["audioTimestamp"]);oe!=null&&u(r,["audioTimestamp"],oe);const pe=l(e,["thinkingConfig"]);pe!=null&&u(r,["thinkingConfig"],pe);const xe=l(e,["imageConfig"]);if(xe!=null&&u(r,["imageConfig"],L0(xe)),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Ue=l(e,["modelArmorConfig"]);return i!==void 0&&Ue!=null&&u(i,["modelArmorConfig"],Ue),r}function Tf(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["contents"]);if(a!=null){let f=Et(a);Array.isArray(f)&&(f=f.map(h=>Cr(h))),u(i,["contents"],f)}const c=l(e,["config"]);return c!=null&&u(i,["generationConfig"],s0(n,c,i)),i}function _f(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["contents"]);if(a!=null){let f=Et(a);Array.isArray(f)&&(f=f.map(h=>h)),u(i,["contents"],f)}const c=l(e,["config"]);return c!=null&&u(i,["generationConfig"],l0(n,c,i)),i}function Sf(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(m=>Ny(m))),u(e,["candidates"],g)}const a=l(n,["modelVersion"]);a!=null&&u(e,["modelVersion"],a);const c=l(n,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const f=l(n,["responseId"]);f!=null&&u(e,["responseId"],f);const h=l(n,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function Cf(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["candidates"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(y=>y)),u(e,["candidates"],m)}const a=l(n,["createTime"]);a!=null&&u(e,["createTime"],a);const c=l(n,["modelVersion"]);c!=null&&u(e,["modelVersion"],c);const f=l(n,["promptFeedback"]);f!=null&&u(e,["promptFeedback"],f);const h=l(n,["responseId"]);h!=null&&u(e,["responseId"],h);const g=l(n,["usageMetadata"]);return g!=null&&u(e,["usageMetadata"],g),e}function a0(n,e){const i={};if(l(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=l(n,["numberOfImages"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);const a=l(n,["aspectRatio"]);e!==void 0&&a!=null&&u(e,["parameters","aspectRatio"],a);const c=l(n,["guidanceScale"]);if(e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c),l(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=l(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);const h=l(n,["personGeneration"]);e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h);const g=l(n,["includeSafetyAttributes"]);e!==void 0&&g!=null&&u(e,["parameters","includeSafetyAttributes"],g);const m=l(n,["includeRaiReason"]);e!==void 0&&m!=null&&u(e,["parameters","includeRaiReason"],m);const y=l(n,["language"]);e!==void 0&&y!=null&&u(e,["parameters","language"],y);const T=l(n,["outputMimeType"]);e!==void 0&&T!=null&&u(e,["parameters","outputOptions","mimeType"],T);const E=l(n,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E),l(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=l(n,["imageSize"]);if(e!==void 0&&C!=null&&u(e,["parameters","sampleImageSize"],C),l(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function u0(n,e){const i={},r=l(n,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);const a=l(n,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const c=l(n,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const f=l(n,["aspectRatio"]);e!==void 0&&f!=null&&u(e,["parameters","aspectRatio"],f);const h=l(n,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const g=l(n,["seed"]);e!==void 0&&g!=null&&u(e,["parameters","seed"],g);const m=l(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(n,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const T=l(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&u(e,["parameters","includeSafetyAttributes"],T);const E=l(n,["includeRaiReason"]);e!==void 0&&E!=null&&u(e,["parameters","includeRaiReason"],E);const C=l(n,["language"]);e!==void 0&&C!=null&&u(e,["parameters","language"],C);const x=l(n,["outputMimeType"]);e!==void 0&&x!=null&&u(e,["parameters","outputOptions","mimeType"],x);const k=l(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&u(e,["parameters","outputOptions","compressionQuality"],k);const P=l(n,["addWatermark"]);e!==void 0&&P!=null&&u(e,["parameters","addWatermark"],P);const F=l(n,["labels"]);e!==void 0&&F!=null&&u(e,["labels"],F);const q=l(n,["imageSize"]);e!==void 0&&q!=null&&u(e,["parameters","sampleImageSize"],q);const H=l(n,["enhancePrompt"]);return e!==void 0&&H!=null&&u(e,["parameters","enhancePrompt"],H),i}function c0(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["prompt"]);a!=null&&u(i,["instances[0]","prompt"],a);const c=l(e,["config"]);return c!=null&&a0(c,i),i}function d0(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["prompt"]);a!=null&&u(i,["instances[0]","prompt"],a);const c=l(e,["config"]);return c!=null&&u0(c,i),i}function f0(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>I0(f))),u(e,["generatedImages"],c)}const a=l(n,["positivePromptSafetyAttributes"]);return a!=null&&u(e,["positivePromptSafetyAttributes"],ep(a)),e}function p0(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Ir(f))),u(e,["generatedImages"],c)}const a=l(n,["positivePromptSafetyAttributes"]);return a!=null&&u(e,["positivePromptSafetyAttributes"],tp(a)),e}function h0(n,e){const i={},r=l(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r),l(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=l(n,["durationSeconds"]);if(e!==void 0&&a!=null&&u(e,["parameters","durationSeconds"],a),l(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=l(n,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const f=l(n,["resolution"]);e!==void 0&&f!=null&&u(e,["parameters","resolution"],f);const h=l(n,["personGeneration"]);if(e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h),l(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=l(n,["negativePrompt"]);e!==void 0&&g!=null&&u(e,["parameters","negativePrompt"],g);const m=l(n,["enhancePrompt"]);if(e!==void 0&&m!=null&&u(e,["parameters","enhancePrompt"],m),l(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=l(n,["lastFrame"]);e!==void 0&&y!=null&&u(e,["instances[0]","lastFrame"],wr(y));const T=l(n,["referenceImages"]);if(e!==void 0&&T!=null){let E=T;Array.isArray(E)&&(E=E.map(C=>gE(C))),u(e,["instances[0]","referenceImages"],E)}if(l(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function m0(n,e){const i={},r=l(n,["numberOfVideos"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);const a=l(n,["outputGcsUri"]);e!==void 0&&a!=null&&u(e,["parameters","storageUri"],a);const c=l(n,["fps"]);e!==void 0&&c!=null&&u(e,["parameters","fps"],c);const f=l(n,["durationSeconds"]);e!==void 0&&f!=null&&u(e,["parameters","durationSeconds"],f);const h=l(n,["seed"]);e!==void 0&&h!=null&&u(e,["parameters","seed"],h);const g=l(n,["aspectRatio"]);e!==void 0&&g!=null&&u(e,["parameters","aspectRatio"],g);const m=l(n,["resolution"]);e!==void 0&&m!=null&&u(e,["parameters","resolution"],m);const y=l(n,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const T=l(n,["pubsubTopic"]);e!==void 0&&T!=null&&u(e,["parameters","pubsubTopic"],T);const E=l(n,["negativePrompt"]);e!==void 0&&E!=null&&u(e,["parameters","negativePrompt"],E);const C=l(n,["enhancePrompt"]);e!==void 0&&C!=null&&u(e,["parameters","enhancePrompt"],C);const x=l(n,["generateAudio"]);e!==void 0&&x!=null&&u(e,["parameters","generateAudio"],x);const k=l(n,["lastFrame"]);e!==void 0&&k!=null&&u(e,["instances[0]","lastFrame"],Mt(k));const P=l(n,["referenceImages"]);if(e!==void 0&&P!=null){let H=P;Array.isArray(H)&&(H=H.map(J=>vE(J))),u(e,["instances[0]","referenceImages"],H)}const F=l(n,["mask"]);e!==void 0&&F!=null&&u(e,["instances[0]","mask"],mE(F));const q=l(n,["compressionQuality"]);return e!==void 0&&q!=null&&u(e,["parameters","compressionQuality"],q),i}function g0(n){const e={},i=l(n,["name"]);i!=null&&u(e,["name"],i);const r=l(n,["metadata"]);r!=null&&u(e,["metadata"],r);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["response","generateVideoResponse"]);return f!=null&&u(e,["response"],T0(f)),e}function v0(n){const e={},i=l(n,["name"]);i!=null&&u(e,["name"],i);const r=l(n,["metadata"]);r!=null&&u(e,["metadata"],r);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["response"]);return f!=null&&u(e,["response"],_0(f)),e}function y0(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["prompt"]);a!=null&&u(i,["instances[0]","prompt"],a);const c=l(e,["image"]);c!=null&&u(i,["instances[0]","image"],wr(c));const f=l(e,["video"]);f!=null&&u(i,["instances[0]","video"],op(f));const h=l(e,["source"]);h!=null&&S0(h,i);const g=l(e,["config"]);return g!=null&&h0(g,i),i}function E0(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["prompt"]);a!=null&&u(i,["instances[0]","prompt"],a);const c=l(e,["image"]);c!=null&&u(i,["instances[0]","image"],Mt(c));const f=l(e,["video"]);f!=null&&u(i,["instances[0]","video"],ip(f));const h=l(e,["source"]);h!=null&&C0(h,i);const g=l(e,["config"]);return g!=null&&m0(g,i),i}function T0(n){const e={},i=l(n,["generatedSamples"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>A0(f))),u(e,["generatedVideos"],c)}const r=l(n,["raiMediaFilteredCount"]);r!=null&&u(e,["raiMediaFilteredCount"],r);const a=l(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function _0(n){const e={},i=l(n,["videos"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>R0(f))),u(e,["generatedVideos"],c)}const r=l(n,["raiMediaFilteredCount"]);r!=null&&u(e,["raiMediaFilteredCount"],r);const a=l(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function S0(n,e){const i={},r=l(n,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);const a=l(n,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],wr(a));const c=l(n,["video"]);return e!==void 0&&c!=null&&u(e,["instances[0]","video"],op(c)),i}function C0(n,e){const i={},r=l(n,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);const a=l(n,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],Mt(a));const c=l(n,["video"]);return e!==void 0&&c!=null&&u(e,["instances[0]","video"],ip(c)),i}function I0(n){const e={},i=l(n,["_self"]);i!=null&&u(e,["image"],U0(i));const r=l(n,["raiFilteredReason"]);r!=null&&u(e,["raiFilteredReason"],r);const a=l(n,["_self"]);return a!=null&&u(e,["safetyAttributes"],ep(a)),e}function Ir(n){const e={},i=l(n,["_self"]);i!=null&&u(e,["image"],jf(i));const r=l(n,["raiFilteredReason"]);r!=null&&u(e,["raiFilteredReason"],r);const a=l(n,["_self"]);a!=null&&u(e,["safetyAttributes"],tp(a));const c=l(n,["prompt"]);return c!=null&&u(e,["enhancedPrompt"],c),e}function w0(n){const e={},i=l(n,["_self"]);i!=null&&u(e,["mask"],jf(i));const r=l(n,["labels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),u(e,["labels"],a)}return e}function A0(n){const e={},i=l(n,["video"]);return i!=null&&u(e,["video"],pE(i)),e}function R0(n){const e={},i=l(n,["_self"]);return i!=null&&u(e,["video"],hE(i)),e}function P0(n){const e={},i=l(n,["modelSelectionConfig"]);i!=null&&u(e,["modelConfig"],i);const r=l(n,["responseJsonSchema"]);r!=null&&u(e,["responseJsonSchema"],r);const a=l(n,["audioTimestamp"]);a!=null&&u(e,["audioTimestamp"],a);const c=l(n,["candidateCount"]);c!=null&&u(e,["candidateCount"],c);const f=l(n,["enableAffectiveDialog"]);f!=null&&u(e,["enableAffectiveDialog"],f);const h=l(n,["frequencyPenalty"]);h!=null&&u(e,["frequencyPenalty"],h);const g=l(n,["logprobs"]);g!=null&&u(e,["logprobs"],g);const m=l(n,["maxOutputTokens"]);m!=null&&u(e,["maxOutputTokens"],m);const y=l(n,["mediaResolution"]);y!=null&&u(e,["mediaResolution"],y);const T=l(n,["presencePenalty"]);T!=null&&u(e,["presencePenalty"],T);const E=l(n,["responseLogprobs"]);E!=null&&u(e,["responseLogprobs"],E);const C=l(n,["responseMimeType"]);C!=null&&u(e,["responseMimeType"],C);const x=l(n,["responseModalities"]);x!=null&&u(e,["responseModalities"],x);const k=l(n,["responseSchema"]);k!=null&&u(e,["responseSchema"],k);const P=l(n,["routingConfig"]);P!=null&&u(e,["routingConfig"],P);const F=l(n,["seed"]);F!=null&&u(e,["seed"],F);const q=l(n,["speechConfig"]);q!=null&&u(e,["speechConfig"],q);const H=l(n,["stopSequences"]);H!=null&&u(e,["stopSequences"],H);const J=l(n,["temperature"]);J!=null&&u(e,["temperature"],J);const Z=l(n,["thinkingConfig"]);Z!=null&&u(e,["thinkingConfig"],Z);const ee=l(n,["topK"]);ee!=null&&u(e,["topK"],ee);const b=l(n,["topP"]);if(b!=null&&u(e,["topP"],b),l(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function N0(n,e){const i={},r=l(e,["model"]);return r!=null&&u(i,["_url","name"],Ee(n,r)),i}function M0(n,e){const i={},r=l(e,["model"]);return r!=null&&u(i,["_url","name"],Ee(n,r)),i}function x0(n){const e={};if(l(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=l(n,["enableWidget"]);return i!=null&&u(e,["enableWidget"],i),e}function k0(n){const e={};if(l(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=l(n,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],i),e}function D0(n){const e={},i=l(n,["aspectRatio"]);i!=null&&u(e,["aspectRatio"],i);const r=l(n,["imageSize"]);if(r!=null&&u(e,["imageSize"],r),l(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(l(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function L0(n){const e={},i=l(n,["aspectRatio"]);i!=null&&u(e,["aspectRatio"],i);const r=l(n,["imageSize"]);r!=null&&u(e,["imageSize"],r);const a=l(n,["personGeneration"]);a!=null&&u(e,["personGeneration"],a);const c=l(n,["outputMimeType"]);c!=null&&u(e,["imageOutputOptions","mimeType"],c);const f=l(n,["outputCompressionQuality"]);return f!=null&&u(e,["imageOutputOptions","compressionQuality"],f),e}function U0(n){const e={},i=l(n,["bytesBase64Encoded"]);i!=null&&u(e,["imageBytes"],pn(i));const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function jf(n){const e={},i=l(n,["gcsUri"]);i!=null&&u(e,["gcsUri"],i);const r=l(n,["bytesBase64Encoded"]);r!=null&&u(e,["imageBytes"],pn(r));const a=l(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function wr(n){const e={};if(l(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=l(n,["imageBytes"]);i!=null&&u(e,["bytesBase64Encoded"],pn(i));const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function Mt(n){const e={},i=l(n,["gcsUri"]);i!=null&&u(e,["gcsUri"],i);const r=l(n,["imageBytes"]);r!=null&&u(e,["bytesBase64Encoded"],pn(r));const a=l(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function F0(n,e,i){const r={},a=l(e,["pageSize"]);i!==void 0&&a!=null&&u(i,["_query","pageSize"],a);const c=l(e,["pageToken"]);i!==void 0&&c!=null&&u(i,["_query","pageToken"],c);const f=l(e,["filter"]);i!==void 0&&f!=null&&u(i,["_query","filter"],f);const h=l(e,["queryBase"]);return i!==void 0&&h!=null&&u(i,["_url","models_url"],Wf(n,h)),r}function V0(n,e,i){const r={},a=l(e,["pageSize"]);i!==void 0&&a!=null&&u(i,["_query","pageSize"],a);const c=l(e,["pageToken"]);i!==void 0&&c!=null&&u(i,["_query","pageToken"],c);const f=l(e,["filter"]);i!==void 0&&f!=null&&u(i,["_query","filter"],f);const h=l(e,["queryBase"]);return i!==void 0&&h!=null&&u(i,["_url","models_url"],Wf(n,h)),r}function G0(n,e){const i={},r=l(e,["config"]);return r!=null&&F0(n,r,i),i}function H0(n,e){const i={},r=l(e,["config"]);return r!=null&&V0(n,r,i),i}function B0(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=l(n,["_self"]);if(a!=null){let c=Kf(a);Array.isArray(c)&&(c=c.map(f=>Ul(f))),u(e,["models"],c)}return e}function q0(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=l(n,["_self"]);if(a!=null){let c=Kf(a);Array.isArray(c)&&(c=c.map(f=>Fl(f))),u(e,["models"],c)}return e}function z0(n){const e={},i=l(n,["maskMode"]);i!=null&&u(e,["maskMode"],i);const r=l(n,["segmentationClasses"]);r!=null&&u(e,["maskClasses"],r);const a=l(n,["maskDilation"]);return a!=null&&u(e,["dilation"],a),e}function Ul(n){const e={},i=l(n,["name"]);i!=null&&u(e,["name"],i);const r=l(n,["displayName"]);r!=null&&u(e,["displayName"],r);const a=l(n,["description"]);a!=null&&u(e,["description"],a);const c=l(n,["version"]);c!=null&&u(e,["version"],c);const f=l(n,["_self"]);f!=null&&u(e,["tunedModelInfo"],iE(f));const h=l(n,["inputTokenLimit"]);h!=null&&u(e,["inputTokenLimit"],h);const g=l(n,["outputTokenLimit"]);g!=null&&u(e,["outputTokenLimit"],g);const m=l(n,["supportedGenerationMethods"]);m!=null&&u(e,["supportedActions"],m);const y=l(n,["temperature"]);y!=null&&u(e,["temperature"],y);const T=l(n,["maxTemperature"]);T!=null&&u(e,["maxTemperature"],T);const E=l(n,["topP"]);E!=null&&u(e,["topP"],E);const C=l(n,["topK"]);C!=null&&u(e,["topK"],C);const x=l(n,["thinking"]);return x!=null&&u(e,["thinking"],x),e}function Fl(n){const e={},i=l(n,["name"]);i!=null&&u(e,["name"],i);const r=l(n,["displayName"]);r!=null&&u(e,["displayName"],r);const a=l(n,["description"]);a!=null&&u(e,["description"],a);const c=l(n,["versionId"]);c!=null&&u(e,["version"],c);const f=l(n,["deployedModels"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(E=>t0(E))),u(e,["endpoints"],T)}const h=l(n,["labels"]);h!=null&&u(e,["labels"],h);const g=l(n,["_self"]);g!=null&&u(e,["tunedModelInfo"],rE(g));const m=l(n,["defaultCheckpointId"]);m!=null&&u(e,["defaultCheckpointId"],m);const y=l(n,["checkpoints"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>E)),u(e,["checkpoints"],T)}return e}function J0(n){const e={},i=l(n,["mediaResolution"]);i!=null&&u(e,["mediaResolution"],i);const r=l(n,["codeExecutionResult"]);r!=null&&u(e,["codeExecutionResult"],r);const a=l(n,["executableCode"]);a!=null&&u(e,["executableCode"],a);const c=l(n,["fileData"]);c!=null&&u(e,["fileData"],n0(c));const f=l(n,["functionCall"]);f!=null&&u(e,["functionCall"],o0(f));const h=l(n,["functionResponse"]);h!=null&&u(e,["functionResponse"],h);const g=l(n,["inlineData"]);g!=null&&u(e,["inlineData"],Py(g));const m=l(n,["text"]);m!=null&&u(e,["text"],m);const y=l(n,["thought"]);y!=null&&u(e,["thought"],y);const T=l(n,["thoughtSignature"]);T!=null&&u(e,["thoughtSignature"],T);const E=l(n,["videoMetadata"]);return E!=null&&u(e,["videoMetadata"],E),e}function $0(n){const e={},i=l(n,["productImage"]);return i!=null&&u(e,["image"],Mt(i)),e}function O0(n,e){const i={},r=l(n,["numberOfImages"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);const a=l(n,["baseSteps"]);e!==void 0&&a!=null&&u(e,["parameters","baseSteps"],a);const c=l(n,["outputGcsUri"]);e!==void 0&&c!=null&&u(e,["parameters","storageUri"],c);const f=l(n,["seed"]);e!==void 0&&f!=null&&u(e,["parameters","seed"],f);const h=l(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&u(e,["parameters","safetySetting"],h);const g=l(n,["personGeneration"]);e!==void 0&&g!=null&&u(e,["parameters","personGeneration"],g);const m=l(n,["addWatermark"]);e!==void 0&&m!=null&&u(e,["parameters","addWatermark"],m);const y=l(n,["outputMimeType"]);e!==void 0&&y!=null&&u(e,["parameters","outputOptions","mimeType"],y);const T=l(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&u(e,["parameters","outputOptions","compressionQuality"],T);const E=l(n,["enhancePrompt"]);e!==void 0&&E!=null&&u(e,["parameters","enhancePrompt"],E);const C=l(n,["labels"]);return e!==void 0&&C!=null&&u(e,["labels"],C),i}function W0(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["source"]);a!=null&&Y0(a,i);const c=l(e,["config"]);return c!=null&&O0(c,i),i}function K0(n){const e={},i=l(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Ir(a))),u(e,["generatedImages"],r)}return e}function Y0(n,e){const i={},r=l(n,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);const a=l(n,["personImage"]);e!==void 0&&a!=null&&u(e,["instances[0]","personImage","image"],Mt(a));const c=l(n,["productImages"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>$0(h))),u(e,["instances[0]","productImages"],f)}return i}function Q0(n){const e={},i=l(n,["referenceImage"]);i!=null&&u(e,["referenceImage"],Mt(i));const r=l(n,["referenceId"]);r!=null&&u(e,["referenceId"],r);const a=l(n,["referenceType"]);a!=null&&u(e,["referenceType"],a);const c=l(n,["maskImageConfig"]);c!=null&&u(e,["maskImageConfig"],z0(c));const f=l(n,["controlImageConfig"]);f!=null&&u(e,["controlImageConfig"],Uy(f));const h=l(n,["styleImageConfig"]);h!=null&&u(e,["styleImageConfig"],h);const g=l(n,["subjectImageConfig"]);return g!=null&&u(e,["subjectImageConfig"],g),e}function ep(n){const e={},i=l(n,["safetyAttributes","categories"]);i!=null&&u(e,["categories"],i);const r=l(n,["safetyAttributes","scores"]);r!=null&&u(e,["scores"],r);const a=l(n,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function tp(n){const e={},i=l(n,["safetyAttributes","categories"]);i!=null&&u(e,["categories"],i);const r=l(n,["safetyAttributes","scores"]);r!=null&&u(e,["scores"],r);const a=l(n,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function X0(n){const e={},i=l(n,["category"]);if(i!=null&&u(e,["category"],i),l(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=l(n,["threshold"]);return r!=null&&u(e,["threshold"],r),e}function Z0(n){const e={},i=l(n,["image"]);return i!=null&&u(e,["image"],Mt(i)),e}function b0(n,e){const i={},r=l(n,["mode"]);e!==void 0&&r!=null&&u(e,["parameters","mode"],r);const a=l(n,["maxPredictions"]);e!==void 0&&a!=null&&u(e,["parameters","maxPredictions"],a);const c=l(n,["confidenceThreshold"]);e!==void 0&&c!=null&&u(e,["parameters","confidenceThreshold"],c);const f=l(n,["maskDilation"]);e!==void 0&&f!=null&&u(e,["parameters","maskDilation"],f);const h=l(n,["binaryColorThreshold"]);e!==void 0&&h!=null&&u(e,["parameters","binaryColorThreshold"],h);const g=l(n,["labels"]);return e!==void 0&&g!=null&&u(e,["labels"],g),i}function j0(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["source"]);a!=null&&tE(a,i);const c=l(e,["config"]);return c!=null&&b0(c,i),i}function eE(n){const e={},i=l(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>w0(a))),u(e,["generatedMasks"],r)}return e}function tE(n,e){const i={},r=l(n,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);const a=l(n,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],Mt(a));const c=l(n,["scribbleImage"]);return e!==void 0&&c!=null&&u(e,["instances[0]","scribble"],Z0(c)),i}function nE(n){const e={},i=l(n,["retrievalConfig"]);i!=null&&u(e,["retrievalConfig"],i);const r=l(n,["functionCallingConfig"]);return r!=null&&u(e,["functionCallingConfig"],i0(r)),e}function oE(n){const e={};if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(n,["computerUse"]);i!=null&&u(e,["computerUse"],i);const r=l(n,["fileSearch"]);r!=null&&u(e,["fileSearch"],r);const a=l(n,["codeExecution"]);if(a!=null&&u(e,["codeExecution"],a),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=l(n,["functionDeclarations"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(T=>T)),u(e,["functionDeclarations"],y)}const f=l(n,["googleMaps"]);f!=null&&u(e,["googleMaps"],x0(f));const h=l(n,["googleSearch"]);h!=null&&u(e,["googleSearch"],k0(h));const g=l(n,["googleSearchRetrieval"]);g!=null&&u(e,["googleSearchRetrieval"],g);const m=l(n,["urlContext"]);return m!=null&&u(e,["urlContext"],m),e}function np(n){const e={},i=l(n,["retrieval"]);i!=null&&u(e,["retrieval"],i);const r=l(n,["computerUse"]);if(r!=null&&u(e,["computerUse"],r),l(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=l(n,["codeExecution"]);a!=null&&u(e,["codeExecution"],a);const c=l(n,["enterpriseWebSearch"]);c!=null&&u(e,["enterpriseWebSearch"],c);const f=l(n,["functionDeclarations"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(E=>r0(E))),u(e,["functionDeclarations"],T)}const h=l(n,["googleMaps"]);h!=null&&u(e,["googleMaps"],h);const g=l(n,["googleSearch"]);g!=null&&u(e,["googleSearch"],g);const m=l(n,["googleSearchRetrieval"]);m!=null&&u(e,["googleSearchRetrieval"],m);const y=l(n,["urlContext"]);return y!=null&&u(e,["urlContext"],y),e}function iE(n){const e={},i=l(n,["baseModel"]);i!=null&&u(e,["baseModel"],i);const r=l(n,["createTime"]);r!=null&&u(e,["createTime"],r);const a=l(n,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function rE(n){const e={},i=l(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&u(e,["baseModel"],i);const r=l(n,["createTime"]);r!=null&&u(e,["createTime"],r);const a=l(n,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function sE(n,e){const i={},r=l(n,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);const a=l(n,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const c=l(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),i}function lE(n,e){const i={},r=l(n,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);const a=l(n,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const c=l(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),i}function aE(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","name"],Ee(n,r));const a=l(e,["config"]);return a!=null&&sE(a,i),i}function uE(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["config"]);return a!=null&&lE(a,i),i}function cE(n,e){const i={},r=l(n,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);const a=l(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&u(e,["parameters","safetySetting"],a);const c=l(n,["personGeneration"]);e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c);const f=l(n,["includeRaiReason"]);e!==void 0&&f!=null&&u(e,["parameters","includeRaiReason"],f);const h=l(n,["outputMimeType"]);e!==void 0&&h!=null&&u(e,["parameters","outputOptions","mimeType"],h);const g=l(n,["outputCompressionQuality"]);e!==void 0&&g!=null&&u(e,["parameters","outputOptions","compressionQuality"],g);const m=l(n,["enhanceInputImage"]);e!==void 0&&m!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],m);const y=l(n,["imagePreservationFactor"]);e!==void 0&&y!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const T=l(n,["labels"]);e!==void 0&&T!=null&&u(e,["labels"],T);const E=l(n,["numberOfImages"]);e!==void 0&&E!=null&&u(e,["parameters","sampleCount"],E);const C=l(n,["mode"]);return e!==void 0&&C!=null&&u(e,["parameters","mode"],C),i}function dE(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["_url","model"],Ee(n,r));const a=l(e,["image"]);a!=null&&u(i,["instances[0]","image"],Mt(a));const c=l(e,["upscaleFactor"]);c!=null&&u(i,["parameters","upscaleConfig","upscaleFactor"],c);const f=l(e,["config"]);return f!=null&&cE(f,i),i}function fE(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>Ir(c))),u(e,["generatedImages"],a)}return e}function pE(n){const e={},i=l(n,["uri"]);i!=null&&u(e,["uri"],i);const r=l(n,["encodedVideo"]);r!=null&&u(e,["videoBytes"],pn(r));const a=l(n,["encoding"]);return a!=null&&u(e,["mimeType"],a),e}function hE(n){const e={},i=l(n,["gcsUri"]);i!=null&&u(e,["uri"],i);const r=l(n,["bytesBase64Encoded"]);r!=null&&u(e,["videoBytes"],pn(r));const a=l(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function mE(n){const e={},i=l(n,["image"]);i!=null&&u(e,["_self"],Mt(i));const r=l(n,["maskMode"]);return r!=null&&u(e,["maskMode"],r),e}function gE(n){const e={},i=l(n,["image"]);i!=null&&u(e,["image"],wr(i));const r=l(n,["referenceType"]);return r!=null&&u(e,["referenceType"],r),e}function vE(n){const e={},i=l(n,["image"]);i!=null&&u(e,["image"],Mt(i));const r=l(n,["referenceType"]);return r!=null&&u(e,["referenceType"],r),e}function op(n){const e={},i=l(n,["uri"]);i!=null&&u(e,["uri"],i);const r=l(n,["videoBytes"]);r!=null&&u(e,["encodedVideo"],pn(r));const a=l(n,["mimeType"]);return a!=null&&u(e,["encoding"],a),e}function ip(n){const e={},i=l(n,["uri"]);i!=null&&u(e,["gcsUri"],i);const r=l(n,["videoBytes"]);r!=null&&u(e,["bytesBase64Encoded"],pn(r));const a=l(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yE(n,e){const i={},r=l(n,["displayName"]);return e!==void 0&&r!=null&&u(e,["displayName"],r),i}function EE(n){const e={},i=l(n,["config"]);return i!=null&&yE(i,e),e}function TE(n,e){const i={},r=l(n,["force"]);return e!==void 0&&r!=null&&u(e,["_query","force"],r),i}function _E(n){const e={},i=l(n,["name"]);i!=null&&u(e,["_url","name"],i);const r=l(n,["config"]);return r!=null&&TE(r,e),e}function SE(n){const e={},i=l(n,["name"]);return i!=null&&u(e,["_url","name"],i),e}function CE(n,e){const i={},r=l(n,["customMetadata"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["customMetadata"],c)}const a=l(n,["chunkingConfig"]);return e!==void 0&&a!=null&&u(e,["chunkingConfig"],a),i}function IE(n){const e={},i=l(n,["name"]);i!=null&&u(e,["name"],i);const r=l(n,["metadata"]);r!=null&&u(e,["metadata"],r);const a=l(n,["done"]);a!=null&&u(e,["done"],a);const c=l(n,["error"]);c!=null&&u(e,["error"],c);const f=l(n,["response"]);return f!=null&&u(e,["response"],AE(f)),e}function wE(n){const e={},i=l(n,["fileSearchStoreName"]);i!=null&&u(e,["_url","file_search_store_name"],i);const r=l(n,["fileName"]);r!=null&&u(e,["fileName"],r);const a=l(n,["config"]);return a!=null&&CE(a,e),e}function AE(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["parent"]);r!=null&&u(e,["parent"],r);const a=l(n,["documentName"]);return a!=null&&u(e,["documentName"],a),e}function RE(n,e){const i={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const a=l(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),i}function PE(n){const e={},i=l(n,["config"]);return i!=null&&RE(i,e),e}function NE(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=l(n,["fileSearchStores"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["fileSearchStores"],c)}return e}function rp(n,e){const i={},r=l(n,["mimeType"]);e!==void 0&&r!=null&&u(e,["mimeType"],r);const a=l(n,["displayName"]);e!==void 0&&a!=null&&u(e,["displayName"],a);const c=l(n,["customMetadata"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),u(e,["customMetadata"],h)}const f=l(n,["chunkingConfig"]);return e!==void 0&&f!=null&&u(e,["chunkingConfig"],f),i}function ME(n){const e={},i=l(n,["fileSearchStoreName"]);i!=null&&u(e,["_url","file_search_store_name"],i);const r=l(n,["config"]);return r!=null&&rp(r,e),e}function xE(n){const e={},i=l(n,["sdkHttpResponse"]);return i!=null&&u(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kE="Content-Type",DE="X-Server-Timeout",LE="User-Agent",Vl="x-goog-api-client",UE="1.38.0",FE=`google-genai-sdk/${UE}`,VE="v1beta1",GE="v1beta";class HE{constructor(e){var i,r,a;this.clientOptions=Object.assign({},e),this.customBaseUrl=(i=e.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const h=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!h?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:VE}else{if(!this.clientOptions.apiKey)throw new bo({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:GE,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,r){const a=[this.getRequestUrlInternal(i)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e,i){return!(i.baseUrl&&i.baseUrlResourceScope===xl.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,i),a=this.constructUrl(e.path,i,r);if(e.queryParams)for(const[f,h]of Object.entries(e.queryParams))a.searchParams.append(f,String(h));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,i,a.toString(),e.abortSignal),this.unaryApiCall(a,c,e.httpMethod)}patchHttpOptions(e,i){const r=JSON.parse(JSON.stringify(e));for(const[a,c]of Object.entries(i))typeof c=="object"?r[a]=Object.assign(Object.assign({},r[a]),c):c!==void 0&&(r[a]=c);return r}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,i),a=this.constructUrl(e.path,i,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,i,a.toString(),e.abortSignal),this.streamApiCall(a,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,r,a){if(i&&i.timeout||a){const c=new AbortController,f=c.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const h=setTimeout(()=>c.abort(),i.timeout);h&&typeof h.unref=="function"&&h.unref()}a&&a.addEventListener("abort",()=>{c.abort()}),e.signal=f}return i&&i.extraBody!==null&&BE(e,i.extraBody),e.headers=await this.getHeadersInternal(i,r),e}async unaryApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async a=>(await If(a),new kl(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async a=>(await If(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return Pt(this,arguments,function*(){var r;const a=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),c=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let f="";const h="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:y}=yield se(a.read());if(m){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=c.decode(y,{stream:!0});try{const x=JSON.parse(T);if("error"in x){const k=JSON.parse(JSON.stringify(x.error)),P=k.status,F=k.code,q=`got status: ${P}. ${JSON.stringify(x)}`;if(F>=400&&F<600)throw new bo({message:q,status:F})}}catch(x){if(x.name==="ApiError")throw x}f+=T;let E=-1,C=0;for(;;){E=-1,C=0;for(const P of g){const F=f.indexOf(P);F!==-1&&(E===-1||F<E)&&(E=F,C=P.length)}if(E===-1)break;const x=f.substring(0,E);f=f.substring(E+C);const k=x.trim();if(k.startsWith(h)){const P=k.substring(h.length).trim();try{const F=new Response(P,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield se(new kl(F))}catch(F){throw new Error(`exception parsing stream chunk ${P}. ${F}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},i=FE+" "+this.clientOptions.userAgentExtra;return e[LE]=i,e[Vl]=i,e[kE]="application/json",e}async getHeadersInternal(e,i){const r=new Headers;if(e&&e.headers){for(const[a,c]of Object.entries(e.headers))r.append(a,c);e.timeout&&e.timeout>0&&r.append(DE,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,i),r}getFileName(e){var i;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(i=r.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),r}async uploadFile(e,i){var r;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const c=this.clientOptions.uploader,f=await c.stat(e);a.sizeBytes=String(f.size);const h=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:f.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=h;const g={file:a},m=this.getFileName(e),y=z("upload/v1beta/files",g._url),T=await this.fetchUploadUrl(y,a.sizeBytes,a.mimeType,m,g,i==null?void 0:i.httpOptions);return c.upload(e,T,this)}async uploadFileToFileSearchStore(e,i,r){var a;const c=this.clientOptions.uploader,f=await c.stat(i),h=String(f.size),g=(a=r==null?void 0:r.mimeType)!==null&&a!==void 0?a:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(i),T={};r!=null&&rp(r,T);const E=await this.fetchUploadUrl(m,h,g,y,T,r==null?void 0:r.httpOptions);return c.uploadToFileSearchStore(i,E,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,r,a,c,f){var h;let g={};f?g=f:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${r}`},a?{"X-Goog-Upload-File-Name":a}:{})};const m=await this.request({path:e,body:JSON.stringify(c),httpMethod:"POST",httpOptions:g});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function If(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(r);throw i>=400&&i<600?new bo({message:a,status:i}):new Error(a)}}function BE(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const c=JSON.parse(n.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))i=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(c,f){const h=Object.assign({},c);for(const g in f)if(Object.prototype.hasOwnProperty.call(f,g)){const m=f[g],y=h[g];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[g]=r(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[g]=m)}return h}const a=r(i,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qE="mcp_used/unknown";let zE=!1;function sp(n){for(const e of n)if(JE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return zE}function lp(n){var e;const i=(e=n[Vl])!==null&&e!==void 0?e:"";n[Vl]=(i+` ${qE}`).trimStart()}function JE(n){return n!==null&&typeof n=="object"&&n instanceof bl}function $E(n){return Pt(this,arguments,function*(i,r=100){let a,c=0;for(;c<r;){const f=yield se(i.listTools({cursor:a}));for(const h of f.tools)yield yield se(h),c++;if(!f.nextCursor)break;a=f.nextCursor}})}class bl{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new bl(e,i)}async initialize(){var e,i,r,a;if(this.mcpTools.length>0)return;const c={},f=[];for(const y of this.mcpClients)try{for(var h=!0,g=(i=void 0,Nt($E(y))),m;m=await g.next(),e=m.done,!e;h=!0){a=m.value,h=!1;const T=a;f.push(T);const E=T.name;if(c[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);c[E]=y}}catch(T){i={error:T}}finally{try{!h&&!e&&(r=g.return)&&await r.call(g)}finally{if(i)throw i.error}}this.mcpTools=f,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),_g(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const f=await a.callTool({name:r.name,arguments:r.args},void 0,c);i.push({functionResponse:{name:r.name,response:f.isError?{error:f}:f}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function OE(n,e,i){const r=new pg;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(r,a),e(r)}class WE{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r}async connect(e){var i,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),f=QE(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(H=>{m=H}),T=e.callbacks,E=function(){m({})},C=this.apiClient,x={onopen:E,onmessage:H=>{OE(C,T.onmessage,H)},onerror:(i=T==null?void 0:T.onerror)!==null&&i!==void 0?i:function(H){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(H){}},k=this.webSocketFactory.create(g,YE(f),x);k.connect(),await y;const q={setup:{model:Ee(this.apiClient,e.model)}};return k.send(JSON.stringify(q)),new KE(k,this.apiClient)}}class KE{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=yy(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=vy(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(to.PLAY)}pause(){this.sendPlaybackControl(to.PAUSE)}stop(){this.sendPlaybackControl(to.STOP)}resetContext(){this.sendPlaybackControl(to.RESET_CONTEXT)}close(){this.conn.close()}}function YE(n){const e={};return n.forEach((i,r)=>{e[r]=i}),e}function QE(n){const e=new Headers;for(const[i,r]of Object.entries(n))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ZE(n,e,i){const r=new fg;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const c=JSON.parse(a);if(n.isVertexAI()){const f=_y(c);Object.assign(r,f)}else Object.assign(r,c);e(r)}class bE{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r,this.music=new WE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,r,a,c,f,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&sp(e.config.tools)&&lp(T);const E=nT(T);if(this.apiClient.isVertexAI()){const Y=this.apiClient.getProject(),le=this.apiClient.getLocation(),Te=this.apiClient.getApiKey(),j=!!Y&&!!le||!!Te;this.apiClient.getCustomBaseUrl()&&!j?y=g:(y=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,y))}else{const Y=this.apiClient.getApiKey();let le="BidiGenerateContent",Te="key";Y!=null&&Y.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),le="BidiGenerateContentConstrained",Te="access_token"),y=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${le}?${Te}=${Y}`}let C=()=>{};const x=new Promise(Y=>{C=Y}),k=e.callbacks,P=function(){var Y;(Y=k==null?void 0:k.onopen)===null||Y===void 0||Y.call(k),C({})},F=this.apiClient,q={onopen:P,onmessage:Y=>{ZE(F,k.onmessage,Y)},onerror:(i=k==null?void 0:k.onerror)!==null&&i!==void 0?i:function(Y){},onclose:(r=k==null?void 0:k.onclose)!==null&&r!==void 0?r:function(Y){}},H=this.webSocketFactory.create(y,tT(E),q);H.connect(),await x;let J=Ee(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const Y=this.apiClient.getProject(),le=this.apiClient.getLocation();Y&&le&&(J=`projects/${Y}/locations/${le}/`+J)}let Z={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[vr.AUDIO]}:e.config.responseModalities=[vr.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ee=(h=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&h!==void 0?h:[],b=[];for(const Y of ee)if(this.isCallableTool(Y)){const le=Y;b.push(await le.tool())}else b.push(Y);b.length>0&&(e.config.tools=b);const fe={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Z=gy(this.apiClient,fe):Z=my(this.apiClient,fe),delete Z.config,H.send(JSON.stringify(Z)),new eT(H,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const jE={turnComplete:!0};class eT{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let r=[];try{r=Et(i.turns),e.isVertexAI()||(r=r.map(a=>Cr(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:r,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let r=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?r=i.functionResponses:r=[i.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const c of r){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(XE)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},jE),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:Ty(e)}:i={realtimeInput:Ey(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function tT(n){const e={};return n.forEach((i,r)=>{e[r]=i}),e}function nT(n){const e=new Headers;for(const[i,r]of Object.entries(n))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wf=10;function Af(n){var e,i,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const f of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(io(f)){a=!0;break}if(!a)return!0;const c=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function io(n){return"callTool"in n&&typeof n.callTool=="function"}function oT(n){var e,i,r;return(r=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>io(a)))!==null&&r!==void 0?r:!1}function Rf(n){var e;const i=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,a)=>{if(io(r))return;const c=r;c.functionDeclarations&&c.functionDeclarations.length>0&&i.push(a)}),i}function Pf(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iT extends Ot{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var r,a,c,f,h;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!oT(i)||Af(i.config))return await this.generateContentInternal(g);const m=Rf(i);if(m.length>0){const k=m.map(P=>`tools[${P}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let y,T;const E=Et(g.contents),C=(c=(a=(r=g.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:wf;let x=0;for(;x<C&&(y=await this.generateContentInternal(g),!(!y.functionCalls||y.functionCalls.length===0));){const k=y.candidates[0].content,P=[];for(const F of(h=(f=i.config)===null||f===void 0?void 0:f.tools)!==null&&h!==void 0?h:[])if(io(F)){const H=await F.callTool(y.functionCalls);P.push(...H)}x++,T={role:"user",parts:P},g.contents=Et(g.contents),g.contents.push(k),g.contents.push(T),Pf(g.config)&&(E.push(k),E.push(T))}return Pf(g.config)&&(y.automaticFunctionCallingHistory=E),y},this.generateContentStream=async i=>{var r,a,c,f,h;if(this.maybeMoveToResponseJsonSchem(i),Af(i.config)){const T=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(T)}const g=Rf(i);if(g.length>0){const T=g.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(c=(a=(r=i==null?void 0:i.config)===null||r===void 0?void 0:r.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,y=(h=(f=i==null?void 0:i.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(r=>{var a;let c;const f=[];if(r!=null&&r.generatedImages)for(const g of r.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?c=g==null?void 0:g.safetyAttributes:f.push(g);let h;return c?h={generatedImages:f,positivePromptSafetyAttributes:c,sdkHttpResponse:r.sdkHttpResponse}:h={generatedImages:f,sdkHttpResponse:r.sdkHttpResponse},h}),this.list=async i=>{var r;const f={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((r=f.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Pn($t.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(f),f)},this.editImage=async i=>{const r={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(r.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async i=>{let r={numberOfImages:1,mode:"upscale"};i.config&&(r=Object.assign(Object.assign({},r),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var r,a,c,f,h,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=i.video)===null||r===void 0)&&r.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((f=(c=i.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.uri&&(!((g=(h=i.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,r,a;const c=(i=e.config)===null||i===void 0?void 0:i.tools;if(!c)return e;const f=await Promise.all(c.map(async g=>io(g)?await g.tool():g)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(h.config.tools=f,e.config&&e.config.tools&&sp(e.config.tools)){const g=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),lp(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var i,r,a;const c=new Map;for(const f of(r=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&r!==void 0?r:[])if(io(f)){const h=f,g=await h.tool();for(const m of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,h)}}return c}async processAfcStream(e){var i,r,a;const c=(a=(r=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:wf;let f=!1,h=0;const g=await this.initAfcToolsMap(e);return(function(m,y,T){return Pt(this,arguments,function*(){for(var E,C,x,k,P,F;h<c;){f&&(h++,f=!1);const Z=yield se(m.processParamsMaybeAddMcpUsage(T)),ee=yield se(m.generateContentStreamInternal(Z)),b=[],fe=[];try{for(var q=!0,H=(C=void 0,Nt(ee)),J;J=yield se(H.next()),E=J.done,!E;q=!0){k=J.value,q=!1;const Y=k;if(yield yield se(Y),Y.candidates&&(!((P=Y.candidates[0])===null||P===void 0)&&P.content)){fe.push(Y.candidates[0].content);for(const le of(F=Y.candidates[0].content.parts)!==null&&F!==void 0?F:[])if(h<c&&le.functionCall){if(!le.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(le.functionCall.name)){const Te=yield se(y.get(le.functionCall.name).callTool([le.functionCall]));b.push(...Te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${le.functionCall.name}`)}}}}catch(Y){C={error:Y}}finally{try{!q&&!E&&(x=H.return)&&(yield se(x.call(H)))}finally{if(C)throw C.error}}if(b.length>0){f=!0;const Y=new Qo;Y.candidates=[{content:{role:"user",parts:b}}],yield yield se(Y);const le=[];le.push(...fe),le.push({role:"user",parts:b});const Te=Et(T.contents).concat(le);T.contents=Te}else break}})})(this,g,e)}async generateContentInternal(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=_f(this.apiClient,e);return h=z("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=Cf(y),E=new Qo;return Object.assign(E,T),E})}else{const m=Tf(this.apiClient,e);return h=z("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=Sf(y),E=new Qo;return Object.assign(E,T),E})}}async generateContentStreamInternal(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=_f(this.apiClient,e);return h=z("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),f.then(function(T){return Pt(this,arguments,function*(){var E,C,x,k;try{for(var P=!0,F=Nt(T),q;q=yield se(F.next()),E=q.done,!E;P=!0){k=q.value,P=!1;const H=k,J=Cf(yield se(H.json()));J.sdkHttpResponse={headers:H.headers};const Z=new Qo;Object.assign(Z,J),yield yield se(Z)}}catch(H){C={error:H}}finally{try{!P&&!E&&(x=F.return)&&(yield se(x.call(F)))}finally{if(C)throw C.error}}})})}else{const m=Tf(this.apiClient,e);return h=z("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),f.then(function(T){return Pt(this,arguments,function*(){var E,C,x,k;try{for(var P=!0,F=Nt(T),q;q=yield se(F.next()),E=q.done,!E;P=!0){k=q.value,P=!1;const H=k,J=Sf(yield se(H.json()));J.sdkHttpResponse={headers:H.headers};const Z=new Qo;Object.assign(Z,J),yield yield se(Z)}}catch(H){C={error:H}}finally{try{!P&&!E&&(x=F.return)&&(yield se(x.call(F)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=by(this.apiClient,e);return h=z("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=e0(y),E=new nf;return Object.assign(E,T),E})}else{const m=Zy(this.apiClient,e);return h=z("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=jy(y),E=new nf;return Object.assign(E,T),E})}}async generateImagesInternal(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=d0(this.apiClient,e);return h=z("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=p0(y),E=new of;return Object.assign(E,T),E})}else{const m=c0(this.apiClient,e);return h=z("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=f0(y),E=new of;return Object.assign(E,T),E})}}async editImageInternal(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI()){const h=Ky(this.apiClient,e);return c=z("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const m=Yy(g),y=new tg;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI()){const h=dE(this.apiClient,e);return c=z("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const m=fE(g),y=new ng;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI()){const h=W0(this.apiClient,e);return c=z("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=K0(g),y=new og;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI()){const h=j0(this.apiClient,e);return c=z("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=eE(g),y=new ig;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=M0(this.apiClient,e);return h=z("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),f.then(y=>Fl(y))}else{const m=N0(this.apiClient,e);return h=z("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>Ul(y))}}async listInternal(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=H0(this.apiClient,e);return h=z("{models_url}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=q0(y),E=new rf;return Object.assign(E,T),E})}else{const m=G0(this.apiClient,e);return h=z("{models_url}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=B0(y),E=new rf;return Object.assign(E,T),E})}}async update(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=uE(this.apiClient,e);return h=z("{model}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),f.then(y=>Fl(y))}else{const m=aE(this.apiClient,e);return h=z("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>Ul(y))}}async delete(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=Jy(this.apiClient,e);return h=z("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=Oy(y),E=new sf;return Object.assign(E,T),E})}else{const m=zy(this.apiClient,e);return h=z("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=$y(y),E=new sf;return Object.assign(E,T),E})}}async countTokens(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=Hy(this.apiClient,e);return h=z("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=qy(y),E=new lf;return Object.assign(E,T),E})}else{const m=Gy(this.apiClient,e);return h=z("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=By(y),E=new lf;return Object.assign(E,T),E})}}async computeTokens(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI()){const h=xy(this.apiClient,e);return c=z("{model}:computeTokens",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const m=ky(g),y=new rg;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=E0(this.apiClient,e);return h=z("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),f.then(y=>{const T=v0(y),E=new yr;return Object.assign(E,T),E})}else{const m=y0(this.apiClient,e);return h=z("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>{const T=g0(y),E=new yr;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rT extends Ot{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let c;r&&"httpOptions"in r&&(c=r.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:c}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let c;r&&"httpOptions"in r&&(c=r.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:c}});return i._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=Qm(e);return h=z("{operationName}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),f}else{const m=Ym(e);return h=z("{operationName}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f}}async fetchPredictVideosOperationInternal(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI()){const h=qm(e);return c=z("{resourceName}:fetchPredictOperation",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sT(n){const e={},i=l(n,["data"]);if(i!=null&&u(e,["data"],i),l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function lT(n){const e={},i=l(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>gT(c))),u(e,["parts"],a)}const r=l(n,["role"]);return r!=null&&u(e,["role"],r),e}function aT(n,e,i){const r={},a=l(e,["expireTime"]);i!==void 0&&a!=null&&u(i,["expireTime"],a);const c=l(e,["newSessionExpireTime"]);i!==void 0&&c!=null&&u(i,["newSessionExpireTime"],c);const f=l(e,["uses"]);i!==void 0&&f!=null&&u(i,["uses"],f);const h=l(e,["liveConnectConstraints"]);i!==void 0&&h!=null&&u(i,["bidiGenerateContentSetup"],mT(n,h));const g=l(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&u(i,["fieldMask"],g),r}function uT(n,e){const i={},r=l(e,["config"]);return r!=null&&u(i,["config"],aT(n,r,i)),i}function cT(n){const e={};if(l(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(n,["fileUri"]);i!=null&&u(e,["fileUri"],i);const r=l(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function dT(n){const e={},i=l(n,["id"]);i!=null&&u(e,["id"],i);const r=l(n,["args"]);r!=null&&u(e,["args"],r);const a=l(n,["name"]);if(a!=null&&u(e,["name"],a),l(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function fT(n){const e={};if(l(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=l(n,["enableWidget"]);return i!=null&&u(e,["enableWidget"],i),e}function pT(n){const e={};if(l(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=l(n,["timeRangeFilter"]);return i!=null&&u(e,["timeRangeFilter"],i),e}function hT(n,e){const i={},r=l(n,["generationConfig"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig"],r);const a=l(n,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(n,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const f=l(n,["topP"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","topP"],f);const h=l(n,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const g=l(n,["maxOutputTokens"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","maxOutputTokens"],g);const m=l(n,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(n,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const T=l(n,["speechConfig"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","speechConfig"],Zl(T));const E=l(n,["thinkingConfig"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","thinkingConfig"],E);const C=l(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],C);const x=l(n,["systemInstruction"]);e!==void 0&&x!=null&&u(e,["setup","systemInstruction"],lT(Qe(x)));const k=l(n,["tools"]);if(e!==void 0&&k!=null){let ee=so(k);Array.isArray(ee)&&(ee=ee.map(b=>yT(ro(b)))),u(e,["setup","tools"],ee)}const P=l(n,["sessionResumption"]);e!==void 0&&P!=null&&u(e,["setup","sessionResumption"],vT(P));const F=l(n,["inputAudioTranscription"]);e!==void 0&&F!=null&&u(e,["setup","inputAudioTranscription"],F);const q=l(n,["outputAudioTranscription"]);e!==void 0&&q!=null&&u(e,["setup","outputAudioTranscription"],q);const H=l(n,["realtimeInputConfig"]);e!==void 0&&H!=null&&u(e,["setup","realtimeInputConfig"],H);const J=l(n,["contextWindowCompression"]);e!==void 0&&J!=null&&u(e,["setup","contextWindowCompression"],J);const Z=l(n,["proactivity"]);if(e!==void 0&&Z!=null&&u(e,["setup","proactivity"],Z),l(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function mT(n,e){const i={},r=l(e,["model"]);r!=null&&u(i,["setup","model"],Ee(n,r));const a=l(e,["config"]);return a!=null&&u(i,["config"],hT(a,i)),i}function gT(n){const e={},i=l(n,["mediaResolution"]);i!=null&&u(e,["mediaResolution"],i);const r=l(n,["codeExecutionResult"]);r!=null&&u(e,["codeExecutionResult"],r);const a=l(n,["executableCode"]);a!=null&&u(e,["executableCode"],a);const c=l(n,["fileData"]);c!=null&&u(e,["fileData"],cT(c));const f=l(n,["functionCall"]);f!=null&&u(e,["functionCall"],dT(f));const h=l(n,["functionResponse"]);h!=null&&u(e,["functionResponse"],h);const g=l(n,["inlineData"]);g!=null&&u(e,["inlineData"],sT(g));const m=l(n,["text"]);m!=null&&u(e,["text"],m);const y=l(n,["thought"]);y!=null&&u(e,["thought"],y);const T=l(n,["thoughtSignature"]);T!=null&&u(e,["thoughtSignature"],T);const E=l(n,["videoMetadata"]);return E!=null&&u(e,["videoMetadata"],E),e}function vT(n){const e={},i=l(n,["handle"]);if(i!=null&&u(e,["handle"],i),l(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yT(n){const e={};if(l(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(n,["computerUse"]);i!=null&&u(e,["computerUse"],i);const r=l(n,["fileSearch"]);r!=null&&u(e,["fileSearch"],r);const a=l(n,["codeExecution"]);if(a!=null&&u(e,["codeExecution"],a),l(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=l(n,["functionDeclarations"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(T=>T)),u(e,["functionDeclarations"],y)}const f=l(n,["googleMaps"]);f!=null&&u(e,["googleMaps"],fT(f));const h=l(n,["googleSearch"]);h!=null&&u(e,["googleSearch"],pT(h));const g=l(n,["googleSearchRetrieval"]);g!=null&&u(e,["googleSearchRetrieval"],g);const m=l(n,["urlContext"]);return m!=null&&u(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ET(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const r=n[i];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(c=>`${i}.${c}`);e.push(...a)}else e.push(i)}return e.join(",")}function TT(n,e){let i=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const c=r.setup;typeof c=="object"&&c!==null?(n.bidiGenerateContentSetup=c,i=c):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(i){const c=ET(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?n.fieldMask=c:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];a.length>0&&(h=a.map(m=>f.includes(m)?`generationConfig.${m}`:m));const g=[];c&&g.push(c),h.length>0&&g.push(...h),g.length>0?n.fieldMask=g.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class _T extends Ot{constructor(e){super(),this.apiClient=e}async create(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=uT(this.apiClient,e);c=z("auth_tokens",h._url),f=h._query,delete h.config,delete h._url,delete h._query;const g=TT(h,e.config);return a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),a.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ST(n,e){const i={},r=l(n,["force"]);return e!==void 0&&r!=null&&u(e,["_query","force"],r),i}function CT(n){const e={},i=l(n,["name"]);i!=null&&u(e,["_url","name"],i);const r=l(n,["config"]);return r!=null&&ST(r,e),e}function IT(n){const e={},i=l(n,["name"]);return i!=null&&u(e,["_url","name"],i),e}function wT(n,e){const i={},r=l(n,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const a=l(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),i}function AT(n){const e={},i=l(n,["parent"]);i!=null&&u(e,["_url","parent"],i);const r=l(n,["config"]);return r!=null&&wT(r,e),e}function RT(n){const e={},i=l(n,["sdkHttpResponse"]);i!=null&&u(e,["sdkHttpResponse"],i);const r=l(n,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);const a=l(n,["documents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["documents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PT extends Ot{constructor(e){super(),this.apiClient=e,this.list=async i=>new Pn($t.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:i.parent,config:r.config}),await this.listInternal(i),i)}async get(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=IT(e);return c=z("{name}",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,r;let a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=CT(e);a=z("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=AT(e);return c=z("{parent}/documents",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=RT(g),y=new sg;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NT extends Ot{constructor(e,i=new PT(e)){super(),this.apiClient=e,this.documents=i,this.list=async(r={})=>new Pn($t.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=EE(e);return c=z("fileSearchStores",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async get(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=SE(e);return c=z("{name}",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,r;let a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=_E(e);a=z("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=PE(e);return c=z("fileSearchStores",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=NE(g),y=new lg;return Object.assign(y,m),y})}}async uploadToFileSearchStoreInternal(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ME(e);return c=z("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=xE(g),y=new ag;return Object.assign(y,m),y})}}async importFile(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=wE(e);return c=z("{file_search_store_name}:importFile",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const m=IE(g),y=new Wl;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ap=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return ap=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),i=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^i()&15>>+r/4).toString(16))};const MT=()=>ap();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gl(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const Hl=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tt extends Error{}class je extends Tt{constructor(e,i,r,a){super(`${je.makeMessage(e,i,r)}`),this.status=e,this.headers=a,this.error=i}static makeMessage(e,i,r){const a=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):r;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,i,r,a){if(!e||!a)return new Ar({message:r,cause:Hl(i)});const c=i;return e===400?new cp(e,c,r,a):e===401?new dp(e,c,r,a):e===403?new fp(e,c,r,a):e===404?new pp(e,c,r,a):e===409?new hp(e,c,r,a):e===422?new mp(e,c,r,a):e===429?new gp(e,c,r,a):e>=500?new vp(e,c,r,a):new je(e,c,r,a)}}class Bl extends je{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ar extends je{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class up extends Ar{constructor({message:e}={}){super({message:e??"Request timed out."})}}class cp extends je{}class dp extends je{}class fp extends je{}class pp extends je{}class hp extends je{}class mp extends je{}class gp extends je{}class vp extends je{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xT=/^[a-z][a-z0-9+.-]*:/i,kT=n=>xT.test(n);let ql=n=>(ql=Array.isArray,ql(n));const DT=ql;let LT=DT;const Nf=LT;function UT(n){if(!n)return!0;for(const e in n)return!1;return!0}function FT(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const VT=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Tt(`${n} must be an integer`);if(e<0)throw new Tt(`${n} must be a positive integer`);return e},GT=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HT=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BT(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const qT=()=>{var n,e,i,r,a;const c=BT();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":xf(Deno.build.os),"X-Stainless-Arch":Mf(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":xf((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":Mf((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const f=zT();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function zT(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of n){const r=i.exec(navigator.userAgent);if(r){const a=r[1]||0,c=r[2]||0,f=r[3]||0;return{browser:e,version:`${a}.${c}.${f}`}}}return null}const Mf=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",xf=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let cr;const JT=()=>cr??(cr=qT());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $T(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function yp(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function OT(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return yp({start(){},async pull(i){const{done:r,value:a}=await e.next();r?i.close():i.enqueue(a)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function Ep(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function WT(n){var e,i;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((i=(e=n[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const r=n.getReader(),a=r.cancel();r.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KT=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tp=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Rl(n,e,i){return Tp(),new File(n,e??"unknown_file",i)}function YT(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const QT=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _p=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",XT=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&_p(n),ZT=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function bT(n,e,i){if(Tp(),n=await n,XT(n))return n instanceof File?n:Rl([await n.arrayBuffer()],n.name);if(ZT(n)){const a=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Rl(await zl(a),e,i)}const r=await zl(n);if(e||(e=YT(n)),!(i!=null&&i.type)){const a=r.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof a=="string"&&(i=Object.assign(Object.assign({},i),{type:a}))}return Rl(r,e,i)}async function zl(n){var e,i,r,a,c;let f=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)f.push(n);else if(_p(n))f.push(n instanceof Blob?n:await n.arrayBuffer());else if(QT(n))try{for(var h=!0,g=Nt(n),m;m=await g.next(),e=m.done,!e;h=!0){a=m.value,h=!1;const y=a;f.push(...await zl(y))}}catch(y){i={error:y}}finally{try{!h&&!e&&(r=g.return)&&await r.call(g)}finally{if(i)throw i.error}}else{const y=(c=n==null?void 0:n.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof n}${y?`; constructor: ${y}`:""}${jT(n)}`)}return f}function jT(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sp{constructor(e){this._client=e}}Sp._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cp(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const kf=Object.freeze(Object.create(null)),e_=(n=Cp)=>(function(i,...r){if(i.length===1)return i[0];let a=!1;const c=[],f=i.reduce((y,T,E)=>{var C,x,k;/[?#]/.test(T)&&(a=!0);const P=r[E];let F=(a?encodeURIComponent:n)(""+P);return E!==r.length&&(P==null||typeof P=="object"&&P.toString===((k=Object.getPrototypeOf((x=Object.getPrototypeOf((C=P.hasOwnProperty)!==null&&C!==void 0?C:kf))!==null&&x!==void 0?x:kf))===null||k===void 0?void 0:k.toString))&&(F=P+"",c.push({start:y.length+T.length,length:F.length,error:`Value of type ${Object.prototype.toString.call(P).slice(8,-1)} is not a valid path parameter`})),y+T+(E===r.length?"":F)},""),h=f.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=g.exec(h))!==null;)c.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(c.sort((y,T)=>y.start-T.start),c.length>0){let y=0;const T=c.reduce((E,C)=>{const x=" ".repeat(C.start-y),k="^".repeat(C.length);return y=C.start+C.length,E+x+k},"");throw new Tt(`Path parameters result in path with invalid segments:
${c.map(E=>E.error).join(`
`)}
${f}
${T}`)}return f}),dr=e_(Cp);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ip extends Sp{create(e,i){var r;const{api_version:a=this._client.apiVersion}=e,c=Tr(e,["api_version"]);if("model"in c&&"agent_config"in c)throw new Tt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new Tt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(dr`/${a}/interactions`,Object.assign(Object.assign({body:c},i),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,i={},r){const{api_version:a=this._client.apiVersion}=i??{};return this._client.delete(dr`/${a}/interactions/${e}`,r)}cancel(e,i={},r){const{api_version:a=this._client.apiVersion}=i??{};return this._client.post(dr`/${a}/interactions/${e}/cancel`,r)}get(e,i={},r){var a;const c=i??{},{api_version:f=this._client.apiVersion}=c,h=Tr(c,["api_version"]);return this._client.get(dr`/${f}/interactions/${e}`,Object.assign(Object.assign({query:h},r),{stream:(a=i==null?void 0:i.stream)!==null&&a!==void 0?a:!1}))}}Ip._key=Object.freeze(["interactions"]);class wp extends Ip{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t_(n){let e=0;for(const a of n)e+=a.length;const i=new Uint8Array(e);let r=0;for(const a of n)i.set(a,r),r+=a.length;return i}let fr;function jl(n){let e;return(fr??(e=new globalThis.TextEncoder,fr=e.encode.bind(e)))(n)}let pr;function Df(n){let e;return(pr??(e=new globalThis.TextDecoder,pr=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rr{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?jl(e):e;this.buffer=t_([this.buffer,i]);const r=[];let a;for(;(a=n_(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){r.push(Df(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,f=Df(this.buffer.subarray(0,c));r.push(f),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Rr.NEWLINE_CHARS=new Set([`
`,"\r"]);Rr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function n_(n,e){for(let a=e??0;a<n.length;a++){if(n[a]===10)return{preceding:a,index:a+1,carriage:!1};if(n[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function o_(n){for(let r=0;r<n.length-1;r++){if(n[r]===10&&n[r+1]===10||n[r]===13&&n[r+1]===13)return r+2;if(n[r]===13&&n[r+1]===10&&r+3<n.length&&n[r+2]===13&&n[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _r={off:0,error:200,warn:300,info:400,debug:500},Lf=(n,e,i)=>{if(n){if(FT(_r,n))return n;be(i).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(_r))}`)}};function Zo(){}function hr(n,e,i){return!e||_r[n]>_r[i]?Zo:e[n].bind(e)}const i_={error:Zo,warn:Zo,info:Zo,debug:Zo};let Uf=new WeakMap;function be(n){var e;const i=n.logger,r=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!i)return i_;const a=Uf.get(i);if(a&&a[0]===r)return a[1];const c={error:hr("error",i,r),warn:hr("warn",i,r),info:hr("info",i,r),debug:hr("debug",i,r)};return Uf.set(i,[r,c]),c}const Rn=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class no{constructor(e,i,r){this.iterator=e,this.controller=i,this.client=r}static fromSSEResponse(e,i,r){let a=!1;const c=r?be(r):console;function f(){return Pt(this,arguments,function*(){var g,m,y,T;if(a)throw new Tt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let E=!1;try{try{for(var C=!0,x=Nt(r_(e,i)),k;k=yield se(x.next()),g=k.done,!g;C=!0){T=k.value,C=!1;const P=T;if(!E)if(P.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield se(JSON.parse(P.data))}catch(F){throw c.error("Could not parse message into JSON:",P.data),c.error("From chunk:",P.raw),F}}}catch(P){m={error:P}}finally{try{!C&&!g&&(y=x.return)&&(yield se(y.call(x)))}finally{if(m)throw m.error}}E=!0}catch(P){if(Gl(P))return yield se(void 0);throw P}finally{E||i.abort()}})}return new no(f,i,r)}static fromReadableStream(e,i,r){let a=!1;function c(){return Pt(this,arguments,function*(){var g,m,y,T;const E=new Rr,C=Ep(e);try{for(var x=!0,k=Nt(C),P;P=yield se(k.next()),g=P.done,!g;x=!0){T=P.value,x=!1;const F=T;for(const q of E.decode(F))yield yield se(q)}}catch(F){m={error:F}}finally{try{!x&&!g&&(y=k.return)&&(yield se(y.call(k)))}finally{if(m)throw m.error}}for(const F of E.flush())yield yield se(F)})}function f(){return Pt(this,arguments,function*(){var g,m,y,T;if(a)throw new Tt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let E=!1;try{try{for(var C=!0,x=Nt(c()),k;k=yield se(x.next()),g=k.done,!g;C=!0){T=k.value,C=!1;const P=T;E||P&&(yield yield se(JSON.parse(P)))}}catch(P){m={error:P}}finally{try{!C&&!g&&(y=x.return)&&(yield se(y.call(x)))}finally{if(m)throw m.error}}E=!0}catch(P){if(Gl(P))return yield se(void 0);throw P}finally{E||i.abort()}})}return new no(f,i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],r=this.iterator(),a=c=>({next:()=>{if(c.length===0){const f=r.next();e.push(f),i.push(f)}return c.shift()}});return[new no(()=>a(e),this.controller,this.client),new no(()=>a(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return yp({async start(){i=e[Symbol.asyncIterator]()},async pull(r){try{const{value:a,done:c}=await i.next();if(c)return r.close();const f=jl(JSON.stringify(a)+`
`);r.enqueue(f)}catch(a){r.error(a)}},async cancel(){var r;await((r=i.return)===null||r===void 0?void 0:r.call(i))}})}}function r_(n,e){return Pt(this,arguments,function*(){var r,a,c,f;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Tt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Tt("Attempted to iterate over a response with no body");const h=new l_,g=new Rr,m=Ep(n.body);try{for(var y=!0,T=Nt(s_(m)),E;E=yield se(T.next()),r=E.done,!r;y=!0){f=E.value,y=!1;const C=f;for(const x of g.decode(C)){const k=h.decode(x);k&&(yield yield se(k))}}}catch(C){a={error:C}}finally{try{!y&&!r&&(c=T.return)&&(yield se(c.call(T)))}finally{if(a)throw a.error}}for(const C of g.flush()){const x=h.decode(C);x&&(yield yield se(x))}})}function s_(n){return Pt(this,arguments,function*(){var i,r,a,c;let f=new Uint8Array;try{for(var h=!0,g=Nt(n),m;m=yield se(g.next()),i=m.done,!i;h=!0){c=m.value,h=!1;const y=c;if(y==null)continue;const T=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?jl(y):y;let E=new Uint8Array(f.length+T.length);E.set(f),E.set(T,f.length),f=E;let C;for(;(C=o_(f))!==-1;)yield yield se(f.slice(0,C)),f=f.slice(C)}}catch(y){r={error:y}}finally{try{!h&&!i&&(a=g.return)&&(yield se(a.call(g)))}finally{if(r)throw r.error}}f.length>0&&(yield yield se(f))})}class l_{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,r,a]=a_(e,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}}function a_(n,e){const i=n.indexOf(e);return i!==-1?[n.substring(0,i),e,n.substring(i+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function u_(n,e){const{response:i,requestLogID:r,retryOfRequestLogID:a,startTime:c}=e,f=await(async()=>{var h;if(e.options.stream)return be(n).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,n):no.fromSSEResponse(i,e.controller,n);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const g=i.headers.get("content-type"),m=(h=g==null?void 0:g.split(";")[0])===null||h===void 0?void 0:h.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await i.json():await i.text()})();return be(n).debug(`[${r}] response parsed`,Rn({retryOfRequestLogID:a,url:i.url,status:i.status,body:f,durationMs:Date.now()-c})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ea extends Promise{constructor(e,i,r=u_){super(a=>{a(null)}),this.responsePromise=i,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new ea(this.client,this.responsePromise,async(i,r)=>e(await this.parseResponse(i,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ap=Symbol("brand.privateNullableHeaders");function*c_(n){if(!n)return;if(Ap in n){const{values:r,nulls:a}=n;yield*r.entries();for(const c of a)yield[c,null];return}let e=!1,i;n instanceof Headers?i=n.entries():Nf(n)?i=n:(e=!0,i=Object.entries(n??{}));for(let r of i){const a=r[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const c=Nf(r[1])?r[1]:[r[1]];let f=!1;for(const h of c)h!==void 0&&(e&&!f&&(f=!0,yield[a,null]),yield[a,h])}}const Xo=n=>{const e=new Headers,i=new Set;for(const r of n){const a=new Set;for(const[c,f]of c_(r)){const h=c.toLowerCase();a.has(h)||(e.delete(c),a.add(h)),f===null?(e.delete(c),i.add(h)):(e.append(c,f),i.delete(h))}}return{[Ap]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pl=n=>{var e,i,r,a,c,f;if(typeof globalThis.process<"u")return(r=(i=(e=Um)===null||e===void 0?void 0:e[n])===null||i===void 0?void 0:i.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(f=(c=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||c===void 0?void 0:c.call(a,n))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rp;class Pr{constructor(e){var i,r,a,c,f,h,g,{baseURL:m=Pl("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(i=Pl("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:T="v1beta"}=e,E=Tr(e,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:y,apiVersion:T},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(r=C.timeout)!==null&&r!==void 0?r:Pr.DEFAULT_TIMEOUT,this.logger=(a=C.logger)!==null&&a!==void 0?a:console;const x="warn";this.logLevel=x,this.logLevel=(f=(c=Lf(C.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:Lf(Pl("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:x,this.fetchOptions=C.fetchOptions,this.maxRetries=(h=C.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(g=C.fetch)!==null&&g!==void 0?g:$T(),this.encoder=KT,this._options=C,this.apiKey=y,this.apiVersion=T,this.clientAdapter=C.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=Xo([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Xo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Xo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,r])=>typeof r<"u").map(([i,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(i)}=`;throw new Tt(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${eo}`}defaultIdempotencyKey(){return`stainless-node-retry-${MT()}`}makeStatusError(e,i,r,a){return je.generate(e,i,r,a)}buildURL(e,i,r){const a=!this.baseURLOverridden()&&r||this.baseURL,c=kT(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return UT(f)||(i=Object.assign(Object.assign({},f),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(c.search=this.stringifyQuery(i)),c.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:r}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,r){return this.request(Promise.resolve(r).then(a=>Object.assign({method:e,path:i},a)))}request(e,i=null){return new ea(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,r){var a,c,f;const h=await e,g=(a=h.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i==null&&(i=g),await this.prepareOptions(h);const{req:m,url:y,timeout:T}=await this.buildRequest(h,{retryCount:g-i});await this.prepareRequest(m,{url:y,options:h});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=r===void 0?"":`, retryOf: ${r}`,x=Date.now();if(be(this).debug(`[${E}] sending request`,Rn({retryOfRequestLogID:r,method:h.method,url:y,options:h,headers:m.headers})),!((c=h.signal)===null||c===void 0)&&c.aborted)throw new Bl;const k=new AbortController,P=await this.fetchWithTimeout(y,m,T,k).catch(Hl),F=Date.now();if(P instanceof globalThis.Error){const H=`retrying, ${i} attempts remaining`;if(!((f=h.signal)===null||f===void 0)&&f.aborted)throw new Bl;const J=Gl(P)||/timed? ?out/i.test(String(P)+("cause"in P?String(P.cause):""));if(i)return be(this).info(`[${E}] connection ${J?"timed out":"failed"} - ${H}`),be(this).debug(`[${E}] connection ${J?"timed out":"failed"} (${H})`,Rn({retryOfRequestLogID:r,url:y,durationMs:F-x,message:P.message})),this.retryRequest(h,i,r??E);throw be(this).info(`[${E}] connection ${J?"timed out":"failed"} - error; no more retries left`),be(this).debug(`[${E}] connection ${J?"timed out":"failed"} (error; no more retries left)`,Rn({retryOfRequestLogID:r,url:y,durationMs:F-x,message:P.message})),J?new up:new Ar({cause:P})}const q=`[${E}${C}] ${m.method} ${y} ${P.ok?"succeeded":"failed"} with status ${P.status} in ${F-x}ms`;if(!P.ok){const H=await this.shouldRetry(P);if(i&&H){const Y=`retrying, ${i} attempts remaining`;return await WT(P.body),be(this).info(`${q} - ${Y}`),be(this).debug(`[${E}] response error (${Y})`,Rn({retryOfRequestLogID:r,url:P.url,status:P.status,headers:P.headers,durationMs:F-x})),this.retryRequest(h,i,r??E,P.headers)}const J=H?"error; no more retries left":"error; not retryable";be(this).info(`${q} - ${J}`);const Z=await P.text().catch(Y=>Hl(Y).message),ee=GT(Z),b=ee?void 0:Z;throw be(this).debug(`[${E}] response error (${J})`,Rn({retryOfRequestLogID:r,url:P.url,status:P.status,headers:P.headers,message:b,durationMs:Date.now()-x})),this.makeStatusError(P.status,ee,b,P.headers)}return be(this).info(q),be(this).debug(`[${E}] response start`,Rn({retryOfRequestLogID:r,url:P.url,status:P.status,headers:P.headers,durationMs:F-x})),{response:P,options:h,controller:k,requestLogID:E,retryOfRequestLogID:r,startTime:x}}async fetchWithTimeout(e,i,r,a){const c=i||{},{signal:f,method:h}=c,g=Tr(c,["signal","method"]);f&&f.addEventListener("abort",()=>a.abort());const m=setTimeout(()=>a.abort(),r),y=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,T=Object.assign(Object.assign(Object.assign({signal:a.signal},y?{duplex:"half"}:{}),{method:"GET"}),g);h&&(T.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,T)}finally{clearTimeout(m)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,r,a){var c;let f;const h=a==null?void 0:a.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(f=m)}const g=a==null?void 0:a.get("retry-after");if(g&&!f){const m=parseFloat(g);Number.isNaN(m)?f=Date.parse(g)-Date.now():f=m*1e3}if(!(f&&0<=f&&f<60*1e3)){const m=(c=e.maxRetries)!==null&&c!==void 0?c:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(i,m)}return await HT(f),this.makeRequest(e,i-1,r)}calculateDefaultRetryTimeoutMillis(e,i){const c=i-e,f=Math.min(.5*Math.pow(2,c),8),h=1-Math.random()*.25;return f*h*1e3}async buildRequest(e,{retryCount:i=0}={}){var r,a,c;const f=Object.assign({},e),{method:h,path:g,query:m,defaultBaseURL:y}=f,T=this.buildURL(g,m,y);"timeout"in f&&VT("timeout",f.timeout),f.timeout=(r=f.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:E,body:C}=this.buildBody({options:f}),x=await this.buildHeaders({options:e,method:h,bodyHeaders:E,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:x},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(c=f.fetchOptions)!==null&&c!==void 0?c:{}),url:T,timeout:f.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:r,retryCount:a}){let c={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let h=Xo([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),JT()),this._options.defaultHeaders,r,e.headers,f]);return this.validateHeaders(h),h.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Xo([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:OT(e)}:this.encoder({body:e,headers:r})}}Pr.DEFAULT_TIMEOUT=6e4;class ze extends Pr{constructor(){super(...arguments),this.interactions=new wp(this)}}Rp=ze;ze.GeminiNextGenAPIClient=Rp;ze.GeminiNextGenAPIClientError=Tt;ze.APIError=je;ze.APIConnectionError=Ar;ze.APIConnectionTimeoutError=up;ze.APIUserAbortError=Bl;ze.NotFoundError=pp;ze.ConflictError=hp;ze.RateLimitError=gp;ze.BadRequestError=cp;ze.AuthenticationError=dp;ze.InternalServerError=vp;ze.PermissionDeniedError=fp;ze.UnprocessableEntityError=mp;ze.toFile=bT;ze.Interactions=wp;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d_(n,e){const i={},r=l(n,["name"]);return r!=null&&u(i,["_url","name"],r),i}function f_(n,e){const i={},r=l(n,["name"]);return r!=null&&u(i,["_url","name"],r),i}function p_(n,e){const i={},r=l(n,["sdkHttpResponse"]);return r!=null&&u(i,["sdkHttpResponse"],r),i}function h_(n,e){const i={},r=l(n,["sdkHttpResponse"]);return r!=null&&u(i,["sdkHttpResponse"],r),i}function m_(n,e,i){const r={};if(l(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=l(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&u(e,["displayName"],a),l(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=l(n,["epochCount"]);e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","epochCount"],c);const f=l(n,["learningRateMultiplier"]);if(f!=null&&u(r,["tuningTask","hyperparameters","learningRateMultiplier"],f),l(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=l(n,["batchSize"]);e!==void 0&&h!=null&&u(e,["tuningTask","hyperparameters","batchSize"],h);const g=l(n,["learningRate"]);if(e!==void 0&&g!=null&&u(e,["tuningTask","hyperparameters","learningRate"],g),l(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function g_(n,e,i){const r={};let a=l(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const C=l(n,["validationDataset"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec"],Ff(C))}else if(a==="PREFERENCE_TUNING"){const C=l(n,["validationDataset"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec"],Ff(C))}const c=l(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&u(e,["tunedModelDisplayName"],c);const f=l(n,["description"]);e!==void 0&&f!=null&&u(e,["description"],f);let h=l(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=l(n,["epochCount"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(h==="PREFERENCE_TUNING"){const C=l(n,["epochCount"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let g=l(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=l(n,["learningRateMultiplier"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(g==="PREFERENCE_TUNING"){const C=l(n,["learningRateMultiplier"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let m=l(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const C=l(n,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(m==="PREFERENCE_TUNING"){const C=l(n,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let y=l(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=l(n,["adapterSize"]);e!==void 0&&C!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(y==="PREFERENCE_TUNING"){const C=l(n,["adapterSize"]);e!==void 0&&C!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(l(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=l(n,["labels"]);e!==void 0&&T!=null&&u(e,["labels"],T);const E=l(n,["beta"]);return e!==void 0&&E!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","beta"],E),r}function v_(n,e){const i={},r=l(n,["baseModel"]);r!=null&&u(i,["baseModel"],r);const a=l(n,["preTunedModel"]);a!=null&&u(i,["preTunedModel"],a);const c=l(n,["trainingDataset"]);c!=null&&P_(c);const f=l(n,["config"]);return f!=null&&m_(f,i),i}function y_(n,e){const i={},r=l(n,["baseModel"]);r!=null&&u(i,["baseModel"],r);const a=l(n,["preTunedModel"]);a!=null&&u(i,["preTunedModel"],a);const c=l(n,["trainingDataset"]);c!=null&&N_(c,i,e);const f=l(n,["config"]);return f!=null&&g_(f,i,e),i}function E_(n,e){const i={},r=l(n,["name"]);return r!=null&&u(i,["_url","name"],r),i}function T_(n,e){const i={},r=l(n,["name"]);return r!=null&&u(i,["_url","name"],r),i}function __(n,e,i){const r={},a=l(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=l(n,["pageToken"]);e!==void 0&&c!=null&&u(e,["_query","pageToken"],c);const f=l(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),r}function S_(n,e,i){const r={},a=l(n,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=l(n,["pageToken"]);e!==void 0&&c!=null&&u(e,["_query","pageToken"],c);const f=l(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),r}function C_(n,e){const i={},r=l(n,["config"]);return r!=null&&__(r,i),i}function I_(n,e){const i={},r=l(n,["config"]);return r!=null&&S_(r,i),i}function w_(n,e){const i={},r=l(n,["sdkHttpResponse"]);r!=null&&u(i,["sdkHttpResponse"],r);const a=l(n,["nextPageToken"]);a!=null&&u(i,["nextPageToken"],a);const c=l(n,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>Pp(h))),u(i,["tuningJobs"],f)}return i}function A_(n,e){const i={},r=l(n,["sdkHttpResponse"]);r!=null&&u(i,["sdkHttpResponse"],r);const a=l(n,["nextPageToken"]);a!=null&&u(i,["nextPageToken"],a);const c=l(n,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>Jl(h))),u(i,["tuningJobs"],f)}return i}function R_(n,e){const i={},r=l(n,["name"]);r!=null&&u(i,["model"],r);const a=l(n,["name"]);return a!=null&&u(i,["endpoint"],a),i}function P_(n,e){const i={};if(l(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=l(n,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),u(i,["examples","examples"],a)}return i}function N_(n,e,i){const r={};let a=l(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const f=l(n,["gcsUri"]);e!==void 0&&f!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(a==="PREFERENCE_TUNING"){const f=l(n,["gcsUri"]);e!==void 0&&f!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let c=l(i,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=l(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(c==="PREFERENCE_TUNING"){const f=l(n,["vertexDatasetResource"]);e!==void 0&&f!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(l(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Pp(n,e){const i={},r=l(n,["sdkHttpResponse"]);r!=null&&u(i,["sdkHttpResponse"],r);const a=l(n,["name"]);a!=null&&u(i,["name"],a);const c=l(n,["state"]);c!=null&&u(i,["state"],$f(c));const f=l(n,["createTime"]);f!=null&&u(i,["createTime"],f);const h=l(n,["tuningTask","startTime"]);h!=null&&u(i,["startTime"],h);const g=l(n,["tuningTask","completeTime"]);g!=null&&u(i,["endTime"],g);const m=l(n,["updateTime"]);m!=null&&u(i,["updateTime"],m);const y=l(n,["description"]);y!=null&&u(i,["description"],y);const T=l(n,["baseModel"]);T!=null&&u(i,["baseModel"],T);const E=l(n,["_self"]);return E!=null&&u(i,["tunedModel"],R_(E)),i}function Jl(n,e){const i={},r=l(n,["sdkHttpResponse"]);r!=null&&u(i,["sdkHttpResponse"],r);const a=l(n,["name"]);a!=null&&u(i,["name"],a);const c=l(n,["state"]);c!=null&&u(i,["state"],$f(c));const f=l(n,["createTime"]);f!=null&&u(i,["createTime"],f);const h=l(n,["startTime"]);h!=null&&u(i,["startTime"],h);const g=l(n,["endTime"]);g!=null&&u(i,["endTime"],g);const m=l(n,["updateTime"]);m!=null&&u(i,["updateTime"],m);const y=l(n,["error"]);y!=null&&u(i,["error"],y);const T=l(n,["description"]);T!=null&&u(i,["description"],T);const E=l(n,["baseModel"]);E!=null&&u(i,["baseModel"],E);const C=l(n,["tunedModel"]);C!=null&&u(i,["tunedModel"],C);const x=l(n,["preTunedModel"]);x!=null&&u(i,["preTunedModel"],x);const k=l(n,["supervisedTuningSpec"]);k!=null&&u(i,["supervisedTuningSpec"],k);const P=l(n,["preferenceOptimizationSpec"]);P!=null&&u(i,["preferenceOptimizationSpec"],P);const F=l(n,["tuningDataStats"]);F!=null&&u(i,["tuningDataStats"],F);const q=l(n,["encryptionSpec"]);q!=null&&u(i,["encryptionSpec"],q);const H=l(n,["partnerModelTuningSpec"]);H!=null&&u(i,["partnerModelTuningSpec"],H);const J=l(n,["customBaseModel"]);J!=null&&u(i,["customBaseModel"],J);const Z=l(n,["experiment"]);Z!=null&&u(i,["experiment"],Z);const ee=l(n,["labels"]);ee!=null&&u(i,["labels"],ee);const b=l(n,["outputUri"]);b!=null&&u(i,["outputUri"],b);const fe=l(n,["pipelineJob"]);fe!=null&&u(i,["pipelineJob"],fe);const Y=l(n,["serviceAccount"]);Y!=null&&u(i,["serviceAccount"],Y);const le=l(n,["tunedModelDisplayName"]);le!=null&&u(i,["tunedModelDisplayName"],le);const Te=l(n,["veoTuningSpec"]);return Te!=null&&u(i,["veoTuningSpec"],Te),i}function M_(n,e){const i={},r=l(n,["sdkHttpResponse"]);r!=null&&u(i,["sdkHttpResponse"],r);const a=l(n,["name"]);a!=null&&u(i,["name"],a);const c=l(n,["metadata"]);c!=null&&u(i,["metadata"],c);const f=l(n,["done"]);f!=null&&u(i,["done"],f);const h=l(n,["error"]);return h!=null&&u(i,["error"],h),i}function Ff(n,e){const i={},r=l(n,["gcsUri"]);r!=null&&u(i,["validationDatasetUri"],r);const a=l(n,["vertexDatasetResource"]);return a!=null&&u(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x_ extends Ot{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Pn($t.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var r;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((r=i.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},i),{preTunedModel:a});return c.baseModel=void 0,await this.tuneInternal(c)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),c=await this.tuneMldevInternal(a);let f="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?f=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(f=c.name.split("/operations/")[0]),{name:f,state:Ml.JOB_STATE_QUEUED}}}}async getInternal(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=T_(e);return h=z("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>Jl(y))}else{const m=E_(e);return h=z("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>Pp(y))}}async listInternal(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=I_(e);return h=z("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=A_(y),E=new af;return Object.assign(E,T),E})}else{const m=C_(e);return h=z("tunedModels",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=w_(y),E=new af;return Object.assign(E,T),E})}}async cancel(e){var i,r,a,c;let f,h="",g={};if(this.apiClient.isVertexAI()){const m=f_(e);return h=z("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=h_(y),E=new uf;return Object.assign(E,T),E})}else{const m=d_(e);return h=z("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),f.then(y=>{const T=p_(y),E=new uf;return Object.assign(E,T),E})}}async tuneInternal(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI()){const h=y_(e,e);return c=z("tuningJobs",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>Jl(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,r;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=v_(e);return c=z("tunedModels",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>M_(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k_{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const D_=1024*1024*8,L_=3,U_=1e3,F_=2,Sr="x-goog-upload-status";async function V_(n,e,i){var r;const a=await Np(n,e,i),c=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[Sr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function G_(n,e,i){var r;const a=await Np(n,e,i),c=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[Sr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=Gf(c),h=new Kl;return Object.assign(h,f),h}async function Np(n,e,i){var r,a;let c=0,f=0,h=new kl(new Response),g="upload";for(c=n.size;f<c;){const m=Math.min(D_,c-f),y=n.slice(f,f+m);f+m>=c&&(g+=", finalize");let T=0,E=U_;for(;T<L_&&(h=await i.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(f),"Content-Length":String(m)}}}),!(!((r=h==null?void 0:h.headers)===null||r===void 0)&&r[Sr]));)T++,await B_(E),E=E*F_;if(f+=m,((a=h==null?void 0:h.headers)===null||a===void 0?void 0:a[Sr])!=="active")break;if(c<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function H_(n){return{size:n.size,type:n.type}}function B_(n){return new Promise(e=>setTimeout(e,n))}class q_{async upload(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await V_(e,i,r)}async uploadToFileSearchStore(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await G_(e,i,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await H_(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z_{create(e,i,r){return new J_(e,i,r)}}class J_{constructor(e,i,r){this.url=e,this.headers=i,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vf="x-goog-api-key";class $_{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(Vf)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Vf,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const O_="gl-node/";class W_{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new ze({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const r=Hm(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new $_(this.apiKey);this.apiClient=new HE({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:O_+"web",uploader:new q_,downloader:new k_}),this.models=new iT(this.apiClient),this.live=new bE(this.apiClient,a,new z_),this.batches=new hv(this.apiClient),this.chats=new Qv(this.models,this.apiClient),this.caches=new Wv(this.apiClient),this.files=new ry(this.apiClient),this.operations=new rT(this.apiClient),this.authTokens=new _T(this.apiClient),this.tunings=new x_(this.apiClient),this.fileSearchStores=new NT(this.apiClient)}}const K_=()=>{const[n,e]=vt.useState(null),[i,r]=vt.useState(null),[a,c]=vt.useState(""),[f,h]=vt.useState(""),[g,m]=vt.useState(!1),[y,T]=vt.useState(!1),[E,C]=vt.useState(null),[x,k]=vt.useState([]),[P,F]=vt.useState(""),[q,H]=vt.useState(!1);vt.useEffect(()=>{try{const j=localStorage.getItem("customTranslations");j&&k(JSON.parse(j))}catch(j){console.error("Failed to parse custom translations from localStorage",j)}},[]),vt.useEffect(()=>{localStorage.setItem("customTranslations",JSON.stringify(x))},[x]);const J="AIzaSyCJPOlIdx3cZvu1DE5cXw7BLGReiPAVf3w",Z=new W_({apiKey:J}),ee=async j=>({inlineData:{data:await new Promise(pe=>{const xe=new FileReader;xe.onloadend=()=>pe(xe.result.split(",")[1]),xe.readAsDataURL(j)}),mimeType:j.type}}),b=j=>{var pe;const oe=(pe=j.target.files)==null?void 0:pe[0];oe&&(e(oe),r(URL.createObjectURL(oe)),c(""),h(""),C(null))},fe=async()=>{if(!n){C("Please upload an image first.");return}m(!0),C(null),c(""),h("");try{const j=await ee(n),oe=await Z.models.generateContent({model:"gemini-1.5-flash",contents:{parts:[{text:"Extract all the English words from this image. If no text is found, return an empty response."},j]}});c(oe.text||"")}catch(j){console.error("Extraction Error:",j),C(j instanceof Error?j.message:"An unknown error occurred during text extraction.")}finally{m(!1)}},Y=async()=>{if(!a){C("There is no text to translate.");return}T(!0),C(null),h("");try{let j=`Translate the following English text to Bisaya: "${a}"`;x.length>0&&(j=`Translate the following English text to Bisaya. You must follow these translation rules strictly: ${x.map(xe=>`'${xe.english.trim()}' must be translated as '${xe.bisaya.trim()}'`).join(", ")}. Do not deviate from these rules. The text to translate is: "${a}"`);const oe=await Z.models.generateContent({model:"gemini-1.5-flash",contents:{parts:[{text:j}]}});h(oe.text||"")}catch(j){console.error("Translation Error:",j),C(j instanceof Error?j.message:"An unknown error occurred during translation.")}finally{T(!1)}},le=async()=>{if(!P.trim())return;H(!0),C(null);const j={type:yt.ARRAY,items:{type:yt.OBJECT,properties:{english:{type:yt.STRING},bisaya:{type:yt.STRING}},required:["english","bisaya"]}},oe=`Parse the following text and extract English to Bisaya translation pairs. The pairs can be separated by newlines, commas, or other delimiters, and the words themselves can be separated by ' - ', ':', or other common separators. Return the result as a JSON array of objects, where each object has "english" and "bisaya" keys. If no pairs are found, return an empty array. The text is: "${P}"`;try{const xe=(await Z.models.generateContent({model:"gemini-1.5-flash",contents:{parts:[{text:oe}]},config:{responseMimeType:"application/json",responseSchema:j}})).text||"[]",Ue=JSON.parse(xe);if(Array.isArray(Ue)){const he=Ue.filter(B=>B.english&&B.bisaya);k(B=>[...B,...he]),F("")}else throw new Error("The model did not return a valid list of translations.")}catch(pe){console.error("Bulk Add Error:",pe),C(pe instanceof Error?pe.message:"An unknown error occurred while adding custom translations.")}finally{H(!1)}},Te=j=>{k(x.filter((oe,pe)=>pe!==j))};return ae.jsxs("div",{className:"container",children:[ae.jsx("h1",{children:"Image Translator"}),ae.jsxs("div",{className:"section",children:[ae.jsx("h2",{children:"Step 1: Get English Text"}),ae.jsx("p",{className:"description",children:"Upload an image to extract text, or type/paste text directly in the box below."}),ae.jsxs("div",{className:"file-uploader",children:[ae.jsx("label",{htmlFor:"image-upload",className:"file-uploader-label",children:"Upload an Image"}),ae.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:b})]}),i&&ae.jsx("div",{className:"image-preview",children:ae.jsx("img",{src:i,alt:"Uploaded preview"})}),ae.jsx("div",{className:"controls",children:ae.jsx("button",{className:"button",onClick:fe,disabled:!n||g,children:g?"Reading...":"Read Text from Image"})})]}),ae.jsxs("div",{className:"section",children:[ae.jsx("h2",{children:"Step 2: Translate"}),ae.jsxs("div",{className:"translation-box",children:[ae.jsx("h3",{children:"English Text"}),ae.jsxs("div",{className:"result-container","aria-live":"polite",children:[g&&ae.jsx("div",{className:"spinner",role:"status","aria-label":"Extracting text"}),ae.jsx("textarea",{className:"text-box",value:a,onChange:j=>c(j.target.value),placeholder:"Text from image will appear here, or you can paste your own text to translate.","aria-label":"English text to translate"})]})]}),ae.jsx("div",{className:"controls",children:ae.jsx("button",{className:"button",onClick:Y,disabled:y||!a,children:y?"Translating...":"Translate to Bisaya"})}),ae.jsxs("div",{className:"translation-box",children:[ae.jsx("h3",{children:"Translated Bisaya Text"}),ae.jsxs("div",{className:"result-container","aria-live":"polite",children:[y&&ae.jsx("div",{className:"spinner",role:"status","aria-label":"Translating text"}),ae.jsx("textarea",{className:"text-box",value:f,readOnly:!0,placeholder:"Translated text will appear here...","aria-label":"Translated Bisaya Text"})]})]})]}),ae.jsxs("div",{className:"section settings-section",children:[ae.jsx("h2",{children:"Custom Translations"}),ae.jsxs("p",{className:"description",children:["Paste a list of translations below and the AI will add them to your rules.",ae.jsx("br",{}),"For example: ",ae.jsx("code",{children:"church - simbahan, house: balay"})]}),ae.jsxs("div",{className:"custom-translation-form",children:[ae.jsx("textarea",{className:"text-box",placeholder:"Paste your translations here...",value:P,onChange:j=>F(j.target.value),"aria-label":"Bulk add custom translations"}),ae.jsx("div",{className:"controls",children:ae.jsx("button",{className:"button",onClick:le,disabled:q||!P.trim(),children:q?"Adding...":"Add Translations"})})]}),ae.jsx("div",{className:"custom-translation-list",children:x.map((j,oe)=>ae.jsxs("div",{className:"custom-translation-item",children:[ae.jsxs("span",{children:[ae.jsx("strong",{children:j.english}),"  ",j.bisaya]}),ae.jsx("button",{className:"delete-button",onClick:()=>Te(oe),"aria-label":`Delete custom translation for ${j.english}`,children:""})]},oe))})]}),E&&ae.jsx("div",{className:"error-message",role:"alert",children:E})]})},Y_=Lm.createRoot(document.getElementById("root"));Y_.render(ae.jsx(K_,{}));
